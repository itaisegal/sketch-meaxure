<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <title>Spec Export - Sketch MeaXure</title>
    <link rel="stylesheet" href="data:text/css;base64,ICAgIC8qISBub3JtYWxpemUuY3NzIHY0LjEuMSB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9uZWNvbGFzL25vcm1hbGl6ZS5jc3MgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLG1haW4sbWVudSxuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9cHJvZ3Jlc3N7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9dGVtcGxhdGUsW2hpZGRlbl17ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LXRleHQtZGVjb3JhdGlvbi1za2lwOm9iamVjdHN9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lLXdpZHRoOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbTowO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9YixzdHJvbmd7Zm9udC13ZWlnaHQ6aW5oZXJpdH1iLHN0cm9uZ3tmb250LXdlaWdodDpib2xkZXJ9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW07bWFyZ2luOi42N2VtIDB9bWFya3tiYWNrZ3JvdW5kLWNvbG9yOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1Yntib3R0b206LTAuMjVlbX1zdXB7dG9wOi0wLjVlbX1pbWd7Ym9yZGVyLXN0eWxlOm5vbmV9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3g7aGVpZ2h0OjA7b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24saW5wdXQsc2VsZWN0LHRleHRhcmVhe2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1vcHRncm91cHtmb250LXdlaWdodDpib2xkfWJ1dHRvbixpbnB1dHtvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBbdHlwZT0iYnV0dG9uIl0sW3R5cGU9InJlc2V0Il0sW3R5cGU9InN1Ym1pdCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFt0eXBlPSJidXR0b24iXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0icmVzZXQiXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0ic3VibWl0Il06Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyLXN0eWxlOm5vbmU7cGFkZGluZzowfWJ1dHRvbjotbW96LWZvY3VzcmluZyxbdHlwZT0iYnV0dG9uIl06LW1vei1mb2N1c3JpbmcsW3R5cGU9InJlc2V0Il06LW1vei1mb2N1c3JpbmcsW3R5cGU9InN1Ym1pdCJdOi1tb3otZm9jdXNyaW5ne291dGxpbmU6MXB4IGRvdHRlZCBCdXR0b25UZXh0fWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOmluaGVyaXQ7ZGlzcGxheTp0YWJsZTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjA7d2hpdGUtc3BhY2U6bm9ybWFsfXRleHRhcmVhe292ZXJmbG93OmF1dG99W3R5cGU9ImNoZWNrYm94Il0sW3R5cGU9InJhZGlvIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1bdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sW3R5cGU9Im51bWJlciJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfVt0eXBlPSJzZWFyY2giXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO291dGxpbmUtb2Zmc2V0Oi0ycHh9W3R5cGU9InNlYXJjaCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLFt0eXBlPSJzZWFyY2giXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX06Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6aW5oZXJpdDtvcGFjaXR5Oi41NH06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Zm9udDppbmhlcml0fQoqIHsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYmFja2dyb3VuZDogIzIwMjEyMzsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC42NCk7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyLAo6Oi13ZWJraXQtcmVzaXplciB7CiAgICBiYWNrZ3JvdW5kOiAjMjAyMTIzOwp9CgpodG1sIHsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogMTAwdmg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9Cgpib2R5IHsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgbWluLXdpZHRoOiAxMDI0cHg7CiAgICBmb250LWZhbWlseTogSGVsdmV0aWNhTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGNvbG9yOiAjOTg5QTlDOwogICAgYmFja2dyb3VuZDogIzE5MTkxOTsKICAgIGxldHRlci1zcGFjaW5nOiAxcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9CgpoZWFkZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiA2MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAyMTU7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwp9CgpoZWFkZXIgLmhlYWRlci1jZW50ZXIsCmhlYWRlciAuaGVhZGVyLWxlZnQsCmhlYWRlciAuaGVhZGVyLXJpZ2h0IHsKICAgIHdpZHRoOiAyNDBweDsKICAgIGhlaWdodDogNjBweDsKICAgIGJhY2tncm91bmQ6ICMwRjBGMEY7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGJhY2tncm91bmQ6ICMwMDA7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuem9vbS13aWRnZXQgewogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiAxNjBweDsKfQoKaGVhZGVyIC5oZWFkZXItY2VudGVyIGgxIHsKICAgIGZsZXg6IDE7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlLApoZWFkZXIgLmhlYWRlci1jZW50ZXIgLnNob3ctbm90ZXMgewogICAgcGFkZGluZzogMjBweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgbGluZS1oZWlnaHQ6IDIwcHg7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlIC5zbGlkZWJveCwKaGVhZGVyIC5oZWFkZXItY2VudGVyIC5zaG93LW5vdGVzIC5zbGlkZWJveCB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsKfQoKaGVhZGVyIC5oZWFkZXItbGVmdCB7CiAgICBkaXNwbGF5OiBmbGV4Owp9Cgouem9vbS13aWRnZXQgewogICAgZGlzcGxheTogZmxleDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJvcmRlcjogMDsKICAgIGJhY2tncm91bmQ6ICMzNDg0RjU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi56b29tLXdpZGdldCBidXR0b246YWZ0ZXIsCi56b29tLXdpZGdldCBidXR0b246YmVmb3JlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogOXB4OwogICAgbGVmdDogNXB4OwogICAgY29udGVudDogIiI7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAxMHB4OwogICAgaGVpZ2h0OiAycHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmFmdGVyIHsKICAgIHRvcDogNXB4OwogICAgbGVmdDogOXB4OwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMTBweDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbjpkaXNhYmxlZCB7CiAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgY3Vyc29yOiBkZWZhdWx0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmFmdGVyLAouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kOiAjNjA2MjY0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uLnpvb20taW46YWZ0ZXIgewogICAgZGlzcGxheTogbm9uZTsKfQoKLnpvb20td2lkZ2V0IC56b29tLXRleHQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBsaW5lLWhlaWdodDogMjBweDsKICAgIGZsZXg6IDE7Cn0KCi51bml0LWJveCB7CiAgICBoZWlnaHQ6IDYwcHg7Cn0KCi51bml0LWJveCAub3ZlcmxheSB7CiAgICBjb250ZW50OiAiIjsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNjBweDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2MHB4KTsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC41Nik7CiAgICB6LWluZGV4OiAxOwp9CgoudW5pdC1ib3g6Zm9jdXMgLm92ZXJsYXkgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi51bml0LWJveDpmb2N1cyB7CiAgICBoZWlnaHQ6IGF1dG87CiAgICBvdXRsaW5lOiAwOwp9CgoudW5pdC1ib3ggaDMsCi51bml0LWJveCBwIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHggMjBweCAyMHB4IDU0cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGhlaWdodDogMTAwJTsKICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnVuaXQtYm94IGgzLAoudW5pdC1ib3g6Zm9jdXMgcCB7CiAgICBkaXNwbGF5OiBub25lOwp9CgoudW5pdC1ib3ggaDM6YmVmb3JlLAoudW5pdC1ib3ggcDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxOHB4OwogICAgbGVmdDogMThweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURBQUFBQXdBZ01BQUFBcWJCRVVBQUFBREZCTVZFVUFBQUJoWTJWZ1pHZGdZbVJ1YnhCQ0FBQUFBM1JTVGxNQTVFcFdiVnE0QUFBQUxVbEVRVlFvejJPZ091RDhEd1Rmb0J4MkVPY3ZsTVAvSHdTd2NzREVLSWVLSEVUd0V1WmdSQllpR3FrTkFGSlBOVDlTdzNkL0FBQUFBRWxGVGtTdVFtQ0MpIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyNHB4Owp9CgoudW5pdC1ib3ggdWwgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAxcHggMCAwIDI0MHB4OwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgd2lkdGg6IDI0MHB4OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjFweCk7CiAgICBvdmVyZmxvdzogYXV0bzsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgdHJhbnNpdGlvbjogYWxsIC4xNXMgZWFzZTsKICAgIHotaW5kZXg6IDI7Cn0KCi51bml0LWJveDpmb2N1cyBoMyB7CiAgICBjb2xvcjogIzNBM0EzQTsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgoudW5pdC1ib3g6Zm9jdXMgdWwgewogICAgbWFyZ2luOiAxcHggMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSwKLnVuaXQtYm94IGxhYmVsIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBwYWRkaW5nOiAxNHB4IDIwcHg7Cn0KCi51bml0LWJveCBsYWJlbCB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi51bml0LWJveCBsaTpob3ZlciBsYWJlbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLnBhZ2UtbGlzdCBsYWJlbCBzcGFuLAoudW5pdC1ib3ggbGFiZWwgc3BhbiB7CiAgICBmbGV4OiAxOwp9CgoucGFnZS1saXN0IGlucHV0LAoudW5pdC1ib3ggaW5wdXQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgoucGFnZS1saXN0IHNwYW46YmVmb3JlLAoudW5pdC1ib3ggc3BhbjpiZWZvcmUgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiAxNnB4OwogICAgaGVpZ2h0OiAxNnB4Owp9CgoucGFnZS1saXN0IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUsCi5wYWdlLWxpc3QgbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUsCi51bml0LWJveCBpbnB1dDpjaGVja2VkK3NwYW46YmVmb3JlLAoudW5pdC1ib3ggbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1FBQUFESUNBTUFBQUFwNHJUekFBQUFhVkJNVkVVQUFBQ1ltNXlZbTUwMGhQYURvTUtZdWNzMGhmYVltNTJabnA2Ym5aMDFoZmVZbkoyWm01NDBodmM4aXY4MWhQV1ltNTJZbkoyWm5KMDFoL2cyaWZtY25KdzRoL28xaGZZMWhmVTFoZlkxaGZVMWhmWTBoZmFabko0MWhmWTJoL2FZbkp3MGhmVTBoUGJwayt3QUFBQUFJblJTVGxNQW81TG1DQVAwbkRJVmVIRk5TZzZkaUdWWk5DY2lHdHZTdzdhcmozeHBWa1NFVHZRT21RQUFBUGxKUkVGVWVOcnQxTXR1d2pBUWhlRnhZaE55SVVCQ3dxWGNPdS8va0hXTWw2d3FSbFdsLzF0WXM1b2p6WkVzQUg3clVaWWJNWFpYMVZKc2ZhdDVTTmhxdERJOWwvK3l5dWlicHMvVE9kMXFsTSs3cUI3blpaaFBLZU1nQmxaNTgrR28wV2tXQzYrdXg3SFU2TnlMaWR6MmFua3ZYb3lFcTJiYklIWWFUYTVpNnE1Ukk4WTJaZmtRQUFBQUFBQUFBQUFBQUFBQTRLMTFVYXpGMk5NNVY0aXR3Wm1IaEwyTEt0TnpoZFlxdzNlZHo5TXQzV3FTejJ1ZDI5WExVTzlTUmkwR3FyeTVMcHhMZVJaZVhVOVR5cmg1TVpIYnJwYTM5V0lrREM3YkI3SFR1V1FRVTA4WGRmTE9QL3NWQVFBQUFBQUFBQUFBQUFENFl6ODRoZzhxbEdUWmVRQUFBQUJKUlU1RXJrSmdnZz09KTsKICAgIGJhY2tncm91bmQtc2l6ZTogNTBweCAxMDBweDsKfQoKLnBhZ2UtbGlzdCBsYWJlbDpob3ZlciBzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGxhYmVsOmhvdmVyIHNwYW46YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTUwcHg7Cn0KCi5wYWdlLWxpc3QgaW5wdXQ6Y2hlY2tlZCtzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwogICAgY29sb3I6ICMzQTNBM0E7Cn0KCm1haW4gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7Cn0KCi5pbnNwZWN0b3IsCi5uYXZiYXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgYm90dG9tOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAyNDBweDsKICAgIGJhY2tncm91bmQ6ICMyMzI1Mjc7CiAgICB6LWluZGV4OiA1Owp9CgouaW5zcGVjdG9yIHsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7CiAgICByaWdodDogLTI0MHB4OwogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IuYWN0aXZlIHsKICAgIHJpZ2h0OiAwOwp9CgoubmF2YmFyIHsKICAgIGxlZnQ6IC0yNDBweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7Cn0KCi5uYXZiYXIub24gewogICAgbGVmdDogMDsKfQoKLm5hdmJhciBuYXYgewogICAgd2lkdGg6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwMjA0Owp9CgoubmF2YmFyIHNlY3Rpb24gewogICAgZmxleDogMTsKfQoKLnRhYiB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAxMDAlOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLnRhYiBsaSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGhlaWdodDogNjBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLnRhYiBsaS5jdXJyZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMzI1Mjc7Cn0KCi50YWIgbGk6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDQwcHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQVkxQk1WRVVBQUFCZlltVFkyTmpZMk5oZ1lHUGEydHBkWUdOZllHSFoyZGxnWUdSZlgyTFkyTmhmWUdQWjJkbGRYMlBiMjl2VjFkWFIwZEZkWVdOZ1lHUGIyOXZVMU5SZFhWMWFZV1ZkWFdOWVdHSmJZR0xYMTlmWDE5ZmEydHJYMTlmWTJOaGdZbVR1ZlhsaUFBQUFIM1JTVGxNQTgvTGpacS9tcnpISG5wM1Z5SUpxUlF2N1ZWUWJDMGNzR2pyU1g0bDY1RjBQOVFBQUF2RkpSRUZVZU5ydDNObHU0a0FVUmRIckNUTVlNOFpBR0tyKy95dWJTa2RjUkp5M09sSTZ2ZGNiajF2SVBsRWtyZ0VBQUFBQUFBQ0FVbmp5NVhNbThjbnJaMElJSVlRUVFuNVh5RE5KeUF0Q0NQblhRbjdOdzA0SUlZNkhueEJDekhqWUNTR0VFRUlJK1pFaEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRDhIT0VibGxIOEJpSGpJVFlpZDRpTklJUVFRZ2pKRStLbWk4VmFFK0tPOC9sQkhUSXRRMWlJUTk2TEdPZmlrTGQ3UjJpMEljZDdSMnkxSVc5VnVMdElRMDZUZUZkTFF6Ykw0RitJS0dTWVJmOUNWQ0ZONmxodXBDRnQ2cGdOMHBCRjZxamVUQmt5VHgyVGt5bERicW1qbkVwM3BFOGR4Vkc2STVlUXJLV0RXS2VPN1VFNmlPdVFyS1RMZnRqNkMwc1ZNaTFUeDlWRUlUNGdzVGRWaUEvSTBsUWhQaUF6VTRac3p1SERSUmd5ZFBGRHJRbnhBVkUvSTdNWXM1ZUVUejRnRC92Yy8zendBWG5ZcVVLdTN0R1lLS1QzanRaRVZ0NnhNSkhhTytZbXNuNWtsQmNUOEFGSml0b0VmRUNTYW1vaTcwWDgxQjFOd0Fja3VabUFEMGhTOU9aRUhjMmJxWnk2K0ZkN01wbGxTTXJGMURSOFFJcjUwWFNhVk5Hc05pYlVwb3EySGt6b2VtNXVVOVBxdTdaL053QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvak8zbThuMXZjbXRRbGlaV0IxamJXS1hzVnNQK1R2a0pYdS9rQ0N6MjZhUTdjNkUxdUhUMm1RT3FlUDFRbzJnUTEzaXY4b3YzazNFcnd2NDlTTkZoNjdFTzlRbFIrOTR1ZU9VKzdxQTg4dGF1YThrdU1uSjhsdUdGMHZMYmhaZnpDeTdWWGdoR01ZNnZsRE1TUlcrcUN5elNmeGlZaTdmRWpySkx1N2lpTnk3dUFoT2RYSm5IcDNzNU00NWpEaGJWbDBjMFZsZVpSaFJXbFpGSEZGWVhtR1VaYldOSTdhV1Z4V0MvTFUxaVZINjJ2STUxRTJpejZGNkVxOWh4Tld5NnVPSTN2SmFCNmY2Vy80UVJ4d3NzN1BzN2VzNjNkdlg3V1hEN25iQ1lYY0wyYTY3dVhyWC9kNnlXMjRzdTJFbWZHVjVTUk9lTkJzVEdOcjRwQjFNWTFVOXBuQmxJdlhrTVlXMXlXejJUVldXVmJQZm1NeXdhN3VpNk5yZFlBQUFBQUFBQUFBQUFBQUFBQUR3NUE5NlhEYVdlSHFwK3dBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdCAtNTBweCAwOwogICAgYmFja2dyb3VuZC1zaXplOiAxMDBweCAxNTBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi50YWIgbGkuY3VycmVudDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAwOwp9CgoudGFiIGxpLmljb24tc2xpY2VzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC01MHB4Owp9CgoudGFiIGxpLmljb24tY29sb3JzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC0xMDBweDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDE2cHg7Cn0KCiNpbnNwZWN0b3IgLmNvZGUtaXRlbS5zZWxlY3QgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAudGFiIGxpIHsKICAgIGhlaWdodDogNDBweDsKfQoKI2luc3BlY3RvciAudGFiIGxpOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQW4xQk1WRVVBQUFCZ1ltVFoyZG5mMzkvYjI5dGtaV1puYUdoZ1ltUmdZMlRaMmRscGFXL1oyZG5aMmRuYTJ0cm41K2RnWW1SZ1ltUmdZbVhCd2NIWTJOaGhZMlhaMmRsaFkyVmtaR2hrWldoZ1ltWFoyZGxnWW1SaFltVmhaR1haMmRuWjJkbmIyOXRpWkdaaFltWGEydHJiMjl2WjJkbGdZbVZnWTJUYTJ0cmIyOXRoWkdiYjI5dloyZGxnWW1UWjJkbmEydHJhMnRwaFkyWGUzdDdZMk5oZ1ltUmwreHcvQUFBQU0zUlNUbE1BOFBJZUx6QWdlOWZXRE9lSGZBejE2T0VHN1lmZWJDa1p1cm5Cc1Z2R3NUYzNqbkJUcDZmTFhVVkZKNzZaajVwb1VSVmFXN1Q1QUFBRkhrbEVRVlI0QWUzZHlWTHp5aElFNEpSczBDQVBzanpQTm1BYk1IUFYrei9iL1lXSSt4dHc2eXhPTlJHSHlHL1Z3UzVEbGJTMG9NQXZRMFJFUkVSRVJFUkU5Q0IxTWxpWWE1MGNKa0twczRhRlFPc3NZS0VodGRvd2NLbTFJbGk0a1ZvM01QQ3F0VjVob1NXMUdqQXcwRm9UV0pqOVFOZW5QOUgxaHNPTGxHYXdNTGs4YjJUWWRkU1BYQXMrRGJRMGdGZXorcTRianR3cnZNcnN1dTZVYStrU0Z0YWhnNVQ2c0xBSUhMUVV3RVFtZFdhd2tHdWRxZjk3M2FqckU2MDErQzMzK2hJVzJqOXdyMGZxWnRkMXFSUEN3a0xyQkRCeGJKNTNMYVVIV0JoZm5EZlMwaHhldFkzdmRmZklYY0dydFpSdTRkUENzT3RPUXlrZDRWTlBTMk5ZYUNXbFczejFadGoxUVZ4YTRxdUpaZGNUS1czdzFaMlVWckFRYTJtTHIrNE51MTdJdTQ2ajYwOHdVT2k3MUd2WE4vTHVlWU5QbXEzTXJ1dGJmZmU0eFNmalFXN1k5UmY1a0Z5Ly9VMlJ5SWNtREl6MFF6eWEvRTBSYThXbzY4L3kxKzd1SkVVRkZoNzEvN3I3K3pKRkZKLzh5SzdyZncyZkV6bTFnb1dEbnVvOXhucnFBQk03cVRHOGhZVzkxb2lYc1BGMm5UaFN0Sm93TW9saVBhczN1SUNoelhQNFBjVUdwcmFQM2U4cHRyRFdlVmw1VEZGSlI0ZlRGRmRiK05GODZrc3BlOXJBbC9GVjREZEZwYmlaZVV4UktaYlRmNWVDaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlxQlcyNE5zZ0dNQTdFWUZ2cXZwYmd4VCtnelNUck9rN3lFV2NYL2dPMHV5THREMEh1UWhVSTY5QnFoejloczhnVlk3ZzBrZVE5bXdZaHNtNjNhaHlOSDEwSkpyMnVrRzhpQ1pWamd1WWt4TXpQem1nSjZhZWNyVGtsSjhjQXozbEpVZG5MVitzT2pDV0x2U0xRL29UVzBCbkJXek45WnRwQVZ0dE9lTUpwaUk5NHdxbU5sSnFkOXJ5NmRDRW9hMldvalRTVDRjTEQzdUNPdWpJcDhPRC9aNmdGS2wrT3N4aHFDSG5uNGcwWUdhaTU1K0lYdnB0U09YYWEwTXFrZWxrT2N3c0o4dGhDanVKT0NRd2MxQ0hHSFpDY1FoaEpsQ0hBUFJiWFlmaUZGN0R4S2lyVHQyUmZVTzh0YVNyTmJxd0liVmdRbXY5d2lmQ2psVEVDV2FNQm90QnpEQUlnekFJZzlqSnhDR0RtVndkY3RqWmljTU9admJxc0llZFJsL082amRnWmhMb1djRUVoaHE3VEw3SmRnMFltdXh6L1NiZlQwQkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUlBUZlVkek9NbmhXTEtjNVBMc2JpdlRoMTMzUC81YUVXL2xqQmErVzFYSVhyKzZrZEEyZjdyVVV3YWNpa3ovNkhYaFU5UFNQSUlWUEwxSzZnVThqTFMzaDFZUDgwWVpYVTcrRFZlbDdMVWdscVBZSytCVU9uNDd3TE9nOWp1Rkg4MmsyVEhZM0haUTI3VlVXRHRjdkhaZ2FYMDNqdzM2Wm9yU041bmszWG94U1dEbyt5SWYxN1YxcktCWGJxb3puV3VrdWx2ZURubjdvUnJCekU0ckRRd0VqcjRFNnpGUFRHOUJoWjNrRE91eTkvc2x4WmJpQmlVbXVUcjB0YkR5TFU5S0JqVWQxaWxQWTZJVGlFaDVoSXczVUpSakR5SXM0dFdCa3BFNERXTm1KMHhGRzl1bzBocFdWdUdTd01sZVhIR1l5Y1ZuQlNrOWREakFqUHhCRWZ5Skk5Z09qbGF0TEQyWVNjV3JBU0t4T2w3QXlFNmMyakV6VktZS1ZsamlGYi9hN3NQM3RSYmtUdDFYaC81WFI3T1cza0Jxck4xaEl0Y1o4NHJja2xlekZaMGtxK1FnbWJxVE9BeXk4YXAwNWJBeWx4cTNYdTcyeWhJMXJjVXY4di85cURDTkZJazUzc0ZIRTZuUVAvNytCWjdCeXJ5NVQySG4yL1lsWTg3WGJIY05Pa2Zoc2VpV04vVGE5MHNqOC8zT0Z5MXpQdUlLdFl5THZrdWRXYXkyVkZteU5ZMzBYUDBaWGk2NTlqa3FubFlTcjlyRTYzK3lHMlhvRGEra2dEZzdSdURxLzd1UGVZZ3NpSWlJaUlpSWlJaUlpSWlJaUlpS2lmL1kvamxGR2VjS0FVbk1BQUFBQVNVVk9SSzVDWUlJPSk7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5zZWxlY3QgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpOwp9CgojaW5zcGVjdG9yIC50YWIgbGkuc2VsZWN0OmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXg6IDA7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWFuZHJvaWQtcGFuZWw6YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb24teTogLTUwcHg7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWlvcy1wYW5lbDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi15OiAtMTAwcHg7Cn0KCi5zY3JlZW4tdmlld2VyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpOwogICAgYmFja2dyb3VuZDogIzE5MTkxOSB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQVFNQUFBQkp0T2kzQUFBQUJsQk1WRVVBQUFBQUFBQ2xaN25QQUFBQUFuUlNUbE1BVXZQMi9lQUFBQUFSU1VSQlZBalhZNkFTWUQ2QVRsQUhBQUR5NWdNTjBmQ3FGd0FBQUFCSlJVNUVya0pnZ2c9PSk7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDsKICAgIG92ZXJmbG93OiBhdXRvOwp9Cgouc2NyZWVuLXZpZXdlciAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBub25lOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgd2lkdGg6IDEwMHZ3OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7CiAgICB0b3A6IDYwcHg7CiAgICBsZWZ0OiAwOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgei1pbmRleDogMjsKICAgIGN1cnNvcjogbm9uZTsKfQoKLnNjcmVlbi12aWV3ZXIubW92aW5nLXNjcmVlbiAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnNjcmVlbi12aWV3ZXItaW5uZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCi5zY3JlZW4gewogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDUwJTsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5zY3JlZW4uZmxvdyB7CiAgICBsZWZ0OiAwOwogICAgdG9wOiAwOwp9CgojZmxvd3MgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCiNmbG93cyAuZmxvdyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUE2MjM7CiAgICBvcGFjaXR5OiAwOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CgojZmxvd3Muc2hvdy1mbG93cyAuZmxvdyB7CiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuNXM7CiAgICBhbmltYXRpb24tbmFtZTogZmxvd1RpcDsKfQoKQGtleWZyYW1lcyBmbG93VGlwIHsKICAgIDAlIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQoKICAgIDUwJSB7CiAgICAgICAgb3BhY2l0eTogMC41OwogICAgfQoKICAgIDEwMCUgewogICAgICAgIG9wYWNpdHk6IDA7CiAgICB9Cn0KCi5sYXllciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ob3ZlciwKLnNlbGVjdGVkIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNFRTY3MjM7Cn0KCi5oYXMtc2xpY2UgewogICAgYm9yZGVyOiAxcHggZGFzaGVkICNFRTY3MjM7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgODUsIDAsIC4zMik7Cn0KCi5sYXllciBiLAoubGF5ZXIgaSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm9yZGVyOiAxcHggc29saWQgI0VFNjcyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBkaXNwbGF5OiBub25lOwp9CgoubGF5ZXIgYiB7CiAgICB3aWR0aDogM3B4OwogICAgaGVpZ2h0OiAzcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9Cgouc2VsZWN0ZWQgaSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLmRpc3RhbmNlLmggZGl2W2RhdGEtd2lkdGhdOmJlZm9yZSwKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciwKLnNlbGVjdGVkOmJlZm9yZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGxlZnQ6IDUwJTsKICAgIHRvcDogLTIzcHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtd2lkdGgpOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICBoZWlnaHQ6IDEycHg7CiAgICBsaW5lLWhlaWdodDogMTJweDsKICAgIHBhZGRpbmc6IDRweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB6LWluZGV4OiAxOwp9CgoucGVyY2VudGFnZS1tb2RlIC5kaXN0YW5jZS5oIGRpdltkYXRhLXdpZHRoXTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyLAoucGVyY2VudGFnZS1tb2RlIC5zZWxlY3RlZDpiZWZvcmUgewogICAgY29udGVudDogYXR0cihwZXJjZW50YWdlLXdpZHRoKTsKfQoKLnNlbGVjdGVkLmhpZGRlbjphZnRlciwKLnNlbGVjdGVkLmhpZGRlbjpiZWZvcmUgewogICAgZGlzcGxheTogbm9uZTsKfQoKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtaGVpZ2h0KTsKICAgIGxlZnQ6IGF1dG87CiAgICByaWdodDogMDsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKGNhbGMoMTAwJSArIDNweCkpIHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyIHsKICAgIGNvbnRlbnQ6IGF0dHIocGVyY2VudGFnZS1oZWlnaHQpOwp9CgoubGF5ZXIgLnRsIHsKICAgIHRvcDogLTNweDsKICAgIGxlZnQ6IC0zcHg7Cn0KCi5sYXllciAudHIgewogICAgdG9wOiAtM3B4OwogICAgcmlnaHQ6IC0zcHg7Cn0KCi5sYXllciAuYmwgewogICAgYm90dG9tOiAtM3B4OwogICAgbGVmdDogLTNweDsKfQoKLmxheWVyIC5iciB7CiAgICBib3R0b206IC0zcHg7CiAgICByaWdodDogLTNweDsKfQoKLmhvdmVyIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MTliZjk7Cn0KCi5zZWxlY3RlZCB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjRUU2NzIzOwp9CgoucnVsZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXI6IDFweCBkYXNoZWQgIzQxOWJmOTsKfQoKLnJ1bGVyLmggewogICAgYm9yZGVyLWxlZnQ6IDA7CiAgICBib3JkZXItcmlnaHQ6IDA7Cn0KCi5ydWxlci52IHsKICAgIGJvcmRlci10b3A6IDA7CiAgICBib3JkZXItYm90dG9tOiAwOwp9CgouZGlzdGFuY2UsCi5kaXN0YW5jZSBkaXYsCi5kaXN0YW5jZSBkaXY6YmVmb3JlLAouZGlzdGFuY2U6YWZ0ZXIsCi5kaXN0YW5jZTpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwp9CgouZGlzdGFuY2UudiwKLmRpc3RhbmNlLnYgZGl2IHsKICAgIHdpZHRoOiAxcHg7Cn0KCi5kaXN0YW5jZS5oLAouZGlzdGFuY2UuaCBkaXYgewogICAgaGVpZ2h0OiAxcHg7Cn0KCi5kaXN0YW5jZS52IGRpdiB7CiAgICB0b3A6IDA7CiAgICBib3R0b206IDA7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaCBkaXYgewogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYmFja2dyb3VuZDogI0VFNjcyMzsKfQoKLmRpc3RhbmNlLnY6YWZ0ZXIsCi5kaXN0YW5jZS52OmJlZm9yZSB7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMDsKICAgIGxlZnQ6IC0ycHg7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiAxcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaDphZnRlciwKLmRpc3RhbmNlLmg6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgdG9wOiAtMnB4OwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxcHg7CiAgICBoZWlnaHQ6IDVweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7Cn0KCi5kaXN0YW5jZS52OmFmdGVyIHsKICAgIHRvcDogYXV0bzsKICAgIGJvdHRvbTogMDsKfQoKLmRpc3RhbmNlLmg6YWZ0ZXIgewogICAgbGVmdDogYXV0bzsKICAgIHJpZ2h0OiAwOwp9Cgoubm90ZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBtYXJnaW46IC0xMnB4IDAgMCAtMTJweDsKICAgIHdpZHRoOiAyNHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgYmFja2dyb3VuZDogI0Y1QTYyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDAgM3B4IHJnYmEoMCwgMCwgMCwgLjI0KTsKfQoKLm5vdGU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1pbmRleCk7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBsaW5lLWhlaWdodDogMjBweDsKfQoKLm5vdGU6aG92ZXIgewogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC42NCk7Cn0KCi5ub3RlIGRpdiB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDUwJTsKICAgIGxlZnQ6IDMwcHg7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBwYWRkaW5nOiA4cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC41KTsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7CiAgICBjb2xvcjogIzIyMjsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgIHotaW5kZXg6IDI7Cn0KCi5ub3RlIGRpdjpiZWZvcmUgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAtN3B4OwogICAgdG9wOiA1MCU7CiAgICB3aWR0aDogOHB4OwogICAgaGVpZ2h0OiAxNHB4OwogICAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBY0NBTUFBQUJmNzg4b0FBQUFObEJNVkVVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEUjBkRUFBQUFBQUFBQUFBQUFBQUFBQUFETnpjMEFBQUFBQUFEYTJ0cms1T1QvLy8vNWF1RkZBQUFBRVhSU1RsTUFBZ1lLRWh5ZE5Da1lEaU9mTGllV2p6NE1VajRBQUFCclNVUkJWQmpUWlpGYkRvQWdFQU5WRkhtSU92ZS9yRVJqV0dqL3BzbkNianYxZ2c3bkdUcGNGbXRVZEE0TXU3UW1NTHpHR01Id2x2TU5oczl5QVkzRDdxa2FtY1lIci83NXlzMUlNUmVQTmJid3NSbzZvby9xdDdyWTZPaHhlcjRHcEJGcXlGcURGdFdxZkFENGRRcmxXRG1TaEFBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogOHB4IDE0cHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5zbGlkZWJveCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLnNsaWRlYm94IGlucHV0IHsKICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoKLnNsaWRlYm94IGxhYmVsIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGJhY2tncm91bmQ6ICM4OTg5ODk7CiAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIC4zKTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2U7Cn0KCi5zbGlkZWJveCBsYWJlbDphZnRlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMnB4OwogICAgbGVmdDogMnB4OwogICAgd2lkdGg6IDE2cHg7CiAgICBoZWlnaHQ6IDE2cHg7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgI0Y4RjlGNiAwLCAjRjVGNUY1IDEwMCUpOwogICAgYm94LXNoYWRvdzogMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAuMyk7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjE1cyBlYXNlOwp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbCB7CiAgICBiYWNrZ3JvdW5kOiAjMzQ4NEY1Owp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbDphZnRlciB7CiAgICBsZWZ0OiAyMnB4Owp9CgouaW5zcGVjdG9yIHsKICAgIG92ZXJmbG93OiBhdXRvOwp9CgouaW5zcGVjdG9yIGgyLAouaW5zcGVjdG9yIGgzIHsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBmb250LXdlaWdodDogNDAwOwp9CgouaW5zcGVjdG9yIGgyIHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouaW5zcGVjdG9yIGgzIHsKICAgIGhlaWdodDogMzJweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAzMnB4OwogICAgcGFkZGluZzogMCAxNnB4OwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDAsIDQsIDksIC4zMikgMCwgcmdiYSgwLCAyLCA0LCAwKSAxMDAlKTsKfQoKLmluc3BlY3RvciAuY29udGV4dCB7CiAgICBwYWRkaW5nOiAxNnB4Owp9CgouaW5zcGVjdG9yIC5jb2xvciwKLmluc3BlY3RvciAuaXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luOiAwIDAgOHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtW2RhdGEtbGFiZWxdOmJlZm9yZSB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtbGFiZWwpOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogNzBweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGhlaWdodDogMjRweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4Owp9CgouaW5zcGVjdG9yIC5jb2xvcjpsYXN0LWNoaWxkLAouaW5zcGVjdG9yIC5pdGVtOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouaW5zcGVjdG9yIC5pdGVtIGRpdiwKLmluc3BlY3RvciAuaXRlbSBsYWJlbCB7CiAgICBmbGV4OiAxOwp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsIHsKICAgIHBhZGRpbmc6IDAgNHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsOmZpcnN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgNHB4IDAgMDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpsYXN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgMCAwIDRweDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpvbmx5LWNoaWxkIHsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLml0ZW0gbGFiZWxbZGF0YS1sYWJlbF06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLWxhYmVsKTsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIGlucHV0LAouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDNweCA0cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KTsKICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgIGJvcmRlcjogMDsKICAgIGxpbmUtaGVpZ2h0OiAxOHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBvdXRsaW5lOiAwOwogICAgcmVzaXplOiBub25lOwp9CgouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIG1pbi13aWR0aDogMTAwJTsKICAgIGhlaWdodDogYXV0bzsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5jb250ZXh0IGg0IHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICBwb3NpdGlvbjogMDsKICAgIG1hcmdpbjogMCAwIDE2cHg7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmNvbnRleHQgaDQ6YmVmb3JlIHsKICAgIG1hcmdpbjogMCAxMHB4IDAgMDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYm9yZGVyLXJhZGl1czogMXB4OwogICAgYmFja2dyb3VuZDogIzM0ODRGNTsKfQoKLmNvbnRleHQgLmNvbG9ycyB7CiAgICBtYXJnaW46IDAgMCA4cHg7Cn0KCi5jb250ZXh0IC5jb2xvcnM6bGFzdC1jaGlsZCwKLmNvbnRleHQgLml0ZW1zLWdyb3VwOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouY29udGV4dCAuaXRlbXMtZ3JvdXAgewogICAgbWFyZ2luOiAwIDAgMjRweDsKfQoKLmluc3BlY3RvciAuY29sb3IgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yW2RhdGEtbmFtZV06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLW5hbWUpOwogICAgZm9udC1zaXplOiAxMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogMCAwIDAgMjRweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIC5jb2xvciBsYWJlbCwKLmluc3BlY3RvciAuY29sb3IgbGFiZWwgZW0sCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpOwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDZweCA2cHg7CiAgICBib3JkZXItcmFkaXVzOiAycHggMCAwIDJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouaW5zcGVjdG9yIC5pdGVtIC5jb2xvciBpbnB1dCB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGlucHV0IHsKICAgIHBhZGRpbmctbGVmdDogMzJweDsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLmdyYWRpZW50IC5jb2xvciBsYWJlbDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxMnB4OwogICAgbGVmdDogMTFweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAyOwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3IgbGFiZWw6YWZ0ZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA4cHg7CiAgICBsZWZ0OiA4cHg7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiA4cHg7CiAgICBoZWlnaHQ6IDhweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAzOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3JbZGF0YS1uYW1lXSBsYWJlbDpiZWZvcmUgewogICAgaGVpZ2h0OiA0MnB4Owp9CgouZ3JhZGllbnQgLmNvbG9yOmxhc3QtY2hpbGQgbGFiZWw6YmVmb3JlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5uYXZiYXIgc2VjdGlvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBvdmVyZmxvdzogYXV0bzsKfQoKLmFydGJvYXJkLWxpc3QsCi5hc3NldC1saXN0LAouY29sb3ItbGlzdCB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLmFydGJvYXJkLWxpc3QgbGkgewogICAgcGFkZGluZzogMTZweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5hcnRib2FyZC1saXN0IGxpOmhvdmVyLAouYXNzZXQtbGlzdCBsaTpob3ZlciwKLmNvbG9yLWxpc3QgbGk6aG92ZXIgewogICAgYmFja2dyb3VuZDogIzE5MUExRTsKfQoKLmFydGJvYXJkLWxpc3QgbGkuYWN0aXZlIHsKICAgIGJhY2tncm91bmQ6ICM0NTQ3NDg7Cn0KCi5hcnRib2FyZC1saXN0Lm5vLXByZXZpZXcgLnByZXZpZXctaW1nIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5wcmV2aWV3LWltZyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiA0NHB4OwogICAgaGVpZ2h0OiA0NHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMzIpOwp9CgoucHJldmlldy1pbWc6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcgJzsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5wcmV2aWV3LWltZyBpbWcgewogICAgbWF4LXdpZHRoOiA0NHB4OwogICAgbWF4LWhlaWdodDogNDRweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CgoucGFnZXMtc2VsZWN0LAouZmxvdy1zdGFydHMgLnRpdGxlIHsKICAgIHBhZGRpbmc6IDI0cHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5wYWdlcy1zZWxlY3QgaDMsCi5mbG93LXN0YXJ0cyAudGl0bGUgaDMgewogICAgbWFyZ2luOiAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjRkZGOwp9CgoucGFnZXMtc2VsZWN0IGgzIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnBhZ2UtbGlzdCBlbSwKLnBhZ2VzLXNlbGVjdCBoMyBlbSwKLmZsb3ctc3RhcnRzIC50aXRsZSBoMyBlbSB7CiAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICBmb250LXNpemU6IDEwcHg7CiAgICBjb2xvcjogIzk4OUE5QzsKfQoKLnBhZ2VzLXNlbGVjdCBoMzphZnRlciB7CiAgICBjb250ZW50OiAiIjsKICAgIG1hcmdpbjogMCAwIDAgNHB4OwogICAgd2lkdGg6IDEycHg7CiAgICBoZWlnaHQ6IDZweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQU1BZ01BQUFBRlhwWG1BQUFBQ1ZCTVZFVUFBQUJpWkdaZ1ltVGhZMW1IQUFBQUFuUlNUbE1BZ0pzclRoZ0FBQUExU1VSQlZBalhGY2t4QVFBZ0RNVEFaNmtJMUtBSE5Zam9BaXBKc21TNDdFYzMwM1hLblF5M0FrSVJtNVVVVUFJaEVSSWhFZm9xbVJmcGNxY0ZjQUFBQUFCSlJVNUVya0pnZ2c9PSkgbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDZweDsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBtYXJnaW46IC0zMnB4IDAgMDsKICAgIHBhZGRpbmc6IDhweDsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICB3aWR0aDogMTgwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgYm94LXNoYWRvdzogMCAycHggMTBweCAwIHJnYmEoMCwgMCwgMCwgLjgpOwp9CgoucGFnZXMtc2VsZWN0OmZvY3VzIHsKICAgIG91dGxpbmU6IDA7Cn0KCi5wYWdlcy1zZWxlY3Q6Zm9jdXMgLnBhZ2UtbGlzdCB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IGxhYmVsIHsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5wYWdlcy1zZWxlY3QgLnBhZ2UtbGlzdCBsYWJlbCwKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHNwYW4gewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5wYWdlLWxpc3Qgc3BhbjpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IDhweDsKfQoKLmV4cG9ydGFibGUgewogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMTkxQTFFOwogICAgYm9yZGVyOiAxcHggc29saWQgIzJEMkYzMTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLmV4cG9ydGFibGUgbGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZzogMCA4cHg7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBsaW5lLWhlaWdodDogMzJweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjIyOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgouZXhwb3J0YWJsZSBsaSBhIHsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgb3V0bGluZTogMDsKfQoKLmV4cG9ydGFibGUgbGk6bGFzdC1jaGlsZCB7CiAgICBib3JkZXI6IDA7Cn0KCi5leHBvcnRhYmxlIGltZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvcGFjaXR5OiAwOwp9CgouYXNzZXQtbGlzdCBsaSwKLmNvbG9yLWxpc3QgbGkgewogICAgcGFkZGluZzogMjRweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jb2xvci1saXN0IGxpIHsKICAgIGN1cnNvcjogZGVmYXVsdDsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSwKLmNvbG9yLWxpc3QgbGkgZW0gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB3aWR0aDogMzJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0QTRBNEE7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApOwogICAgYmFja2dyb3VuZC1zaXplOiA4cHggOHB4OwogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCA0cHggNHB4OwogICAgYm9yZGVyLXJhZGl1czogMnB4Owp9CgouY29sb3ItbGlzdCBsaSBlbSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKSwgbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5jb2xvci1saXN0IGxpIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAwOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYsCi5hc3NldC1saXN0IGxpIGRpdiwKLmNvbG9yLWxpc3QgbGkgZGl2IHsKICAgIHBhZGRpbmc6IDAgMCAwIDE2cHg7CiAgICBmbGV4OiAxOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYgewogICAgcGFkZGluZzogNnB4IDAgNHB4IDE2cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgaGVpZ2h0OiAxMDAlOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSBpbWcgewogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIG1heC13aWR0aDogMjhweDsKICAgIG1heC1oZWlnaHQ6IDI4cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YWZ0ZXIgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IDA7Cn0KCi5hcnRib2FyZC1saXN0IGgzLAouYXNzZXQtbGlzdCBoMywKLmNvbG9yLWxpc3QgaDMgewogICAgbWFyZ2luOiAwIDAgNHB4OwogICAgcGFkZGluZzogMDsKICAgIGNvbG9yOiAjRkZGOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKfQoKLmFydGJvYXJkLWxpc3Qgc21hbGwsCi5hc3NldC1saXN0IHNtYWxsLAouY29sb3ItbGlzdCBzbWFsbCB7CiAgICBmb250LXNpemU6IDEwcHg7Cn0KCi5hcnRib2FyZC1saXN0IGxpLmFjdGl2ZSBzbWFsbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmVtcHR5IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMzAlOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLm1lc3NhZ2UgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICBtYXgtd2lkdGg6IDMyMHB4OwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC45Nik7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBjb2xvcjogI0ZGRjsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMzIpOwogICAgei1pbmRleDogOTsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5jdXJzb3IgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAtOHB4IDAgMCAtOHB4OwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICB3aWR0aDogMTZweDsKICAgIGhlaWdodDogMTdweDsKICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAxN3B4OwogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWlDQU1BQUFBSmJDdk5BQUFCVmxCTVZFVUFBQUFHQmdZQkFRRUJBUUVBQUFBQUFBQUFBQUFuSnljQUFBQTNOemNEQXdNTkRRMEFBQUFBQUFBQUFBQWhJU0ViR3hzWUdCZ1BEdzhDQWdJREF3TUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQXZMeThVRkJRQ0FnSUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQStQajVCUVVFL1B6OHpNek1DQWdJREF3TURBd01DQWdJQkFRRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE3T3pzQUFBQUFBQUFBQUFBQUFBRC8vLzhBQUFCaFlXRWRIUjM2K3ZwVlZWWDkvZjMyOXZiejgvUGIyOXVCZ1lGMGRIUmpZMk1zTEN6MzkvZnQ3ZTNyNit2UjBkRnhjWEZTVWxKTlRVM1gxOWZLeXNxNHVMaDNkM2RYVjFkSlNVbEdSa1pFUkVUdjcrL282T2pqNCtPOHZMeTF0YlcwdExTbnA2ZW1wcWFUazVPS2lvcUdob1p0YlcxbloyZGNYRnhQVDAvRHc4UEN3c0t3c0xDdXJxNnBxYW1ob2FHWm1abU5qWTE2ZW5wZVhsNUpuRzd4QUFBQVBIUlNUbE1BL2ZqOUIxRUMvamYrL3Z3OEV3NysvZno4NXQyNm1wUm9ZeVg5L09MTW9IbEtNaUwrL2YzOThlblkwY0MxdExHb2pvdUdWaDRaL3FweVF5N1VHL3ZMQUFBQ0hVbEVRVlE0VDMzUVZWZGJVUkJBNGJrM1Fqd1FJSWE3dTlUMlFEd1F4eDJLMStYL3YvUWhselJwV04ydjUxdG5abzFJUzRFUng0YjhKNGVwYWh0KzVjSHBpS3pHUmZ6bXhINTVSMGZ0c2VFUlp3dUlxR0dZNnhMVExLU05vVGxWN1cwV1k3WjhxalJoZmxneEFEclVPTWpjYXJRSmpHZ1ppcUhlY0JmQXVCNENmYjFOd0tjSHdKME9kZ0tjNmpXdzFTMHk1ckxYZ2QxOEFJcUdkdFZCR2RqcHRpK3I5c1RyWXFrckJTUzFIK0JFejRHam5vam12bnV0UVE3OUFueFRMOEN4Rm9Da3FYblltYWtENThBa2tQRVlBRFVQUUZWREdhak9XbXNPYXhib1U0RG5FRUJOODBEZmdvajRvZzcvcHUwUWVOUTA4TnhaMzJRUEVwNDFjUzZycXZsdXFUOEZYNE1KSVBjRWtIUURuOVFoNjVyUDdsZTFXL2RwS1ZFQWNyYUFySHBUUUU3MW52Wk81MFRXakF4QVJVOWVBYUd3aUV0dkFSSlRuUUNwTktUUElGRUV1TkNvaUN3WW53R0tXWUNLRzdiR29iSUxjSzArRWZIUGV2Y2FmejRGb2JvTFc5c0E5eG9RRWRtWTZTaThnTjlCU0RaQXJhZCt4dmY2NndWc2JUZUJNeU5pSFhySXM5Y01PaXh3cDZNVzhFOVBXbUJuRzQ0c2NPRmRsSmRpK3RNQ1hRMlFjRS9IRzhENVZqOENrTytBeHltbzdIS29Edm1iZmQ1ekE1QW9RZVljQ3FXc0xTek5CZVp0UDJndVovTzNBTEV2V2xNb3Zla3NRN0pIL3NrNTZLNkRtamtRVEhNOCtDK1FvZjZyZzh2THF3ZU51bXpITis3dU5oRFdlaXNpTVZOMW9BM1lSMTB1bjgrMUtTSVNpSS9aMjhEci9RSFBhNkVtOERmd2ZBQUFBQUJKUlU1RXJrSmdnZz09Jyk7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgY3Vyc29yOiBub25lOwogICAgei1pbmRleDogMTsKfQoKLmN1cnNvci5zaG93IHsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgouY3Vyc29yLm1vdmluZyB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBaUNBTUFBQUFKYkN2TkFBQUJNbEJNVkVVQUFBQUFBQUEyTmpZc0xDd0NBZ0lBQUFBQUFBQU1EQXdCQVFFQ0FnSUJBUUVDQWdJQkFRRUJBUUVBQUFBQUFBQUFBQUE1T1RrZ0lDQUlDQWdBQUFBY0hCd0NBZ0lBQUFBQUFBQUFBQUFBQUFBQUFBQkRRME04UER3eE1URTBORFFWRlJVQ0FnSUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUER3OERBd01BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFELy8vOEFBQUJoWVdFY0hCejYrdnIzOS9kTVRFenM3T3k4dkx5NHVMaFdWbFlxS2lvb0tDajA5UFR3OFBDMXRiV25wNmQyZG5aWldWbjgvUHpwNmVuajQrUGQzZDNhMnRyTnpjMnRyYTJwcWFtbXBxYUtpb3FBZ0lCemMzTndjSEJtWm1aZFhWMVRVMU5IUjBjK1BqN1cxdGJSMGRIR3hzYkF3TUNhbXBxU2twS1BqNCtHaG9aeWNuSnNiR3drSkNUeTkxd2lBQUFBTm5SU1RsTUFQUDcrL1pjTi9QbnI0ODdLdjdRbEV2NysvZno3MWprMkdBY0UvdjcrL2Z6enBhQ1VrR1paUVRFc0lBbjgyNnVFZzNKdFhGR3J5T3hJQUFBQmtFbEVRVlI0QWVYUzFYTGJRQmpGOFJYSURIYk5kaUJwT0NuRE9hNGtnMk93dzl3MktVUGYveFc2czhxMnNUWFQ2WDErdDk5L05Kb3pLKzZsUjhabVJQekRacHhjM3NnOXkyU2V6M2FObCttVXN4MjNUanB6eGJKdG1uYXFNUjA4Wk84bUd1Tm40SkE4QVU3NVlpWGw1SVNXNVNYd2dUd0FVR0lmY0F1TTN0aHBvUm5zQUpobkM4RGNZMGdXajNIQm1nNXFQQWR3MW5NQmZKOUFhaTRBUTFhRmxsekVOTmNEMmpTRXN1T2tFdnlJRUIxazQ0WHJFaWNJNmJDaWd0WG9JYnpGTjVEMlBNQWJBRzRMMGltM1ZWRDJBUXlPSUYzbGdlWTg4TU9DOUpYQkVFa2YycnNId0h0TFJ1cDc0OWp0aWt2VFFVOEhmbGtvci9oSkIwMFpkSFV3S0t3S0pSTFA3MEZSaCs3dWJYRE9MUkhZNEdVNHdFRTBJN1ExZm9QeVZoNG1RZUNheTFueHgxT2VxV0M4SzZNRjRNckNtSy9GWC9XMFBRS0NnZnI3Z0xkL1pEdmlya2lhWDNEWFJURTM4MXd6SEVGcDVVdkhRUGVKbU5GSW1sRDhXT0pYSDM1U3pGcFpHbmJhN2VGUHJsZUsxeU16RVFvY0J0YUVXSStSNGFDK1ZhMFlScldtL2ptN1V4Zi81emVFeFd2WmdobFRTZ0FBQUFCSlJVNUVya0pnZ2c9PScpOwp9">
    <script src="data:text/javascript;base64,LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7Ci8qKioqKiovIAkJfQovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlpOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbDogZmFsc2UsCi8qKioqKiovIAkJCWV4cG9ydHM6IHt9Ci8qKioqKiovIAkJfTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmwgPSB0cnVlOwovKioqKioqLwovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQovKioqKioqLwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7Ci8qKioqKiovIAkJaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykgewovKioqKioqLyAJCWlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAkJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdAovKioqKioqLyAJLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zCi8qKioqKiovIAkvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7Ci8qKioqKiovIAkJaWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTsKLyoqKioqKi8gCQlpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlOwovKioqKioqLyAJCXZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTsKLyoqKioqKi8gCQlPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpOwovKioqKioqLyAJCXJldHVybiBuczsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlcwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7Ci8qKioqKiovIAkJdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwovKioqKioqLyAJCXJldHVybiBnZXR0ZXI7Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07Ci8qKioqKiovCi8qKioqKiovIAkvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7Ci8qKioqKiovCi8qKioqKiovCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9ICIuL3VpL2luZGV4LnRzIik7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovICh7CgovKioqLyAiLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbi8vIENvcHlyaWdodCAyMDIwIEplYmJzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIE1JVFxuLy8gbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFNNVHlwZTtcbihmdW5jdGlvbiAoU01UeXBlKSB7XG4gICAgU01UeXBlW1widGV4dFwiXSA9IFwidGV4dFwiO1xuICAgIFNNVHlwZVtcInN5bWJvbFwiXSA9IFwic3ltYm9sXCI7XG4gICAgU01UeXBlW1wic2xpY2VcIl0gPSBcInNsaWNlXCI7XG4gICAgU01UeXBlW1wic2hhcGVcIl0gPSBcInNoYXBlXCI7XG4gICAgU01UeXBlW1wiZ3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgU01UeXBlW1wiaG90c3BvdFwiXSA9IFwiaG90c3BvdFwiO1xufSkoU01UeXBlID0gZXhwb3J0cy5TTVR5cGUgfHwgKGV4cG9ydHMuU01UeXBlID0ge30pKTtcbjtcbnZhciBzaGFkb3dUeXBlO1xuKGZ1bmN0aW9uIChzaGFkb3dUeXBlKSB7XG4gICAgc2hhZG93VHlwZVtcIm91dGVyXCJdID0gXCJPdXRlclwiO1xuICAgIHNoYWRvd1R5cGVbXCJpbm5lclwiXSA9IFwiSW5uZXJcIjtcbn0pKHNoYWRvd1R5cGUgPSBleHBvcnRzLnNoYWRvd1R5cGUgfHwgKGV4cG9ydHMuc2hhZG93VHlwZSA9IHt9KSk7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvY29tbW9uLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9jb21tb24udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3RhdGUgPSB7XG4gICAgem9vbTogMSxcbiAgICB1bml0OiAncHgnLFxuICAgIHNjYWxlOiAxLFxuICAgIGFydGJvYXJkSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBjb2xvckZvcm1hdDogJ2NvbG9yLWhleCcsXG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxuICAgIGNvZGVUeXBlOiAnY3NzJyxcbn07XG5leHBvcnRzLkkxOE4gPSB7fTtcbmV4cG9ydHMubGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuZXhwb3J0cy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGxvY2FsaXplKHN0cikge1xuICAgIHJldHVybiAoZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ10gJiYgZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ11bc3RyXSkgPyBleHBvcnRzLkkxOE5bZXhwb3J0cy5sYW5nXVtzdHJdIDogc3RyO1xufVxuZXhwb3J0cy5sb2NhbGl6ZSA9IGxvY2FsaXplO1xuZXhwb3J0cy5wcm9qZWN0ID0ge307XG5mdW5jdGlvbiBpbml0KGRhdGEpIHtcbiAgICBleHBvcnRzLnN0YXRlLnNjYWxlID0gMTtcbiAgICBleHBvcnRzLnN0YXRlLmNvbG9yRm9ybWF0ID0gZGF0YS5jb2xvckZvcm1hdDtcbiAgICBleHBvcnRzLnN0YXRlLnVuaXQgPSBkYXRhLnVuaXQ7XG4gICAgZXhwb3J0cy5JMThOID0gZGF0YS5sYW5ndWFnZXMgfHwge307XG4gICAgZXhwb3J0cy5wcm9qZWN0ID0gZGF0YTtcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvY29tbW9uLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvYWxpZ25FbGVtZW50LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFZGdlO1xuKGZ1bmN0aW9uIChFZGdlKSB7XG4gICAgRWRnZVtFZGdlW1widnRvcFwiXSA9IDMyXSA9IFwidnRvcFwiO1xuICAgIEVkZ2VbRWRnZVtcInZib3R0b21cIl0gPSAxNl0gPSBcInZib3R0b21cIjtcbiAgICBFZGdlW0VkZ2VbXCJ2bWlkZGxlXCJdID0gOF0gPSBcInZtaWRkbGVcIjtcbiAgICBFZGdlW0VkZ2VbXCJobGVmdFwiXSA9IDRdID0gXCJobGVmdFwiO1xuICAgIEVkZ2VbRWRnZVtcImhyaWdodFwiXSA9IDJdID0gXCJocmlnaHRcIjtcbiAgICBFZGdlW0VkZ2VbXCJoY2VudGVyXCJdID0gMV0gPSBcImhjZW50ZXJcIjtcbn0pKEVkZ2UgPSBleHBvcnRzLkVkZ2UgfHwgKGV4cG9ydHMuRWRnZSA9IHt9KSk7XG5mdW5jdGlvbiBhbGlnbkVsZW1lbnQob3B0aW9ucykge1xuICAgIGxldCBmcm9tUmVjdCA9IG9wdGlvbnMuZnJvbVJlY3QgfHwgb3B0aW9ucy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGZyb20gPSBvcHRpb25zLmZyb21FZGdlO1xuICAgIGxldCB0byA9IG9wdGlvbnMudG9FZGdlO1xuICAgIGxldCBmcm9tSGFzViA9ICEhKDBiMTExMDAwICYgZnJvbSk7XG4gICAgbGV0IHRvSGFzViA9ICEhKDBiMTExMDAwICYgdG8pO1xuICAgIGxldCBmcm9tSGFzSCA9ICEhKDBiMDAwMTExICYgZnJvbSk7XG4gICAgbGV0IHRvSGFzSCA9ICEhKDBiMDAwMTExICYgdG8pO1xuICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgaWYgKGZyb21IYXNIICYmIHRvSGFzSCkge1xuICAgICAgICBvZmZzZXRYID0gb3B0aW9ucy50b1JlY3QueCAtIGZyb21SZWN0Lng7IC8vIGxlZnQtdG8tbGVmdCBvZmZzZXRcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLmhjZW50ZXIpXG4gICAgICAgICAgICBvZmZzZXRYIC09IGZyb21SZWN0LndpZHRoIC8gMjtcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLmhyaWdodClcbiAgICAgICAgICAgIG9mZnNldFggLT0gZnJvbVJlY3Qud2lkdGg7XG4gICAgICAgIGlmICh0byAmIEVkZ2UuaGNlbnRlcilcbiAgICAgICAgICAgIG9mZnNldFggKz0gb3B0aW9ucy50b1JlY3Qud2lkdGggLyAyO1xuICAgICAgICBpZiAodG8gJiBFZGdlLmhyaWdodClcbiAgICAgICAgICAgIG9mZnNldFggKz0gb3B0aW9ucy50b1JlY3Qud2lkdGg7XG4gICAgfVxuICAgIGlmIChmcm9tSGFzViAmJiB0b0hhc1YpIHtcbiAgICAgICAgb2Zmc2V0WSA9IG9wdGlvbnMudG9SZWN0LnkgLSBmcm9tUmVjdC55OyAvLyB0b3AtdG8tdG9wIG9mZnNldFxuICAgICAgICBpZiAoZnJvbSAmIEVkZ2Uudm1pZGRsZSlcbiAgICAgICAgICAgIG9mZnNldFkgLT0gZnJvbVJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLnZib3R0b20pXG4gICAgICAgICAgICBvZmZzZXRZIC09IGZyb21SZWN0LmhlaWdodDtcbiAgICAgICAgaWYgKHRvICYgRWRnZS52bWlkZGxlKVxuICAgICAgICAgICAgb2Zmc2V0WSArPSBvcHRpb25zLnRvUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICBpZiAodG8gJiBFZGdlLnZib3R0b20pXG4gICAgICAgICAgICBvZmZzZXRZICs9IG9wdGlvbnMudG9SZWN0LmhlaWdodDtcbiAgICB9XG4gICAgb3B0aW9ucy5zY3JvbGxlci5zY3JvbGxUb3AgLT0gb2Zmc2V0WTtcbiAgICBvcHRpb25zLnNjcm9sbGVyLnNjcm9sbExlZnQgLT0gb2Zmc2V0WDtcbn1cbmV4cG9ydHMuYWxpZ25FbGVtZW50ID0gYWxpZ25FbGVtZW50O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9hbGlnbkVsZW1lbnQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9hcnRib2FyZHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9uYXZpZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzXCIpO1xuZnVuY3Rpb24gYXJ0Ym9hcmRzRXZlbnRzKCkge1xuICAgIGxldCBhcnRib2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkcycpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShhcnRib2FyZHNMaXN0LCAnZm9jdXNpbicsICcuYXJ0Ym9hcmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gaGVscGVyXzEuZ2V0SW5kZXgodGhpcyk7XG4gICAgICAgIG5hdmlnYXRlXzEuZ290b0FydGJvYXJkKGluZGV4KTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoYXJ0Ym9hcmRzTGlzdCwgJ2NsaWNrJywgJy5hcnRib2FyZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgaW5kZXggPSBoZWxwZXJfMS5nZXRJbmRleCh0aGlzKTtcbiAgICAgICAgbmF2aWdhdGVfMS5nb3RvQXJ0Ym9hcmQoaW5kZXgpO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShhcnRib2FyZHNMaXN0LCAnY2hhbmdlJywgJ2lucHV0W25hbWU9cGFnZV0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBPYmplY3RJRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWxpc3QgaW5wdXRbbmFtZT1wYWdlXTpjaGVja2VkJykudmFsdWU7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlcy1zZWxlY3QgaDMnKVxuICAgICAgICAgICAgLmlubmVySFRNTCA9IHRoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJIVE1MO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJ0Ym9hcmQtbGlzdCBsaScpLmZvckVhY2goKGxpKSA9PiB7XG4gICAgICAgICAgICBpZiAocE9iamVjdElEID09ICdhbGwnIHx8IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlLWlkJykgPT0gcE9iamVjdElEKSB7XG4gICAgICAgICAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlcy1zZWxlY3QnKS5ibHVyKCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5hcnRib2FyZHNFdmVudHMgPSBhcnRib2FyZHNFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2FydGJvYXJkcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZGVsZWdhdGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGV2ZW50RGVsZWdhdGUocGFyZW50LCB0eXBlLCB0YXJnZXQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJlbnQgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJlbnQpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB3cmFwcGVkTGlzdGVuZXIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB3cmFwcGVkTGlzdGVuZXIpO1xuICAgIGZ1bmN0aW9uIHdyYXBwZWRMaXN0ZW5lcihldmVudCkge1xuICAgICAgICBsZXQgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IHBhcmVudEVsZW1lbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICB3aGlsZSAodGFyZ2V0RWxlbWVudCAhPT0gcGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQubWF0Y2hlcyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0YXJnZXRFbGVtZW50LCAuLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmV2ZW50RGVsZWdhdGUgPSBldmVudERlbGVnYXRlO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9kZWxlZ2F0ZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZGlzdGFuY2UudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuZnVuY3Rpb24gZGlzdGFuY2UoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09IGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ICYmICFjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciBzZWxlY3RlZFJlY3QgPSBnZXRSZWN0KGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXgpLCB0YXJnZXRSZWN0ID0gY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgfHwgZ2V0UmVjdChjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCksIHRvcERhdGEsIHJpZ2h0RGF0YSwgYm90dG9tRGF0YSwgbGVmdERhdGEsIHggPSBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueCArIHNlbGVjdGVkUmVjdC53aWR0aCAvIDIpLCB5ID0gaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnkgKyBzZWxlY3RlZFJlY3QuaGVpZ2h0IC8gMik7XG4gICAgbGV0IHNlbGVjdGVkWDIgPSBzZWxlY3RlZFJlY3QueCArIHNlbGVjdGVkUmVjdC53aWR0aDtcbiAgICBsZXQgc2VsZWN0ZWRZMiA9IHNlbGVjdGVkUmVjdC55ICsgc2VsZWN0ZWRSZWN0LmhlaWdodDtcbiAgICBsZXQgdGFyZ2V0WDIgPSB0YXJnZXRSZWN0LnggKyB0YXJnZXRSZWN0LndpZHRoO1xuICAgIGxldCB0YXJnZXRZMiA9IHRhcmdldFJlY3QueSArIHRhcmdldFJlY3QuaGVpZ2h0O1xuICAgIGlmICghaGVscGVyXzIuZ2V0SW50ZXJzZWN0aW9uKHNlbGVjdGVkUmVjdCwgdGFyZ2V0UmVjdCkpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkUmVjdC55ID4gdGFyZ2V0WTIpIHsgLy90b3BcbiAgICAgICAgICAgIHRvcERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRZMiksXG4gICAgICAgICAgICAgICAgaDogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnkgLSB0YXJnZXRZMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHNlbGVjdGVkUmVjdC55IC0gdGFyZ2V0WTIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHNlbGVjdGVkUmVjdC55IC0gdGFyZ2V0WTIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkWDIgPCB0YXJnZXRSZWN0LngpIHsgLy9yaWdodFxuICAgICAgICAgICAgcmlnaHREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkWDIpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0UmVjdC54IC0gc2VsZWN0ZWRYMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHRhcmdldFJlY3QueCAtIHNlbGVjdGVkWDIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHRhcmdldFJlY3QueCAtIHNlbGVjdGVkWDIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRZMiA8IHRhcmdldFJlY3QueSkgeyAvL2JvdHRvbVxuICAgICAgICAgICAgYm90dG9tRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkWTIpLFxuICAgICAgICAgICAgICAgIGg6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFJlY3QueSAtIHNlbGVjdGVkWTIpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZSh0YXJnZXRSZWN0LnkgLSBzZWxlY3RlZFkyKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKCh0YXJnZXRSZWN0LnkgLSBzZWxlY3RlZFkyKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZFJlY3QueCA+IHRhcmdldFgyKSB7IC8vbGVmdFxuICAgICAgICAgICAgbGVmdERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0WDIpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnggLSB0YXJnZXRYMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHNlbGVjdGVkUmVjdC54IC0gdGFyZ2V0WDIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHNlbGVjdGVkUmVjdC54IC0gdGFyZ2V0WDIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uoc2VsZWN0ZWRSZWN0LCB0YXJnZXRSZWN0KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlLnRvcCAhPSAwKSB7IC8vdG9wXG4gICAgICAgICAgICB0b3BEYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogKGRpc3RhbmNlLnRvcCA+IDApID8gaGVscGVyXzEuem9vbVNpemUodGFyZ2V0UmVjdC55KSA6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC55KSxcbiAgICAgICAgICAgICAgICBoOiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS50b3ApKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoTWF0aC5hYnMoZGlzdGFuY2UudG9wKSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS50b3ApLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3RhbmNlLnJpZ2h0ICE9IDApIHsgLy9yaWdodFxuICAgICAgICAgICAgcmlnaHREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IChkaXN0YW5jZS5yaWdodCA+IDApID8gaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRYMikgOiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRYMiksXG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB3OiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5yaWdodCkpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShNYXRoLmFicyhkaXN0YW5jZS5yaWdodCkpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoTWF0aC5hYnMoZGlzdGFuY2UucmlnaHQpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdGFuY2UuYm90dG9tICE9IDApIHsgLy9ib3R0b21cbiAgICAgICAgICAgIGJvdHRvbURhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiAoZGlzdGFuY2UuYm90dG9tID4gMCkgPyBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFkyKSA6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFkyKSxcbiAgICAgICAgICAgICAgICBoOiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5ib3R0b20pKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoTWF0aC5hYnMoZGlzdGFuY2UuYm90dG9tKSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5ib3R0b20pLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3RhbmNlLmxlZnQgIT0gMCkgeyAvL2xlZnRcbiAgICAgICAgICAgIGxlZnREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IChkaXN0YW5jZS5sZWZ0ID4gMCkgPyBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRSZWN0LngpIDogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LngpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUoTWF0aC5hYnMoZGlzdGFuY2UubGVmdCkpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShNYXRoLmFicyhkaXN0YW5jZS5sZWZ0KSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5sZWZ0KSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRvcERhdGEpIHtcbiAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RkJyk7XG4gICAgICAgIHRkLnN0eWxlLmxlZnQgPSB0b3BEYXRhLnggKyAncHgnO1xuICAgICAgICB0ZC5zdHlsZS50b3AgPSB0b3BEYXRhLnkgKyAncHgnO1xuICAgICAgICB0ZC5zdHlsZS5oZWlnaHQgPSB0b3BEYXRhLmggKyAncHgnO1xuICAgICAgICB0ZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCB0ZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZCBkaXYnKTtcbiAgICAgICAgdGREaXYuc2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcsIHRvcERhdGEuZGlzdGFuY2UpO1xuICAgICAgICB0ZERpdi5zZXRBdHRyaWJ1dGUoJ3BlcmNlbnRhZ2UtaGVpZ2h0JywgdG9wRGF0YS5wZXJjZW50YWdlRGlzdGFuY2UpO1xuICAgIH1cbiAgICBpZiAocmlnaHREYXRhKSB7XG4gICAgICAgIGxldCByZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZCcpO1xuICAgICAgICByZC5zdHlsZS5sZWZ0ID0gcmlnaHREYXRhLnggKyAncHgnO1xuICAgICAgICByZC5zdHlsZS50b3AgPSByaWdodERhdGEueSArICdweCc7XG4gICAgICAgIHJkLnN0eWxlLndpZHRoID0gcmlnaHREYXRhLncgKyAncHgnO1xuICAgICAgICByZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCByZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZCBkaXYnKTtcbiAgICAgICAgcmREaXYuc2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJywgcmlnaHREYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgcmREaXYuc2V0QXR0cmlidXRlKCdwZXJjZW50YWdlLXdpZHRoJywgcmlnaHREYXRhLnBlcmNlbnRhZ2VEaXN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChib3R0b21EYXRhKSB7XG4gICAgICAgIGxldCBiZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiZCcpO1xuICAgICAgICBiZC5zdHlsZS5sZWZ0ID0gYm90dG9tRGF0YS54ICsgJ3B4JztcbiAgICAgICAgYmQuc3R5bGUudG9wID0gYm90dG9tRGF0YS55ICsgJ3B4JztcbiAgICAgICAgYmQuc3R5bGUuaGVpZ2h0ID0gYm90dG9tRGF0YS5oICsgJ3B4JztcbiAgICAgICAgYmQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBsZXQgYmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmQgZGl2Jyk7XG4gICAgICAgIGJkRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnLCBib3R0b21EYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgYmREaXYuc2V0QXR0cmlidXRlKCdwZXJjZW50YWdlLWhlaWdodCcsIGJvdHRvbURhdGEucGVyY2VudGFnZURpc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGxlZnREYXRhKSB7XG4gICAgICAgIGxldCBsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsZCcpO1xuICAgICAgICBsZC5zdHlsZS5sZWZ0ID0gbGVmdERhdGEueCArICdweCc7XG4gICAgICAgIGxkLnN0eWxlLnRvcCA9IGxlZnREYXRhLnkgKyAncHgnO1xuICAgICAgICBsZC5zdHlsZS53aWR0aCA9IGxlZnREYXRhLncgKyAncHgnO1xuICAgICAgICBsZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCBsZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsZCBkaXYnKTtcbiAgICAgICAgbGREaXYuc2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJywgbGVmdERhdGEuZGlzdGFuY2UpO1xuICAgICAgICBsZERpdi5zZXRBdHRyaWJ1dGUoJ3BlcmNlbnRhZ2Utd2lkdGgnLCBsZWZ0RGF0YS5wZXJjZW50YWdlRGlzdGFuY2UpO1xuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKVxuICAgICAgICAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG59XG5leHBvcnRzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG5mdW5jdGlvbiBoaWRlRGlzdGFuY2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIFsnI3RkJywgJyNyZCcsICcjYmQnLCAnI2xkJ10uZm9yRWFjaChzID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcbiAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xufVxuZXhwb3J0cy5oaWRlRGlzdGFuY2UgPSBoaWRlRGlzdGFuY2U7XG5mdW5jdGlvbiBnZXRSZWN0KGluZGV4KSB7XG4gICAgdmFyIGxheWVyID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnNbaW5kZXhdO1xuICAgIHJldHVybiBsYXllci5yZWN0O1xufVxuZnVuY3Rpb24gZ2V0RGlzdGFuY2Uoc2VsZWN0ZWQsIHRhcmdldCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogKHNlbGVjdGVkLnkgLSB0YXJnZXQueSksXG4gICAgICAgIHJpZ2h0OiAodGFyZ2V0LnggKyB0YXJnZXQud2lkdGggLSBzZWxlY3RlZC54IC0gc2VsZWN0ZWQud2lkdGgpLFxuICAgICAgICBib3R0b206ICh0YXJnZXQueSArIHRhcmdldC5oZWlnaHQgLSBzZWxlY3RlZC55IC0gc2VsZWN0ZWQuaGVpZ2h0KSxcbiAgICAgICAgbGVmdDogKHNlbGVjdGVkLnggLSB0YXJnZXQueClcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9kaXN0YW5jZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2RyYWdFeHBvcnRhYmxlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZHJhZ0V4cG9ydGFibGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBkcmFnRXhwb3J0YWJsZUV2ZW50cygpIHtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgJ2RyYWdzdGFydCcsICcuZXhwb3J0YWJsZSBpbWcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGxlZnQgPSBldmVudC5wYWdlWCAtIHJlY3QubGVmdCAtIHRoaXMub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICBsZXQgdG9wID0gZXZlbnQucGFnZVkgLSByZWN0LnRvcCAtIHRoaXMub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgdGhpcy5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XG4gICAgICAgIHRoaXMuc3R5bGUudG9wID0gdG9wICsgJ3B4JztcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgJ2RyYWdlbmQnLCAnLmV4cG9ydGFibGUgaW1nJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgdGhpcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kcmFnRXhwb3J0YWJsZUV2ZW50cyA9IGRyYWdFeHBvcnRhYmxlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2Zsb3cudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2Zsb3cudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBzY3JlZW5fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zY3JlZW4gKi8gXCIuL3VpL3JlbmRlci9zY3JlZW4udHNcIik7XG5jb25zdCB0YWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdGFiICovIFwiLi91aS9ldmVudHMvdGFiLnRzXCIpO1xuY29uc3QgYWxpZ25FbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FsaWduRWxlbWVudCAqLyBcIi4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50c1wiKTtcbmV4cG9ydHMuZmxvd01vZGUgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBmbG93RXZlbnRzKCkge1xuICAgIGZsb3dNb2RlU3dpdGNoRXZlbnRzKCk7XG4gICAgZmxvd0NsaWNrRXZlbnRzKCk7XG59XG5leHBvcnRzLmZsb3dFdmVudHMgPSBmbG93RXZlbnRzO1xuZnVuY3Rpb24gZmxvd0NsaWNrRXZlbnRzKCkge1xuICAgIGxldCBmbG93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93cycpO1xuICAgIGZsb3dzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGhlbHBlcl8xLnJlbW92ZVNlbGVjdGVkKCk7XG4gICAgICAgIHRhYl8xLmhpZGVOYXZCYXIoKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IGhlbHBlcl8xLmdldEV2ZW50VGFyZ2V0KGZsb3dzLCBldmVudCwgJy5mbG93Jyk7XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICBmbG93cy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWZsb3dzJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBmbG93cy5jbGFzc0xpc3QuYWRkKCdzaG93LWZsb3dzJyk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpZCA9IHRhcmdldC5kYXRhc2V0LmZsb3dUYXJnZXQ7XG4gICAgICAgIGlmIChpZCA9PSAnYmFjaycpIHtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEuaGlzdG9yeUJhY2tVbnRpbEFub3RoZXJBcnRib2FyZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5nb3RvQXJ0Ym9hcmQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZmxvd01vZGVTd2l0Y2hFdmVudHMoKSB7XG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3ctbW9kZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgc2V0Rmxvd01vZGUoKHRoaXMgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCk7XG4gICAgLy8gICAgIHVwZGF0ZVVSTEhhc2goKTtcbiAgICAvLyB9KVxufVxuZnVuY3Rpb24gc2V0Rmxvd01vZGUoZW5hYmxlZCkge1xuICAgIGV4cG9ydHMuZmxvd01vZGUgPSBlbmFibGVkO1xuICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NyZWVuJyk7XG4gICAgbGV0IGN1cnJlbnRSZWN0ID0gc2NyZWVuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vbGV0IGlucHV0Rmxvd01vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvdy1tb2RlJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAvLyBzZXQgY2hlY2tlZCB3b24ndCB0cmlnZ2UgY2hhbmdlIGV2ZW50XG4gICAgLy9pbnB1dEZsb3dNb2RlLmNoZWNrZWQgPSBlbmFibGVkO1xuICAgIGxldCBoaWRlT25GTG93ID0gW1xuICAgICAgICAnI2xheWVycycsXG4gICAgICAgICcjdW5pdCcsXG4gICAgICAgICcuaGVhZGVyLWxlZnQgW2RhdGEtaWQ9XCJzbGljZXNcIl0nLFxuICAgICAgICAnLmhlYWRlci1sZWZ0IFtkYXRhLWlkPVwiY29sb3JzXCJdJyxcbiAgICAgICAgJy5oZWFkZXItcmlnaHQnLFxuICAgICAgICAnI2FydGJvYXJkcyAuZmxvdy1zdGFydHMnLFxuICAgIF07XG4gICAgbGV0IHNob3dPbkZsb3cgPSBbXG4gICAgICAgICcjZmxvd3MnLFxuICAgICAgICAnI2FydGJvYXJkcyAuZmxvdy1zdGFydHMnLFxuICAgIF07XG4gICAgY29uc3QgaGlkZU9uRkxvd0Rpc3BsYXkgPSBleHBvcnRzLmZsb3dNb2RlID8gJ25vbmUnIDogJyc7XG4gICAgY29uc3Qgc2hvd09uRkxvd0Rpc3BsYXkgPSBleHBvcnRzLmZsb3dNb2RlID8gJycgOiAnbm9uZSc7XG4gICAgaGlkZU9uRkxvdy5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHMpO1xuICAgICAgICBpZiAoZWwpXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gaGlkZU9uRkxvd0Rpc3BsYXk7XG4gICAgfSk7XG4gICAgc2hvd09uRmxvdy5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHMpO1xuICAgICAgICBpZiAoZWwpXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gc2hvd09uRkxvd0Rpc3BsYXk7XG4gICAgfSk7XG4gICAgaWYgKGV4cG9ydHMuZmxvd01vZGUpIHtcbiAgICAgICAgc2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2Zsb3cnKTtcbiAgICAgICAgaGVscGVyXzEucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICAgICAgdGFiXzEuaGlkZU5hdkJhcigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2Zsb3cnKTtcbiAgICAgICAgdGFiXzEuc2hvd05hdkJhcigpO1xuICAgIH1cbiAgICBzY3JlZW5fMS51cGRhdGVTY3JlZW4oKTtcbiAgICBhbGlnbkVsZW1lbnRfMS5hbGlnbkVsZW1lbnQoe1xuICAgICAgICBzY3JvbGxlcjogdmlld2VyLFxuICAgICAgICB0YXJnZXQ6IHNjcmVlbixcbiAgICAgICAgdG9SZWN0OiBjdXJyZW50UmVjdCxcbiAgICAgICAgZnJvbUVkZ2U6IGFsaWduRWxlbWVudF8xLkVkZ2UuaGNlbnRlciB8IGFsaWduRWxlbWVudF8xLkVkZ2UudnRvcCxcbiAgICAgICAgdG9FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhjZW50ZXIgfCBhbGlnbkVsZW1lbnRfMS5FZGdlLnZ0b3BcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2V0Rmxvd01vZGUgPSBzZXRGbG93TW9kZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvZmxvdy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5sZXQgc2hvdWxkQmFja1RvQW5vdGhlciA9IGZhbHNlO1xuZnVuY3Rpb24gaGFzaENoYW5nZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICBpZiAoc2hvdWxkQmFja1RvQW5vdGhlcikge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IG5hdmlnYXRlXzEucGFyc2VVUkxIYXNoKCkuYXJ0Ym9hcmRJbmRleDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPT0gY29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleCkge1xuICAgICAgICAgICAgICAgIGhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3VsZEJhY2tUb0Fub3RoZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuYXZpZ2F0ZV8xLm5hdmlnYXRlQnlVUkxIYXNoKCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmhhc2hDaGFuZ2VFdmVudHMgPSBoYXNoQ2hhbmdlRXZlbnRzO1xuZnVuY3Rpb24gc2V0U2hvdWxkQmFja1RvQW5vdGhlcih2YWx1ZSkge1xuICAgIHNob3VsZEJhY2tUb0Fub3RoZXIgPSB2YWx1ZTtcbn1cbmV4cG9ydHMuc2V0U2hvdWxkQmFja1RvQW5vdGhlciA9IHNldFNob3VsZEJhY2tUb0Fub3RoZXI7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9oZWxwZXIudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvaGVscGVyLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5mdW5jdGlvbiBnZXRFdmVudFRhcmdldChldmVudE5vZGUsIGV2ZW50LCBzZWxlY3Rvcikge1xuICAgIGxldCBjdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGV2ZW50Tm9kZSkge1xuICAgICAgICBpZiAoY3VycmVudC5tYXRjaGVzKHNlbGVjdG9yKSlcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5nZXRFdmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0O1xuZnVuY3Rpb24gZ2V0SW5kZXgoZWxlbWVudCkge1xuICAgIHJldHVybiBwYXJzZUludChlbGVtZW50LmRhdGFzZXQuaW5kZXgpO1xufVxuZXhwb3J0cy5nZXRJbmRleCA9IGdldEluZGV4O1xuZnVuY3Rpb24gbW91c2VvdXRMYXllcigpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvdmVyJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuZXhwb3J0cy5tb3VzZW91dExheWVyID0gbW91c2VvdXRMYXllcjtcbmZ1bmN0aW9uIHNlbGVjdGVkTGF5ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGF5ZXItJyArIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXgpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5leHBvcnRzLnNlbGVjdGVkTGF5ZXIgPSBzZWxlY3RlZExheWVyO1xuZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYXllci0nICsgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCkuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcnVsZXJzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zcGVjdG9yJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xufVxuZXhwb3J0cy5yZW1vdmVTZWxlY3RlZCA9IHJlbW92ZVNlbGVjdGVkO1xuZnVuY3Rpb24gc2NhbGVTaXplKGxlbmd0aCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGxlbmd0aCAvIGNvbW1vbl8xLnN0YXRlLnNjYWxlICogMTApIC8gMTA7XG59XG5leHBvcnRzLnNjYWxlU2l6ZSA9IHNjYWxlU2l6ZTtcbmZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihhLCBiKSB7XG4gICAgbGV0IHgxID0gTWF0aC5tYXgoYS54LCBiLngpO1xuICAgIGxldCB5MSA9IE1hdGgubWF4KGEueSwgYi55KTtcbiAgICBsZXQgeDIgPSBNYXRoLm1pbihhLnggKyBhLndpZHRoLCBiLnggKyBiLndpZHRoKTtcbiAgICBsZXQgeTIgPSBNYXRoLm1pbihhLnkgKyBhLmhlaWdodCwgYi55ICsgYi5oZWlnaHQpO1xuICAgIGxldCB3aWR0aCA9IHgyIC0geDE7XG4gICAgbGV0IGhlaWdodCA9IHkyIC0geTE7XG4gICAgaWYgKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgLy8gbm8gaW50ZXJzZWN0aW9uXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgxLFxuICAgICAgICB5OiB5MSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufVxuZXhwb3J0cy5nZXRJbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb247XG5mdW5jdGlvbiBjbGlja0VsZW1lbnQoZWxlbWVudCkge1xuICAgIGxldCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICBlLmluaXRFdmVudChcImNsaWNrXCIsIHRydWUsIHRydWUpO1xuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcbn1cbmV4cG9ydHMuY2xpY2tFbGVtZW50ID0gY2xpY2tFbGVtZW50O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9oZWxwZXIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2luZGV4LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhcnRib2FyZHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYXJ0Ym9hcmRzICovIFwiLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzXCIpO1xuY29uc3QgZHJhZ0V4cG9ydGFibGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZHJhZ0V4cG9ydGFibGUgKi8gXCIuL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50c1wiKTtcbmNvbnN0IGxheWVyRXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xheWVyRXZlbnRzICovIFwiLi91aS9ldmVudHMvbGF5ZXJFdmVudHMudHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3pvb20gKi8gXCIuL3VpL2V2ZW50cy96b29tLnRzXCIpO1xuY29uc3QgdW5pdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91bml0ICovIFwiLi91aS9ldmVudHMvdW5pdC50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vdGVzICovIFwiLi91aS9ldmVudHMvbm90ZXMudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW5zcGVjdG9yICovIFwiLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzXCIpO1xuY29uc3QgdGFiXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RhYiAqLyBcIi4vdWkvZXZlbnRzL3RhYi50c1wiKTtcbmNvbnN0IHNsaWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zbGljZXMgKi8gXCIuL3VpL2V2ZW50cy9zbGljZXMudHNcIik7XG5jb25zdCBwYW5Nb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bhbk1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzXCIpO1xuY29uc3QgcGVyY2VudGFnZU1vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGVyY2VudGFnZU1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50c1wiKTtcbmNvbnN0IHpvb21fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4va2V5Ym9hcmQvem9vbSAqLyBcIi4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHNcIik7XG5jb25zdCBmbG93XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuY29uc3QgaGFzaENoYW5nZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oYXNoQ2hhbmdlICovIFwiLi91aS9ldmVudHMvaGFzaENoYW5nZS50c1wiKTtcbmNvbnN0IHN3aXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9rZXlib2FyZC9zd2l0Y2ggKi8gXCIuL3VpL2V2ZW50cy9rZXlib2FyZC9zd2l0Y2gudHNcIik7XG5mdW5jdGlvbiBldmVudHMoKSB7XG4gICAgbGF5ZXJFdmVudHNfMS5sYXllckV2ZW50cygpO1xuICAgIGFydGJvYXJkc18xLmFydGJvYXJkc0V2ZW50cygpO1xuICAgIHpvb21fMS56b29tRXZlbnRzKCk7XG4gICAgdW5pdF8xLnVuaXRFdmVudHMoKTtcbiAgICBub3Rlc18xLm5vdGVFdmVudHMoKTtcbiAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3JFdmVudHMoKTtcbiAgICB0YWJfMS50YWJFdmVudHMoKTtcbiAgICBzbGljZXNfMS5zbGljZUV2ZW50cygpO1xuICAgIHBhbk1vZGVfMS5wYW5Nb2RlRXZlbnRzKCk7XG4gICAgcGVyY2VudGFnZU1vZGVfMS5wZXJjZW50YWdlTW9kZUV2ZW50cygpO1xuICAgIHpvb21fMi5rZXlib2FyZFpvb21FdmVudHMoKTtcbiAgICBkcmFnRXhwb3J0YWJsZV8xLmRyYWdFeHBvcnRhYmxlRXZlbnRzKCk7XG4gICAgZmxvd18xLmZsb3dFdmVudHMoKTtcbiAgICBzd2l0Y2hfMS5rZXlib2FyZFN3aXRjaEV2ZW50cygpO1xuICAgIGhhc2hDaGFuZ2VfMS5oYXNoQ2hhbmdlRXZlbnRzKCk7XG59XG5leHBvcnRzLmV2ZW50cyA9IGV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9pbnNwZWN0b3IudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbG9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2NvbG9ycyAqLyBcIi4vdWkvcmVuZGVyL2NvbG9ycy50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBpbnNwZWN0b3JFdmVudHMoKSB7XG4gICAgbGV0IGZvcm1hdHMgPSBbJ2NvbG9yLWhleCcsICdhcmdiLWhleCcsICdjc3MtcmdiYScsICdjc3MtaHNsYScsICd1aS1jb2xvciddO1xuICAgIGxldCBpbnNwZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zcGVjdG9yJyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKGluc3BlY3RvciwgJ2NsaWNrJywgJy5jb2xvciBsYWJlbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IGZvcm1hdHMuaW5kZXhPZihjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdCk7XG4gICAgICAgIGxldCBuZXh0ID0gKGN1cnJlbnQgKyAxKSAlIGZvcm1hdHMubGVuZ3RoO1xuICAgICAgICBjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdCA9IGZvcm1hdHNbbmV4dF07XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xvciBpbnB1dCcpLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSBKU09OLnBhcnNlKGRlY29kZVVSSShpLmRhdGFzZXQuY29sb3IpKTtcbiAgICAgICAgICAgIGkudmFsdWUgPSBjb2xvcnNbY29tbW9uXzEuc3RhdGUuY29sb3JGb3JtYXRdO1xuICAgICAgICB9KTtcbiAgICAgICAgY29sb3JzXzEuY29sb3JzKCk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKGluc3BlY3RvciwgJ2RibGNsaWNrJywgJ2lucHV0LCB0ZXh0YXJlYScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5pbnNwZWN0b3JFdmVudHMgPSBpbnNwZWN0b3JFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2luc3BlY3Rvci50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2tleWJvYXJkL3N3aXRjaC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9rZXlib2FyZC9zd2l0Y2gudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBrZXlib2FyZFN3aXRjaEV2ZW50cygpIHtcbiAgICAvKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgIHN3aXRjaCAoU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC53aGljaCkpIHtcbiAgICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3ctbW9kZScpXG4gICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctbm90ZXMnKVxuICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICB9XG4gICAgIH0pO1xuICAgICAgICAgKi9cbn1cbmV4cG9ydHMua2V5Ym9hcmRTd2l0Y2hFdmVudHMgPSBrZXlib2FyZFN3aXRjaEV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMva2V5Ym9hcmQvc3dpdGNoLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi96b29tICovIFwiLi91aS9ldmVudHMvem9vbS50c1wiKTtcbmZ1bmN0aW9uIGtleWJvYXJkWm9vbUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgLy8gY29udHJvbCBvciBjb21tYW5kIGtleVxuICAgICAgICBpZiAoIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgICAgIGNhc2UgMTg3OlxuICAgICAgICAgICAgICAgIGlmIChjb21tb25fMS5zdGF0ZS56b29tIDwgNClcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyXzEuY2xpY2tFbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy56b29tLW91dCcpKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgMTg5OlxuICAgICAgICAgICAgICAgIGlmIChjb21tb25fMS5zdGF0ZS56b29tID4gLjI1KVxuICAgICAgICAgICAgICAgICAgICBoZWxwZXJfMS5jbGlja0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpvb20taW4nKSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgICAgIHpvb21fMS56b29tUmVuZGVyKDEpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5rZXlib2FyZFpvb21FdmVudHMgPSBrZXlib2FyZFpvb21FdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9sYXllckV2ZW50cy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2xheWVyRXZlbnRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGluc3BlY3Rvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2luc3BlY3RvciAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9pbmRleC50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBwYW5Nb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bhbk1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzXCIpO1xuZnVuY3Rpb24gbGF5ZXJFdmVudHMoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAocGFuTW9kZV8xLnBhbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChoZWxwZXJfMS5nZXRFdmVudFRhcmdldChkb2N1bWVudC5ib2R5LCBldmVudCwgJ2hlYWRlciwgI2luc3BlY3RvciwgLm5hdmJhcicpKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGljZS1sYXllcicpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWNlLWxheWVyJykpID9cbiAgICAgICAgICAgICAgICB0YXJnZXQgOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXllci0nICsgdGFyZ2V0LmRhdGFzZXQub2JqZWN0aWQpO1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KHNlbGVjdGVkKTtcbiAgICAgICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgICAgICBoZWxwZXJfMS5zZWxlY3RlZExheWVyKCk7XG4gICAgICAgICAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3IoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoZWxwZXJfMS5yZW1vdmVTZWxlY3RlZCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChwYW5Nb2RlXzEucGFuTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaGVscGVyXzEubW91c2VvdXRMYXllcigpO1xuICAgICAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2NyZWVuLXZpZXdlcicpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NjcmVlbi12aWV3ZXItaW5uZXInKSkge1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSBnZXRFZGdlUmVjdChldmVudCk7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRpc3RhbmNlXzEuZGlzdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG1vdXNlb3ZlckxheWVyKCk7XG4gICAgICAgICAgICBkaXN0YW5jZV8xLmRpc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5sYXllckV2ZW50cyA9IGxheWVyRXZlbnRzO1xuZnVuY3Rpb24gbW91c2VvdmVyTGF5ZXIoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ICYmIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT0gY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVyLScgKyBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCk7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hvdmVyJyk7XG4gICAgbGV0IHJ2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J2Jyk7XG4gICAgcnYuc3R5bGUubGVmdCA9IHRhcmdldC5vZmZzZXRMZWZ0ICsgJ3B4JztcbiAgICBydi5zdHlsZS53aWR0aCA9IHRhcmdldC5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgbGV0IHJoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JoJyk7XG4gICAgcmguc3R5bGUudG9wID0gdGFyZ2V0Lm9mZnNldFRvcCArICdweCc7XG4gICAgcmguc3R5bGUuaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodCArICdweCc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnJztcbn1cbmZ1bmN0aW9uIGdldEVkZ2VSZWN0KGV2ZW50KSB7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgcmVjdCA9IHNjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgeCA9IChldmVudC5wYWdlWCAtIHJlY3QubGVmdCkgLyBjb21tb25fMS5zdGF0ZS56b29tO1xuICAgIGxldCB5ID0gKGV2ZW50LnBhZ2VZIC0gcmVjdC50b3ApIC8gY29tbW9uXzEuc3RhdGUuem9vbTtcbiAgICBsZXQgd2lkdGggPSAxMDtcbiAgICBsZXQgaGVpZ2h0ID0gMTA7XG4gICAgbGV0IHhTY29wZSA9ICh4ID49IDAgJiYgeCA8PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKTtcbiAgICBsZXQgeVNjb3BlID0gKHkgPj0gMCAmJiB5IDw9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAvLyBsZWZ0IGFuZCB0b3BcbiAgICBpZiAoeCA8PSAwICYmIHkgPD0gMCkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gLTEwO1xuICAgIH1cbiAgICAvLyByaWdodCBhbmQgdG9wXG4gICAgZWxzZSBpZiAoeCA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoICYmIHkgPD0gMCkge1xuICAgICAgICB4ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICB9XG4gICAgLy8gcmlnaHQgYW5kIGJvdHRvbVxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIHggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICB5ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8vIGxlZnQgYW5kIGJvdHRvbVxuICAgIGVsc2UgaWYgKHggPD0gMCAmJiB5ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIHggPSAtMTA7XG4gICAgICAgIHkgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgLy8gdG9wXG4gICAgZWxzZSBpZiAoeSA8PSAwICYmIHhTY29wZSkge1xuICAgICAgICB4ID0gMDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgIH1cbiAgICAvLyByaWdodFxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5U2NvcGUpIHtcbiAgICAgICAgeCA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGg7XG4gICAgICAgIHkgPSAwO1xuICAgICAgICBoZWlnaHQgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgLy8gYm90dG9tXG4gICAgZWxzZSBpZiAoeSA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCAmJiB4U2NvcGUpIHtcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIHkgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgIH1cbiAgICAvLyBsZWZ0XG4gICAgZWxzZSBpZiAoeCA8PSAwICYmIHlTY29wZSkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgaGVpZ2h0ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIGlmICh4U2NvcGUgJiYgeVNjb3BlKSB7XG4gICAgICAgIHggPSAwO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9sYXllckV2ZW50cy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvbmF2aWdhdGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBsYXllcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9sYXllcnMgKi8gXCIuL3VpL3JlbmRlci9sYXllcnMudHNcIik7XG5jb25zdCBub3Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL25vdGVzICovIFwiLi91aS9yZW5kZXIvbm90ZXMudHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzY3JlZW5fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zY3JlZW4gKi8gXCIuL3VpL3JlbmRlci9zY3JlZW4udHNcIik7XG5jb25zdCBmbG93XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuY29uc3QgaGVscGVyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGhhc2hDaGFuZ2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGFzaENoYW5nZSAqLyBcIi4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHNcIik7XG5mdW5jdGlvbiBnb3RvQXJ0Ym9hcmQocGFyYSwgdXBkYXRlSGFzaCA9IHRydWUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGhhc2hDaGFuZ2VfMS5zZXRTaG91bGRCYWNrVG9Bbm90aGVyKGZhbHNlKTtcbiAgICBsZXQgaW5kZXg7XG4gICAgaWYgKHR5cGVvZiBwYXJhID09ICdudW1iZXInKSB7XG4gICAgICAgIGluZGV4ID0gcGFyYTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluZGV4ID0gbGF5ZXJzXzEuTWFwQXJ0Ym9hcmRJRFRvSW5kZXhbcGFyYV07XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGhlbHBlcl8xLm1lc3NhZ2UoY29tbW9uXzEubG9jYWxpemUoJ1RhcmdldCBhcnRib2FyZCBub3QgZXhwb3J0ZWQuJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb21tb25fMS5zdGF0ZS5hcnRib2FyZEluZGV4ID09IGluZGV4KVxuICAgICAgICByZXR1cm47XG4gICAgLy8gY2xlYXIgZmxvd3MgYW5pbWF0aW9uIGJlZm9yZSBzd2l0Y2hcbiAgICBsZXQgZmxvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvd3MnKTtcbiAgICBmbG93cy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWZsb3dzJyk7XG4gICAgaGVscGVyXzIucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICBjb21tb25fMS5zdGF0ZS5hcnRib2FyZEluZGV4ID0gaW5kZXg7XG4gICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICBjb21tb25fMS5zdGF0ZS5jdXJyZW50ID0gY29tbW9uXzEucHJvamVjdC5hcnRib2FyZHNbY29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleF07XG4gICAgc2NyZWVuXzEudXBkYXRlU2NyZWVuKHRydWUpO1xuICAgIGxheWVyc18xLmxheWVycygpO1xuICAgIG5vdGVzXzEubm90ZXMoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZlJykuZm9yRWFjaChlID0+IGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcnRib2FyZC0nICsgaW5kZXgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgKF9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0cG9pbnQtJyArIGluZGV4KSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGlmICh1cGRhdGVIYXNoKVxuICAgICAgICB1cGRhdGVVUkxIYXNoKCk7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50Lm5hbWUgKyAnIC0gU2tldGNoIE1lYVh1cmUnO1xufVxuZXhwb3J0cy5nb3RvQXJ0Ym9hcmQgPSBnb3RvQXJ0Ym9hcmQ7XG5mdW5jdGlvbiBuYXZpZ2F0ZUJ5VVJMSGFzaCh1cGRhdGVIYXNoID0gdHJ1ZSkge1xuICAgIGxldCBzZXR0aW5nID0gcGFyc2VVUkxIYXNoKCk7XG4gICAgZ290b0FydGJvYXJkKHNldHRpbmcuYXJ0Ym9hcmRJbmRleCwgZmFsc2UpO1xuICAgIGlmIChmbG93XzEuZmxvd01vZGUgIT09IHNldHRpbmcuZmxvd01vZGUpIHtcbiAgICAgICAgZmxvd18xLnNldEZsb3dNb2RlKHNldHRpbmcuZmxvd01vZGUpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlSGFzaClcbiAgICAgICAgdXBkYXRlVVJMSGFzaCgpO1xufVxuZXhwb3J0cy5uYXZpZ2F0ZUJ5VVJMSGFzaCA9IG5hdmlnYXRlQnlVUkxIYXNoO1xuZnVuY3Rpb24gdXBkYXRlVVJMSGFzaCgpIHtcbiAgICBsZXQgaGFzaCA9IGdldFVSTEhhc2goKTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT0gaGFzaClcbiAgICAgICAgcmV0dXJuO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcbn1cbmV4cG9ydHMudXBkYXRlVVJMSGFzaCA9IHVwZGF0ZVVSTEhhc2g7XG5mdW5jdGlvbiBoaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkKCkge1xuICAgIGhhc2hDaGFuZ2VfMS5zZXRTaG91bGRCYWNrVG9Bbm90aGVyKHRydWUpO1xuICAgIGhpc3RvcnkuYmFjaygpO1xufVxuZXhwb3J0cy5oaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkID0gaGlzdG9yeUJhY2tVbnRpbEFub3RoZXJBcnRib2FyZDtcbmZ1bmN0aW9uIGdldFVSTEhhc2goKSB7XG4gICAgcmV0dXJuIGAjJHtmbG93XzEuZmxvd01vZGUgPyAncCcgOiAnYXJ0Ym9hcmQnfSR7Y29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleH1gO1xufVxuZXhwb3J0cy5nZXRVUkxIYXNoID0gZ2V0VVJMSGFzaDtcbmZ1bmN0aW9uIHBhcnNlVVJMSGFzaCgpIHtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBmbG93TW9kZTogZmFsc2UsXG4gICAgICAgIGFydGJvYXJkSW5kZXg6IDAsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAgI1tzfHBdW2luZGV4XVxuICAgICAgczogc3BlY2lmaWNhdGlvbiBtb2RlXG4gICAgICBwOiBwcm90b3R5cGUgbW9kZSAgc1xuICAgICAgaW5kZXg6IGFydGJvYXJkIGluZGV4XG4gICAgICovXG4gICAgbGV0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICByZXN1bHQuZmxvd01vZGUgPSBoYXNoLnN1YnN0cigxLCAxKSA9PT0gJ3AnO1xuICAgIGxldCBpbmRleCA9IE51bWJlcihoYXNoLnN1YnN0cig5KSk7XG4gICAgaWYgKGlzTmFOKGluZGV4KSlcbiAgICAgICAgaW5kZXggPSBOdW1iZXIoaGFzaC5zdWJzdHIoOSkpO1xuICAgIGlmIChpc05hTihpbmRleCkpXG4gICAgICAgIGluZGV4ID0gMDtcbiAgICByZXN1bHQuYXJ0Ym9hcmRJbmRleCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnBhcnNlVVJMSGFzaCA9IHBhcnNlVVJMSGFzaDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvbmF2aWdhdGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9ub3Rlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL25vdGVzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgZGlzdGFuY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGlzdGFuY2UgKi8gXCIuL3VpL2V2ZW50cy9kaXN0YW5jZS50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBub3RlRXZlbnRzKCkge1xuICAgIGxldCBub3RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3RlcycpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG93LW5vdGVzJylcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXM7XG4gICAgICAgIG5vdGVzLnN0eWxlLmRpc3BsYXkgPSB0YXJnZXQuY2hlY2tlZCA/ICcnIDogJ25vbmUnO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShub3RlcywgJ21vdXNlbW92ZScsICcubm90ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgIGxldCBub3RlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICAgICAgbm90ZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGlmIChub3RlLmNsaWVudFdpZHRoID4gMTYwKSB7XG4gICAgICAgICAgICBub3RlLnN0eWxlLndpZHRoID0gJzE2MHB4JztcbiAgICAgICAgICAgIG5vdGUuc3R5bGUud2hpdGVTcGFjZSA9ICdub3JtYWwnO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICAgIG5vdGVzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIG5vdGVzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlIGRpdicpLmZvckVhY2goKGRpdikgPT4gZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5ub3RlRXZlbnRzID0gbm90ZUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvbm90ZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuZXhwb3J0cy5wYW5Nb2RlID0gZmFsc2U7XG5mdW5jdGlvbiBwYW5Nb2RlRXZlbnRzKCkge1xuICAgIGxldCBtb3ZpbmcgPSBmYWxzZTtcbiAgICBsZXQgbW92ZURhdGE7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMzIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJykuY2xhc3NMaXN0LmFkZCgnbW92aW5nLXNjcmVlbicpO1xuICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgIGV4cG9ydHMucGFuTW9kZSA9IHRydWU7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDMyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZycpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZy1zY3JlZW4nKTtcbiAgICAgICAgZXhwb3J0cy5wYW5Nb2RlID0gZmFsc2U7XG4gICAgICAgIG1vdmluZyA9IGZhbHNlO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBldmVudCA9PiB7XG4gICAgICAgIGxldCBjdXJzb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJyk7XG4gICAgICAgIGN1cnNvci5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WCArICdweCc7XG4gICAgICAgIGN1cnNvci5zdHlsZS50b3AgPSBldmVudC5jbGllbnRZICsgJ3B4JztcbiAgICAgICAgaWYgKCFtb3ZpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsTGVmdCA9IChtb3ZlRGF0YS54IC0gZXZlbnQuY2xpZW50WCkgKyBtb3ZlRGF0YS5zY3JvbGxMZWZ0O1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsVG9wID0gKG1vdmVEYXRhLnkgLSBldmVudC5jbGllbnRZKSArIG1vdmVEYXRhLnNjcm9sbFRvcDtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoIWV4cG9ydHMucGFuTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGN1cnNvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKTtcbiAgICAgICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgICAgIGN1cnNvci5jbGFzc0xpc3QuYWRkKCdtb3ZpbmcnKTtcbiAgICAgICAgbW92ZURhdGEgPSB7XG4gICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WSxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IHZpZXdlci5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsVG9wOiB2aWV3ZXIuc2Nyb2xsVG9wLFxuICAgICAgICB9O1xuICAgICAgICBtb3ZpbmcgPSB0cnVlO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoIWV4cG9ydHMucGFuTW9kZSB8fCAhbW92aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY3Vyc29yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpO1xuICAgICAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICAgICAgdmlld2VyLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZy1zY3JlZW4nKTtcbiAgICAgICAgY3Vyc29yLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZycpO1xuICAgICAgICBtb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucGFuTW9kZUV2ZW50cyA9IHBhbk1vZGVFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL3Bhbk1vZGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3BlcmNlbnRhZ2VNb2RlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBwZXJjZW50YWdlTW9kZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAxOClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ3BlcmNlbnRhZ2UtbW9kZScpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAxOClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3BlcmNlbnRhZ2UtbW9kZScpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5wZXJjZW50YWdlTW9kZUV2ZW50cyA9IHBlcmNlbnRhZ2VNb2RlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3NsaWNlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9zbGljZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgaGVscGVyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBzbGljZUV2ZW50cygpIHtcbiAgICBsZXQgc2xpY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWNlcycpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShzbGljZXMsICdtb3VzZW92ZXInLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxheWVyLScgKyB0aGlzLmRhdGFzZXQub2JqZWN0aWQpXG4gICAgICAgICAgICAuZm9yRWFjaChkaXYgPT4gZGl2LmNsYXNzTGlzdC5hZGQoJ2hhcy1zbGljZScpKTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoc2xpY2VzLCAnbW91c2VvdXQnLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhhcy1zbGljZScpXG4gICAgICAgICAgICAuZm9yRWFjaChkaXYgPT4gZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1zbGljZScpKTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoc2xpY2VzLCAnY2xpY2snLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGxheWVyY2xzID0gJy5sYXllci0nICsgdGhpcy5kYXRhc2V0Lm9iamVjdGlkO1xuICAgICAgICBsZXQgaW5zdGFuY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChsYXllcmNscyk7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IGluc3RhbmNlc1swXTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoZWxwZXJfMi5tZXNzYWdlKGNvbW1vbl8xLmxvY2FsaXplKCdUaGUgc2xpY2Ugbm90IGluIGN1cnJlbnQgYXJ0Ym9hcmQuJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvZmZzZXRzID0gaW5zdGFuY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgICAgICBsZXQgc2Nyb2xscyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IHZpZXdlci5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgdG9wOiB2aWV3ZXIuc2Nyb2xsVG9wLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgc2l6ZXMgPSB7XG4gICAgICAgICAgICB3aWR0aDogaW5zdGFuY2UuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGluc3RhbmNlLmNsaWVudEhlaWdodFxuICAgICAgICB9O1xuICAgICAgICBsZXQgdmlld2VyU2l6ZXMgPSB7XG4gICAgICAgICAgICB3aWR0aDogdmlld2VyLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWV3ZXIuY2xpZW50SGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIHZpZXdlci5zY3JvbGxMZWZ0ID0gKG9mZnNldHMubGVmdCArIHNjcm9sbHMubGVmdCkgLSAoKHZpZXdlclNpemVzLndpZHRoIC0gc2l6ZXMud2lkdGgpIC8gMik7XG4gICAgICAgIHZpZXdlci5zY3JvbGxUb3AgPSAob2Zmc2V0cy50b3AgKyBzY3JvbGxzLnRvcCAtIDYwKSAtICgodmlld2VyU2l6ZXMuaGVpZ2h0IC0gc2l6ZXMuaGVpZ2h0KSAvIDIpO1xuICAgICAgICBoZWxwZXJfMS5jbGlja0VsZW1lbnQoaW5zdGFuY2UpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zbGljZUV2ZW50cyA9IHNsaWNlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9zbGljZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy90YWIudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvdGFiLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIHRhYkV2ZW50cygpIHtcbiAgICBsZXQgdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1sZWZ0IC50YWInKTtcbiAgICBsZXQgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh0YWIsICdjbGljaycsICdsaScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRhYi5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCcpO1xuICAgICAgICBpZiAodGhpcyA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICBsZXQgaWQgPSB0aGlzLmRhdGFzZXQuaWQ7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgICAgICBuYXZiYXIuY2xhc3NMaXN0LmFkZCgnb24nKTtcbiAgICAgICAgbmF2YmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24nKS5mb3JFYWNoKChzZWMpID0+IHNlYy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTtcbiAgICAgICAgbmF2YmFyLnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9KTtcbn1cbmV4cG9ydHMudGFiRXZlbnRzID0gdGFiRXZlbnRzO1xuZnVuY3Rpb24gaGlkZU5hdkJhcigpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbGVmdCAudGFiJyk7XG4gICAgKF9hID0gdGFiLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgbGV0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbn1cbmV4cG9ydHMuaGlkZU5hdkJhciA9IGhpZGVOYXZCYXI7XG5mdW5jdGlvbiBzaG93TmF2QmFyKCkge1xuICAgIGxldCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbi1hcnRib2FyZHMnKTtcbiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgIGxldCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XG4gICAgbmF2YmFyLmNsYXNzTGlzdC5hZGQoJ29uJyk7XG59XG5leHBvcnRzLnNob3dOYXZCYXIgPSBzaG93TmF2QmFyO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy90YWIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy91bml0LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy91bml0LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBsYXllcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9sYXllcnMgKi8gXCIuL3VpL3JlbmRlci9sYXllcnMudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9pbnNwZWN0b3IgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHNcIik7XG5jb25zdCBzbGljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zbGljZXMgKi8gXCIuL3VpL3JlbmRlci9zbGljZXMudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gdW5pdEV2ZW50cygpIHtcbiAgICBsZXQgdW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1bml0Jyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHVuaXQsICdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1yZXNvbHV0aW9uXScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IHVuaXQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1yZXNvbHV0aW9uXTpjaGVja2VkJyk7XG4gICAgICAgIGNvbW1vbl8xLnN0YXRlLnVuaXQgPSBjaGVja2VkLmRhdGFzZXQudW5pdDtcbiAgICAgICAgY29tbW9uXzEuc3RhdGUuc2NhbGUgPSBOdW1iZXIoY2hlY2tlZC5kYXRhc2V0LnNjYWxlKTtcbiAgICAgICAgbGF5ZXJzXzEubGF5ZXJzKCk7XG4gICAgICAgIGluc3BlY3Rvcl8xLmluc3BlY3RvcigpO1xuICAgICAgICB1bml0LmJsdXIoKTtcbiAgICAgICAgdW5pdC5xdWVyeVNlbGVjdG9yKCdwJykuaW5uZXJUZXh0ID0gY2hlY2tlZC5kYXRhc2V0Lm5hbWU7XG4gICAgICAgIHNsaWNlc18xLnNsaWNlcygpO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh1bml0LCAnY2xpY2snLCAnaDMsIC5vdmVybGF5JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHVuaXQuYmx1cigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy51bml0RXZlbnRzID0gdW5pdEV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvdW5pdC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3pvb20udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3pvb20udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IHNjcmVlbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL3NjcmVlbiAqLyBcIi4vdWkvcmVuZGVyL3NjcmVlbi50c1wiKTtcbmNvbnN0IGxheWVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2xheWVycyAqLyBcIi4vdWkvcmVuZGVyL2xheWVycy50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvbm90ZXMgKi8gXCIuL3VpL3JlbmRlci9ub3Rlcy50c1wiKTtcbmNvbnN0IHpvb21fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci96b29tICovIFwiLi91aS9yZW5kZXIvem9vbS50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuY29uc3QgYWxpZ25FbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FsaWduRWxlbWVudCAqLyBcIi4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50c1wiKTtcbmZ1bmN0aW9uIHpvb21FdmVudHMoKSB7XG4gICAgbGV0IHpvb21lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tJyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHpvb21lciwgJ2NsaWNrJywgJy56b29tLWluOm5vdChkaXNhYmxlZCksIC56b29tLW91dDpub3QoZGlzYWJsZWQpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnem9vbS1pbicpKSB7XG4gICAgICAgICAgICB6b29tUmVuZGVyKGNvbW1vbl8xLnN0YXRlLnpvb20gLSAuMjUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgem9vbVJlbmRlcihjb21tb25fMS5zdGF0ZS56b29tICsgLjI1KTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuem9vbUV2ZW50cyA9IHpvb21FdmVudHM7XG5mdW5jdGlvbiB6b29tUmVuZGVyKHZhbCkge1xuICAgIGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgY3VycmVudFJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjcmVlblBvaW50ID0gc2NyZWVuUG9pbnRPblZpZXdlckNlbnRlcih2aWV3ZXIsIHNjcmVlbik7XG4gICAgbGV0IHNjcmVlblBvaW50MiA9IHtcbiAgICAgICAgeDogc2NyZWVuUG9pbnQueCAqIHZhbCAvIGNvbW1vbl8xLnN0YXRlLnpvb20sXG4gICAgICAgIHk6IHNjcmVlblBvaW50LnkgKiB2YWwgLyBjb21tb25fMS5zdGF0ZS56b29tLFxuICAgIH07XG4gICAgY29tbW9uXzEuc3RhdGUuem9vbSA9IHZhbDtcbiAgICB6b29tXzEuem9vbSgpO1xuICAgIHNjcmVlbl8xLnVwZGF0ZVNjcmVlbigpO1xuICAgIGFsaWduRWxlbWVudF8xLmFsaWduRWxlbWVudCh7XG4gICAgICAgIHNjcm9sbGVyOiB2aWV3ZXIsXG4gICAgICAgIHRhcmdldDogc2NyZWVuLFxuICAgICAgICB0b1JlY3Q6IGN1cnJlbnRSZWN0LFxuICAgICAgICBmcm9tRWRnZTogYWxpZ25FbGVtZW50XzEuRWRnZS5obGVmdCB8IGFsaWduRWxlbWVudF8xLkVkZ2UudnRvcCxcbiAgICAgICAgdG9FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhsZWZ0IHwgYWxpZ25FbGVtZW50XzEuRWRnZS52dG9wLFxuICAgIH0pO1xuICAgIHZpZXdlci5zY3JvbGxMZWZ0ICs9IHNjcmVlblBvaW50Mi54IC0gc2NyZWVuUG9pbnQueDtcbiAgICB2aWV3ZXIuc2Nyb2xsVG9wICs9IHNjcmVlblBvaW50Mi55IC0gc2NyZWVuUG9pbnQueTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbGF5ZXJzLCAjbm90ZXMnKS5mb3JFYWNoKGUgPT4gZS5pbm5lckhUTUwgPSAnJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxheWVyc18xLmxheWVycygpO1xuICAgICAgICBub3Rlc18xLm5vdGVzKCk7XG4gICAgfSwgMTUwKTtcbn1cbmV4cG9ydHMuem9vbVJlbmRlciA9IHpvb21SZW5kZXI7XG5mdW5jdGlvbiBzY3JlZW5Qb2ludE9uVmlld2VyQ2VudGVyKHZpZXdlciwgc2NyZWVuKSB7XG4gICAgbGV0IHZpZXdlclJlY3QgPSB2aWV3ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjcmVlblJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHZpZXdlckNlbnRlciA9IHtcbiAgICAgICAgeDogdmlld2VyUmVjdC54ICsgdmlld2VyUmVjdC53aWR0aCAvIDIsXG4gICAgICAgIHk6IHZpZXdlclJlY3QueSArIHZpZXdlclJlY3QuaGVpZ2h0IC8gMixcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZpZXdlckNlbnRlci54IC0gc2NyZWVuUmVjdC54LFxuICAgICAgICB5OiB2aWV3ZXJDZW50ZXIueSAtIHNjcmVlblJlY3QueSxcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy96b29tLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZW5kZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyICovIFwiLi91aS9yZW5kZXIvaW5kZXgudHNcIik7XG53aW5kb3cubWVheHVyZSA9IHtcbiAgICByZW5kZXI6IHJlbmRlcl8xLnJlbmRlcixcbn07XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9hcnRib2FyZHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiBhcnRib2FyZHMoKSB7XG4gICAgbGV0IGFydGJvYXJkTGlzdEhUTUwgPSBbXTtcbiAgICBsZXQgcGFnZXNTZWxlY3QgPSBbXTtcbiAgICBsZXQgZmxvd1N0YXJ0cyA9IFtdO1xuICAgIGxldCBwYWdlc0RhdGEgPSB7fTtcbiAgICBhcnRib2FyZExpc3RIVE1MLnB1c2goJzx1bCBjbGFzcz1cImFydGJvYXJkLWxpc3RcIj4nKTtcbiAgICBjb21tb25fMS5wcm9qZWN0LmFydGJvYXJkcy5mb3JFYWNoKChhcnRib2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFwYWdlc0RhdGFbYXJ0Ym9hcmQucGFnZU9iamVjdElEXSkge1xuICAgICAgICAgICAgcGFnZXNEYXRhW2FydGJvYXJkLnBhZ2VPYmplY3RJRF0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogYXJ0Ym9hcmQucGFnZU5hbWUsXG4gICAgICAgICAgICAgICAgb2JqZWN0SUQ6IGFydGJvYXJkLnBhZ2VPYmplY3RJRCxcbiAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlc0RhdGFbYXJ0Ym9hcmQucGFnZU9iamVjdElEXS5jb3VudCsrO1xuICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IChjb21tb25fMi5zdGF0ZS5hcnRib2FyZEluZGV4ID09IGluZGV4KSA/ICcgYWN0aXZlJyA6ICcnO1xuICAgICAgICBsZXQgaW1hZ2VEYXRhID0gYXJ0Ym9hcmQuaW1hZ2VCYXNlNjQgPyBhcnRib2FyZC5pbWFnZUJhc2U2NCA6IGFydGJvYXJkLmltYWdlSWNvblBhdGggKyAnPycgKyBjb21tb25fMS50aW1lc3RhbXA7XG4gICAgICAgIGxldCBhcnRib2FyZExpQm9keSA9IGA8cGljdHVyZSBjbGFzcz1cInByZXZpZXctaW1nXCIgZGF0YS1uYW1lPVwiJHthcnRib2FyZC5uYW1lfVwiPmAgK1xuICAgICAgICAgICAgYDxpbWcgYWx0PVwiJHthcnRib2FyZC5uYW1lfVwiIHNyYz1cIiR7aW1hZ2VEYXRhfVwiPmAgK1xuICAgICAgICAgICAgYDwvcGljdHVyZT5gICtcbiAgICAgICAgICAgIGA8ZGl2PmAgK1xuICAgICAgICAgICAgYDxoMz4ke2FydGJvYXJkLm5hbWV9PC9oMz5gICtcbiAgICAgICAgICAgIGA8c21hbGw+JHthcnRib2FyZC5wYWdlTmFtZX08L3NtYWxsPmAgK1xuICAgICAgICAgICAgYDwvZGl2PmA7XG4gICAgICAgIGFydGJvYXJkTGlzdEhUTUwucHVzaChgPGxpIGlkPVwiYXJ0Ym9hcmQtJHtpbmRleH1cIiB0YWJpbmRleD1cIiR7aW5kZXh9XCIgY2xhc3M9XCJhcnRib2FyZCR7Y2xhc3NOYW1lc31cIiBkYXRhLXBhZ2UtaWQ9XCIke2FydGJvYXJkLnBhZ2VPYmplY3RJRH1cIiBkYXRhLWlkPVwiJHthcnRib2FyZC5vYmplY3RJRH1cIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIiA+YCArXG4gICAgICAgICAgICBhcnRib2FyZExpQm9keSArXG4gICAgICAgICAgICBgPC9saT5gKTtcbiAgICAgICAgaWYgKGFydGJvYXJkLmZsb3dTdGFydFBvaW50KVxuICAgICAgICAgICAgZmxvd1N0YXJ0cy5wdXNoKGA8bGkgaWQ9XCJzdGFydHBvaW50LSR7aW5kZXh9XCIgY2xhc3M9XCJhcnRib2FyZCR7Y2xhc3NOYW1lc31cIiBkYXRhLXBhZ2UtaWQ9XCIke2FydGJvYXJkLnBhZ2VPYmplY3RJRH1cIiBkYXRhLWlkPVwiJHthcnRib2FyZC5vYmplY3RJRH1cIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIiA+YCArXG4gICAgICAgICAgICAgICAgYXJ0Ym9hcmRMaUJvZHkgK1xuICAgICAgICAgICAgICAgIGA8L2xpPmApO1xuICAgIH0pO1xuICAgIGFydGJvYXJkTGlzdEhUTUwucHVzaCgnPC91bD4nKTtcbiAgICBwYWdlc1NlbGVjdC5wdXNoKCc8ZGl2IGNsYXNzPVwicGFnZXMtc2VsZWN0XCIgdGFiaW5kZXg9XCIwXCI+JywgYDxoMz4ke2NvbW1vbl8xLmxvY2FsaXplKCdBbGwgYXJ0Ym9hcmRzJyl9IDxlbT4oJHtjb21tb25fMS5wcm9qZWN0LmFydGJvYXJkcy5sZW5ndGh9KTwvZW0+PC9oMz5gLCAnPHVsIGNsYXNzPVwicGFnZS1saXN0XCI+JywgYDxsaT48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwYWdlXCIgdmFsdWU9XCJhbGxcIiBjaGVja2VkPVwiY2hlY2tlZFwiPjxzcGFuPiR7Y29tbW9uXzEubG9jYWxpemUoJ0FsbCBhcnRib2FyZHMnKX0gPGVtPigke2NvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzLmxlbmd0aH0pPC9lbT48L3NwYW4+PC9sYWJlbD48L2xpPmApO1xuICAgIE9iamVjdC5rZXlzKHBhZ2VzRGF0YSkuZm9yRWFjaChvYmplY3RJRCA9PiB7XG4gICAgICAgIGxldCBhcnRib2FyZCA9IHBhZ2VzRGF0YVtvYmplY3RJRF07XG4gICAgICAgIHBhZ2VzU2VsZWN0LnB1c2goYDxsaT48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJwYWdlXCIgdmFsdWU9XCIke2FydGJvYXJkLm9iamVjdElEfVwiPjxzcGFuPiR7YXJ0Ym9hcmQubmFtZX0gPGVtPigke2FydGJvYXJkLmNvdW50fSk8L2VtPjwvc3Bhbj48L2xhYmVsPjwvbGk+YCk7XG4gICAgfSk7XG4gICAgcGFnZXNTZWxlY3QucHVzaCgnPC91bD4nKTtcbiAgICBwYWdlc1NlbGVjdC5wdXNoKCc8L2Rpdj4nKTtcbiAgICBpZiAoZmxvd1N0YXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgZmxvd1N0YXJ0cy51bnNoaWZ0KCc8ZGl2IGNsYXNzPVwiZmxvdy1zdGFydHNcIj4nLCAnPGRpdiBjbGFzcz1cInRpdGxlXCI+JywgYDxoMz4ke2NvbW1vbl8xLmxvY2FsaXplKCdTdGFydCBwb2ludHMnKX0gPGVtPigke2Zsb3dTdGFydHMubGVuZ3RofSk8L2VtPjwvaDM+YCwgJzwvZGl2PicsICc8dWwgY2xhc3M9XCJhcnRib2FyZC1saXN0XCI+Jyk7XG4gICAgICAgIGZsb3dTdGFydHMucHVzaCgnPC91bD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcnRib2FyZHMnKS5pbm5lckhUTUwgPSBbZmxvd1N0YXJ0cy5qb2luKCcnKSwgcGFnZXNTZWxlY3Quam9pbignJyksIGFydGJvYXJkTGlzdEhUTUwuam9pbignJyldLmpvaW4oJycpO1xufVxuZXhwb3J0cy5hcnRib2FyZHMgPSBhcnRib2FyZHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2FydGJvYXJkcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2NvbG9ycy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9jb2xvcnMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29tbW9uXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIGNvbG9ycygpIHtcbiAgICBpZiAoIWNvbW1vbl8yLnByb2plY3QuY29sb3JzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFjb21tb25fMi5wcm9qZWN0LmNvbG9yTmFtZXMpXG4gICAgICAgIGNvbW1vbl8yLnByb2plY3QuY29sb3JOYW1lcyA9IHt9O1xuICAgIHZhciBjb2xvckxpc3RIVE1MID0gW107XG4gICAgY29sb3JMaXN0SFRNTC5wdXNoKCc8dWwgY2xhc3M9XCJjb2xvci1saXN0XCI+Jyk7XG4gICAgY29tbW9uXzIucHJvamVjdC5jb2xvcnMuZm9yRWFjaCgoY29sb3IsIGluZGV4KSA9PiB7XG4gICAgICAgIGNvbW1vbl8yLnByb2plY3QuY29sb3JOYW1lc1tjb2xvci5jb2xvclsnYXJnYi1oZXgnXV0gPSBjb2xvci5uYW1lO1xuICAgICAgICBjb2xvckxpc3RIVE1MLnB1c2goJzxsaSBpZD1cImNvbG9yLScgKyBpbmRleCArICdcIiBkYXRhLWNvbG9yPVwiJyArIGVuY29kZVVSSShKU09OLnN0cmluZ2lmeShjb2xvci5jb2xvcikpICsgJ1wiPicsICc8ZW0+PGkgc3R5bGU9XCJiYWNrZ3JvdW5kOicgKyBjb2xvci5jb2xvclsnY3NzLXJnYmEnXSArICdcIj48L2k+PC9lbT4nLCAnPGRpdj4nLCAnPGgzPicgKyBjb2xvci5uYW1lICsgJzwvaDM+JywgJzxzbWFsbD4nICsgY29sb3IuY29sb3JbY29tbW9uXzEuc3RhdGUuY29sb3JGb3JtYXRdICsgJzwvc21hbGw+JywgJzwvZGl2PicsICc8L2xpPicpO1xuICAgIH0pO1xuICAgIGNvbG9yTGlzdEhUTUwucHVzaCgnPC91bD4nKTtcbiAgICBpZiAoY29tbW9uXzIucHJvamVjdC5jb2xvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29sb3JzJykuaW5uZXJIVE1MID0gY29sb3JMaXN0SFRNTC5qb2luKCcnKTtcbiAgICB9XG59XG5leHBvcnRzLmNvbG9ycyA9IGNvbG9ycztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvY29sb3JzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaGVscGVyLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2hlbHBlci50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiB6b29tU2l6ZShzaXplKSB7XG4gICAgcmV0dXJuIHNpemUgKiBjb21tb25fMS5zdGF0ZS56b29tIC8gY29tbW9uXzEucHJvamVjdC5yZXNvbHV0aW9uO1xufVxuZXhwb3J0cy56b29tU2l6ZSA9IHpvb21TaXplO1xuZnVuY3Rpb24gcGVyY2VudGFnZVNpemUoc2l6ZSwgc2l6ZTIpIHtcbiAgICByZXR1cm4gKE1hdGgucm91bmQoc2l6ZSAvIHNpemUyICogMTAwMCkgLyAxMCkgKyBcIiVcIjtcbn1cbmV4cG9ydHMucGVyY2VudGFnZVNpemUgPSBwZXJjZW50YWdlU2l6ZTtcbmZ1bmN0aW9uIHVuaXRTaXplKHZhbHVlLCBpc1RleHQpIHtcbiAgICAvLyBsb2dpYyBwb2ludFxuICAgIGxldCBwdCA9IHZhbHVlIC8gY29tbW9uXzEucHJvamVjdC5yZXNvbHV0aW9uO1xuICAgIC8vIGNvbnZlcnQgdG8gZGlzcGxheSB2YWx1ZVxuICAgIGxldCBzeiA9IE1hdGgucm91bmQocHQgKiBjb21tb25fMS5zdGF0ZS5zY2FsZSAqIDEwMCkgLyAxMDA7XG4gICAgbGV0IHVuaXRzID0gY29tbW9uXzEuc3RhdGUudW5pdC5zcGxpdChcIi9cIik7XG4gICAgbGV0IHVuaXQgPSB1bml0c1swXTtcbiAgICBpZiAodW5pdHMubGVuZ3RoID4gMSAmJiBpc1RleHQpIHtcbiAgICAgICAgdW5pdCA9IHVuaXRzWzFdO1xuICAgIH1cbiAgICByZXR1cm4gc3ogKyB1bml0O1xufVxuZXhwb3J0cy51bml0U2l6ZSA9IHVuaXRTaXplO1xubGV0IG1zZ1RpbWVvdXQ7XG5mdW5jdGlvbiBtZXNzYWdlKG1zZykge1xuICAgIGxldCBtZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21lc3NhZ2UnKTtcbiAgICBtZXNzYWdlLmlubmVyVGV4dCA9IG1zZztcbiAgICBtZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnaW5oZXJpdCc7XG4gICAgaWYgKG1zZ1RpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KG1zZ1RpbWVvdXQpO1xuICAgICAgICBtc2dUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBtc2dUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiBtZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScsIDEwMDApO1xufVxuZXhwb3J0cy5tZXNzYWdlID0gbWVzc2FnZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaGVscGVyLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5kZXgudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGFydGJvYXJkc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hcnRib2FyZHMgKi8gXCIuL3VpL3JlbmRlci9hcnRib2FyZHMudHNcIik7XG5jb25zdCBzbGljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2xpY2VzICovIFwiLi91aS9yZW5kZXIvc2xpY2VzLnRzXCIpO1xuY29uc3QgY29sb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbG9ycyAqLyBcIi4vdWkvcmVuZGVyL2NvbG9ycy50c1wiKTtcbmNvbnN0IHVuaXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdW5pdCAqLyBcIi4vdWkvcmVuZGVyL3VuaXQudHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3pvb20gKi8gXCIuL3VpL3JlbmRlci96b29tLnRzXCIpO1xuY29uc3QgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3VpL2V2ZW50cy9pbmRleC50c1wiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMvbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlcihkYXRhKSB7XG4gICAgY29tbW9uXzEuaW5pdChkYXRhKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwJykuaW5uZXJIVE1MID0gW1xuICAgICAgICAnPGhlYWRlcj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImhlYWRlci1sZWZ0XCI+JyxcbiAgICAgICAgJzx1bCBjbGFzcz1cInRhYlwiPicsXG4gICAgICAgICc8bGkgY2xhc3M9XCJpY29uLWFydGJvYXJkcyBjdXJyZW50XCIgZGF0YS1pZD1cImFydGJvYXJkc1wiPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tc2xpY2VzXCIgZGF0YS1pZD1cInNsaWNlc1wiPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tY29sb3JzXCIgZGF0YS1pZD1cImNvbG9yc1wiPjwvbGk+JyxcbiAgICAgICAgJzwvdWw+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyLWNlbnRlclwiPicsXG4gICAgICAgICc8ZGl2IGlkPVwiem9vbVwiIGNsYXNzPVwiem9vbS13aWRnZXRcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImZsb3ctbW9kZVwiPicsXG4gICAgICAgIGA8bGFiZWwgZm9yPVwidGV4dC1tb2RlXCI+JHtjb21tb25fMS5sb2NhbGl6ZSgnSElHSExJR0hUJyl9PC9sYWJlbD5gLFxuICAgICAgICAnPGlucHV0IGlkPVwic2VhcmNoLW1vZGVcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0ZXh0LW1vZGVcIj4nLFxuICAgICAgICAnPGxhYmVsIGZvcj1cInRleHQtbW9kZVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGgxPjwvaDE+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJzaG93LW5vdGVzXCI+JyxcbiAgICAgICAgYDxsYWJlbCBmb3I9XCJzaG93LW5vdGVzXCI+JHtjb21tb25fMS5sb2NhbGl6ZSgnTk9URVMnKX08L2xhYmVsPmAsXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwic2xpZGVib3hcIiB0aXRsZT1cIiR7Y29tbW9uXzEubG9jYWxpemUoJ0tleWJvYXJkIHNob3J0Y3V0Jyl9OiBuXCI+YCxcbiAgICAgICAgJzxpbnB1dCBpZD1cInNob3ctbm90ZXNcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwic2hvdy1ub3Rlc1wiIGNoZWNrZWQ9XCJjaGVja2VkXCI+JyxcbiAgICAgICAgJzxsYWJlbCBmb3I9XCJzaG93LW5vdGVzXCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImhlYWRlci1yaWdodFwiPjxkaXYgaWQ9XCJ1bml0XCIgY2xhc3M9XCJ1bml0LWJveFwiIHRhYmluZGV4PVwiMFwiPlhIRFBJIEAyeCAoZHAvc3ApPC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzwvaGVhZGVyPicsXG4gICAgICAgICc8bWFpbj4nLFxuICAgICAgICAnPGFzaWRlIGNsYXNzPVwibmF2YmFyIG9uXCI+JyxcbiAgICAgICAgJzxzZWN0aW9uIGlkPVwiYXJ0Ym9hcmRzXCI+PC9zZWN0aW9uPicsXG4gICAgICAgIGA8c2VjdGlvbiBpZD1cInNsaWNlc1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48ZGl2IGNsYXNzPVwiZW1wdHlcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdObyBzbGljZXMgYWRkZWQhJyl9PC9kaXY+PC9zZWN0aW9uPmAsXG4gICAgICAgIGA8c2VjdGlvbiBpZD1cImNvbG9yc1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48ZGl2IGNsYXNzPVwiZW1wdHlcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdObyBjb2xvcnMgYWRkZWQhJyl9PC9kaXY+PC9zZWN0aW9uPmAsXG4gICAgICAgICc8L2FzaWRlPicsXG4gICAgICAgICc8c2VjdGlvbiBjbGFzcz1cInNjcmVlbi12aWV3ZXJcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInNjcmVlbi12aWV3ZXItaW5uZXJcIj4nLFxuICAgICAgICAnPGRpdiBpZD1cInNjcmVlblwiIGNsYXNzPVwic2NyZWVuXCI+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJydWxlcnNcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4nLFxuICAgICAgICAnPGRpdiBpZD1cInJ2XCIgY2xhc3M9XCJydWxlciB2XCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJyaFwiIGNsYXNzPVwicnVsZXIgaFwiPjwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cImZsb3dzXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJsYXllcnNcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cIm5vdGVzXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJ0ZFwiIGNsYXNzPVwiZGlzdGFuY2UgdlwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS1oZWlnaHQ9XCIzXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJyZFwiIGNsYXNzPVwiZGlzdGFuY2UgaFwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS13aWR0aD1cIlwiPjwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwiYmRcIiBjbGFzcz1cImRpc3RhbmNlIHZcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48ZGl2IGRhdGEtaGVpZ2h0PVwiXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJsZFwiIGNsYXNzPVwiZGlzdGFuY2UgaFwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS13aWR0aD1cIlwiPjwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JyxcbiAgICAgICAgJzwvc2VjdGlvbj4nLFxuICAgICAgICAnPGFzaWRlIGlkPVwiaW5zcGVjdG9yXCIgY2xhc3M9XCJpbnNwZWN0b3JcIj48L2FzaWRlPicsXG4gICAgICAgICc8L21haW4+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJtZXNzYWdlXCIgY2xhc3M9XCJtZXNzYWdlXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJjdXJzb3JcIiBjbGFzcz1cImN1cnNvclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICB6b29tXzEuem9vbSgpO1xuICAgIHVuaXRfMS51bml0KCk7XG4gICAgYXJ0Ym9hcmRzXzEuYXJ0Ym9hcmRzKCk7XG4gICAgc2xpY2VzXzEuc2xpY2VzKCk7XG4gICAgY29sb3JzXzEuY29sb3JzKCk7XG4gICAgZXZlbnRzXzEuZXZlbnRzKCk7XG4gICAgbmF2aWdhdGVfMS5uYXZpZ2F0ZUJ5VVJMSGFzaChmYWxzZSk7XG59XG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvYm9yZGVycy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9ib3JkZXJzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckJvcmRlcnMobGF5ZXJEYXRhKSB7XG4gICAgaWYgKCFsYXllckRhdGEuYm9yZGVycyB8fCAhbGF5ZXJEYXRhLmJvcmRlcnMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIGJvcmRlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gbGF5ZXJEYXRhLmJvcmRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IGJvcmRlciA9IGxheWVyRGF0YS5ib3JkZXJzW2ldO1xuICAgICAgICBib3JkZXJzLnB1c2goJzxkaXYgY2xhc3M9XCJpdGVtcy1ncm91cFwiPicsICc8aDQ+JyArIGNvbW1vbl8xLmxvY2FsaXplKGJvcmRlci5wb3NpdGlvbiArICcgQm9yZGVyJykgKyAnPC9oND4nLCAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdXZWlnaHQnKSArICc6XCI+JywgJzxsYWJlbD48aW5wdXQgaWQ9XCJmb250LWZhbWlseVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoYm9yZGVyLnRoaWNrbmVzcykgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzxsYWJlbD48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICAgICAgYm9yZGVycy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoYm9yZGVyLmZpbGxUeXBlKSArICc6XCI+Jyk7XG4gICAgICAgIGlmIChib3JkZXIuZmlsbFR5cGUudG9Mb3dlckNhc2UoKSA9PSBcImNvbG9yXCIpIHtcbiAgICAgICAgICAgIGJvcmRlcnMucHVzaChzaGFyZWRfMS5jb2xvckl0ZW0oYm9yZGVyLmNvbG9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3JkZXJzLnB1c2goJzxkaXYgY2xhc3M9XCJjb2xvcnMgZ3JhZGllbnRcIj4nKTtcbiAgICAgICAgICAgIGJvcmRlci5ncmFkaWVudC5jb2xvclN0b3BzLmZvckVhY2goZ3JhZGllbnQgPT4gYm9yZGVycy5wdXNoKHNoYXJlZF8xLmNvbG9ySXRlbShncmFkaWVudC5jb2xvcikpKTtcbiAgICAgICAgICAgIGJvcmRlcnMucHVzaCgnPC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYm9yZGVycy5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgYm9yZGVycy5wdXNoKCc8L2Rpdj4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnQk9SREVSUycsIGJvcmRlcnMuam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJCb3JkZXJzID0gcmVuZGVyQm9yZGVycztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2JvcmRlcnMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvY29kZVRlbXBsYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvY29kZVRlbXBsYXRlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgaGVscGVyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9ldmVudHMvaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJDb2RlVGVtcGxhdGUobGF5ZXJEYXRhKSB7XG4gICAgaWYgKCFsYXllckRhdGEuY3NzIHx8ICFsYXllckRhdGEuY3NzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHZhciB0YWIgPSBbJzx1bCBjbGFzcz1cInRhYlwiIGlkPVwiY29kZS10YWJcIiA+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tY3NzLXBhbmVsXCIgZGF0YS1pZD1cImNzcy1wYW5lbFwiIGRhdGEtY29kZVR5cGU9XCJjc3NcIj48L2xpPicsXG4gICAgICAgICc8bGkgY2xhc3M9XCJpY29uLWFuZHJvaWQtcGFuZWxcIiBkYXRhLWlkPVwiYW5kcm9pZC1wYW5lbFwiIGRhdGEtY29kZVR5cGU9XCJhbmRyb2lkXCIgPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24taW9zLXBhbmVsXCIgZGF0YS1pZD1cImlvcy1wYW5lbFwiIGRhdGEtY29kZVR5cGU9XCJpb3NcIiA+PC9saT4nLFxuICAgICAgICAnPC91bD4nXG4gICAgXS5qb2luKCcnKTtcbiAgICB2YXIgY3NzID0gW1xuICAgICAgICAnPGRpdiBpZD1cImNzcy1wYW5lbFwiIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLFxuICAgICAgICAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCInICsgKGxheWVyRGF0YS5jc3MubGVuZ3RoICsgMSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgKyBsYXllckRhdGEuY3NzLmpvaW4oXCJcXHJcXG5cIikgKyAnPC90ZXh0YXJlYT48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICB2YXIgYW5kcm9pZCA9IFtdO1xuICAgIGlmIChsYXllckRhdGEudHlwZSA9PSBcInRleHRcIikge1xuICAgICAgICBhbmRyb2lkLnB1c2goJzxkaXYgaWQ9XCJhbmRyb2lkLXBhbmVsXCIgIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCImbHQ7VGV4dFZpZXdcXHJcXG5cIiArIGdldEFuZHJvaWRXaXRoSGVpZ2h0KGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgXCJhbmRyb2lkOnRleHQ9XFxcIlwiICsgbGF5ZXJEYXRhLmNvbnRlbnQgKyBcIlxcXCJcXHJcXG5cIiArIFwiYW5kcm9pZDp0ZXh0Q29sb3I9XFxcIlwiICsgbGF5ZXJEYXRhLmNvbG9yW1wiYXJnYi1oZXhcIl0gKyBcIlxcXCJcXHJcXG5cIiArXG4gICAgICAgICAgICBcImFuZHJvaWQ6dGV4dFNpemU9XFxcIlwiICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLmZvbnRTaXplLCB0cnVlKSArIFwiXFxcIlxcclxcblwiICsgXCIvJmd0O1wiICsgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheWVyRGF0YS50eXBlID09IFwic2hhcGVcIikge1xuICAgICAgICBhbmRyb2lkLnB1c2goJzxkaXYgaWQ9XCJhbmRyb2lkLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIiZsdDtWaWV3XFxyXFxuXCIgKyBnZXRBbmRyb2lkV2l0aEhlaWdodChsYXllckRhdGEpICtcbiAgICAgICAgICAgIGdldEFuZHJvaWRTaGFwZUJhY2tncm91bmQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICBcIi8mZ3Q7XCIgKyAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzbGljZVwiKSB7XG4gICAgICAgIGFuZHJvaWQucHVzaCgnPGRpdiBpZD1cImFuZHJvaWQtcGFuZWxcIiBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiJmx0O0ltYWdlVmlld1xcclxcblwiICsgZ2V0QW5kcm9pZFdpdGhIZWlnaHQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICBnZXRBbmRyb2lkSW1hZ2VTcmMobGF5ZXJEYXRhKSArIFwiLyZndDtcIiArXG4gICAgICAgICAgICAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgdmFyIGlvcyA9IFtdO1xuICAgIGlmIChsYXllckRhdGEudHlwZSA9PSBcInRleHRcIikge1xuICAgICAgICBpb3MucHVzaCgnPGRpdiBpZD1cImlvcy1wYW5lbFwiICBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiVUlMYWJlbCAqbGFiZWwgPSBbW1VJTGFiZWwgYWxsb2NdIGluaXRdO1xcclxcblwiICtcbiAgICAgICAgICAgIFwibGFiZWwuZnJhbWUgPSBDR1JlY3RNYWtlKFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LngpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueSkgKyBcIlxcLCBcIiArXG4gICAgICAgICAgICBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3Qud2lkdGgpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QuaGVpZ2h0KSArIFwiKTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcImxhYmVsLnRleHQgPSBcXEBcXFwiXCIgKyBsYXllckRhdGEuY29udGVudCArIFwiXFxcIjtcXHJcXG5cIiArXG4gICAgICAgICAgICBcImxhYmVsLmZvbnQgPSBbVUlGb250IGZvbnRXaXRoTmFtZTpcXEBcXFwiXCIgKyBsYXllckRhdGEuZm9udEZhY2UgKyBcIlxcXCIgc2l6ZTpcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEuZm9udFNpemUpICsgXCJdO1xcclxcblwiICtcbiAgICAgICAgICAgIFwibGFiZWwudGV4dENvbG9yID0gW1VJQ29sb3IgY29sb3JXaXRoUmVkOlwiICsgbGF5ZXJEYXRhLmNvbG9yLnJnYi5yICsgXCIvMjU1LjAgZ3JlZW46XCIgKyBsYXllckRhdGEuY29sb3IucmdiLmcgKyBcIi8yNTUuMCBibHVlOlwiICsgbGF5ZXJEYXRhLmNvbG9yLnJnYi5iICsgXCIvMjU1LjAgYWxwaGE6XCIgKyBsYXllckRhdGEuY29sb3IuYWxwaGEgKyBcIi8yNTUuMF07XFxyXFxuXCIgK1xuICAgICAgICAgICAgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheWVyRGF0YS50eXBlID09IFwic2hhcGVcIikge1xuICAgICAgICBpb3MucHVzaCgnPGRpdiBpZD1cImlvcy1wYW5lbFwiIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCJVSVZpZXcgKnZpZXcgPSBbW1VJVmlldyBhbGxvY10gaW5pdF07XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJ2aWV3LmZyYW1lID0gQ0dSZWN0TWFrZShcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC54KSArIFwiXFwsIFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LnkpICsgXCJcXCwgXCIgK1xuICAgICAgICAgICAgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LndpZHRoKSArIFwiXFwsIFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LmhlaWdodCkgKyBcIik7XFxyXFxuXCIgK1xuICAgICAgICAgICAgZ2V0SU9TU2hhcGVCYWNrZ3JvdW5kKGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheWVyRGF0YS50eXBlID09IFwic2xpY2VcIikge1xuICAgICAgICBpb3MucHVzaCgnPGRpdiBpZD1cImlvcy1wYW5lbFwiIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCJVSUltYWdlVmlldyAqaW1hZ2VWaWV3ID0gW1tVSUltYWdlVmlldyBhbGxvY10gaW5pdF07XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJpbWFnZVZpZXcuZnJhbWUgPSBDR1JlY3RNYWtlKFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LngpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueSkgKyBcIlxcLCBcIiArXG4gICAgICAgICAgICBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3Qud2lkdGgpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QuaGVpZ2h0KSArIFwiKTtcXHJcXG5cIiArXG4gICAgICAgICAgICBnZXRJT1NJbWFnZVNyYyhsYXllckRhdGEpICtcbiAgICAgICAgICAgICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdDT0RFIFRFTVBMQVRFJywgW3RhYiwgY3NzLCBhbmRyb2lkLmpvaW4oJycpLCBpb3Muam9pbignJyldLmpvaW4oJycpLCB0cnVlKTtcbn1cbmV4cG9ydHMucmVuZGVyQ29kZVRlbXBsYXRlID0gcmVuZGVyQ29kZVRlbXBsYXRlO1xuZnVuY3Rpb24gZ2V0QW5kcm9pZFdpdGhIZWlnaHQobGF5ZXJEYXRhKSB7XG4gICAgcmV0dXJuIFwiYW5kcm9pZDpsYXlvdXRfd2lkdGg9XFxcIlwiICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJlY3Qud2lkdGgsIGZhbHNlKSArIFwiXFxcIlxcclxcblwiICsgXCJhbmRyb2lkOmxheW91dF9oZWlnaHQ9XFxcIlwiICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJlY3QuaGVpZ2h0LCBmYWxzZSkgKyBcIlxcXCJcXHJcXG5cIjtcbn1cbmZ1bmN0aW9uIGdldEFuZHJvaWRTaGFwZUJhY2tncm91bmQobGF5ZXJEYXRhKSB7XG4gICAgdmFyIGNvbG9yQ29kZSA9IFwiXCI7XG4gICAgaWYgKGxheWVyRGF0YS50eXBlICE9IFwic2hhcGVcIiB8fCB0eXBlb2YgKGxheWVyRGF0YS5maWxscykgPT0gJ3VuZGVmaW5lZCcgfHwgbGF5ZXJEYXRhLmZpbGxzLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gY29sb3JDb2RlO1xuICAgIHZhciBmO1xuICAgIGZvciAoZiBpbiBsYXllckRhdGEuZmlsbHMpIHtcbiAgICAgICAgaWYgKGxheWVyRGF0YS5maWxsc1tmXS5maWxsVHlwZS50b0xvd2VyQ2FzZSgpID09IFwiY29sb3JcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiYW5kcm9pZDpiYWNrZ3JvdW5kPVxcXCJcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvcltcImFyZ2ItaGV4XCJdICsgXCJcXFwiXFxyXFxuXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yQ29kZTtcbn1cbmZ1bmN0aW9uIGdldEFuZHJvaWRJbWFnZVNyYyhsYXllckRhdGEpIHtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gXCJzbGljZVwiIHx8IHR5cGVvZiAobGF5ZXJEYXRhLmV4cG9ydGFibGUpID09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gXCJhbmRyb2lkOnNyYz1cXFwiXFxAbWlwbWFwL1wiICsgbGF5ZXJEYXRhLmV4cG9ydGFibGVbMF0ubmFtZSArIFwiLlwiICsgbGF5ZXJEYXRhLmV4cG9ydGFibGVbMF0uZm9ybWF0ICsgXCJcXFwiXFxyXFxuXCI7XG59XG5mdW5jdGlvbiBnZXRJT1NTaGFwZUJhY2tncm91bmQobGF5ZXJEYXRhKSB7XG4gICAgdmFyIGNvbG9yQ29kZSA9IFwiXCI7XG4gICAgaWYgKGxheWVyRGF0YS50eXBlICE9IFwic2hhcGVcIiB8fCB0eXBlb2YgKGxheWVyRGF0YS5maWxscykgPT0gJ3VuZGVmaW5lZCcgfHwgbGF5ZXJEYXRhLmZpbGxzLmxlbmd0aCA9PSAwKVxuICAgICAgICByZXR1cm4gY29sb3JDb2RlO1xuICAgIHZhciBmO1xuICAgIGZvciAoZiBpbiBsYXllckRhdGEuZmlsbHMpIHtcbiAgICAgICAgaWYgKGxheWVyRGF0YS5maWxsc1tmXS5maWxsVHlwZS50b0xvd2VyQ2FzZSgpID09IFwiY29sb3JcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwidmlldy5iYWNrZ3JvdW5kQ29sb3IgPSBbVUlDb2xvciBjb2xvcldpdGhSZWQ6XCIgKyBsYXllckRhdGEuZmlsbHNbZl0uY29sb3IucmdiLnIgKyBcIi8yNTUuMCBncmVlbjpcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvci5yZ2IuZyArIFwiLzI1NS4wIGJsdWU6XCIgKyBsYXllckRhdGEuZmlsbHNbZl0uY29sb3IucmdiLmIgKyBcIi8yNTUuMCBhbHBoYTpcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvci5hbHBoYSArIFwiLzI1NS4wXVxcO1xcclxcblwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xvckNvZGU7XG59XG5mdW5jdGlvbiBnZXRJT1NJbWFnZVNyYyhsYXllckRhdGEpIHtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gXCJzbGljZVwiIHx8IHR5cGVvZiAobGF5ZXJEYXRhLmV4cG9ydGFibGUpID09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gXCJpbWFnZVZpZXcuaW1hZ2UgPSBbVUlJbWFnZSBpbWFnZU5hbWVkOlxcQFxcXCJcIiArIGxheWVyRGF0YS5leHBvcnRhYmxlWzBdLm5hbWUgKyBcIi5cIiArIGxheWVyRGF0YS5leHBvcnRhYmxlWzBdLmZvcm1hdCArIFwiXFxcIl07XFxyXFxuXCI7XG59XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9jb2RlVGVtcGxhdGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZXhwb3J0YWJsZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9leHBvcnRhYmxlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckV4cG9ydGFibGUobGF5ZXJEYXRhKSB7XG4gICAgaWYgKCFsYXllckRhdGEuZXhwb3J0YWJsZSB8fCAhbGF5ZXJEYXRhLmV4cG9ydGFibGUubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIGV4cEhUTUwgPSBbXSwgcGF0aCA9ICdhc3NldHMvJztcbiAgICBleHBIVE1MLnB1c2goJzx1bCBjbGFzcz1cImV4cG9ydGFibGVcIj4nKTtcbiAgICBsYXllckRhdGEuZXhwb3J0YWJsZS5mb3JFYWNoKGV4cG9ydGFibGUgPT4ge1xuICAgICAgICB2YXIgZmlsZVBhdGggPSBwYXRoICsgZXhwb3J0YWJsZS5wYXRoO1xuICAgICAgICBleHBIVE1MLnB1c2goJzxsaT4nLCAnPGEgaHJlZj1cIicgKyBmaWxlUGF0aCArICdcInRhcmdldD1cIl9ibGFua1wiIGRhdGEtZm9ybWF0PVwiJyArIGV4cG9ydGFibGUuZm9ybWF0LnRvVXBwZXJDYXNlKCkgKyAnXCI+PGltZyBzcmM9XCInICsgZmlsZVBhdGggKyAnXCIgYWx0PVwiJyArIGV4cG9ydGFibGUucGF0aCArICdcIj4nICsgZXhwb3J0YWJsZS5wYXRoLnJlcGxhY2UoJ2RyYXdhYmxlLScsICcnKSArICc8L2E+JywgJzwvbGk+Jyk7XG4gICAgfSk7XG4gICAgZXhwSFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ0VYUE9SVEFCTEUnLCBleHBIVE1MLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyRXhwb3J0YWJsZSA9IHJlbmRlckV4cG9ydGFibGU7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9leHBvcnRhYmxlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZpbGxzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9maWxscy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckZpbGxzKGxheWVyRGF0YSkge1xuICAgIGlmICghbGF5ZXJEYXRhLmZpbGxzIHx8ICFsYXllckRhdGEuZmlsbHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIGZpbGxzID0gW107XG4gICAgbGV0IGZpbGxzRGF0YSA9IGxheWVyRGF0YS5maWxscztcbiAgICBmb3IgKGxldCBpID0gZmlsbHNEYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBmaWxsID0gZmlsbHNEYXRhW2ldO1xuICAgICAgICBmaWxscy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbSBpdGVtcy1ncm91cFwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoZmlsbC5maWxsVHlwZSkgKyAnOlwiPicpO1xuICAgICAgICBpZiAoZmlsbC5maWxsVHlwZS50b0xvd2VyQ2FzZSgpID09IFwiY29sb3JcIikge1xuICAgICAgICAgICAgZmlsbHMucHVzaChzaGFyZWRfMS5jb2xvckl0ZW0oZmlsbC5jb2xvcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmlsbHMucHVzaCgnPGRpdiBjbGFzcz1cImdyYWRpZW50XCI+Jyk7XG4gICAgICAgICAgICBmaWxsLmdyYWRpZW50LmNvbG9yU3RvcHMuZm9yRWFjaChncmFkaWVudCA9PiBmaWxscy5wdXNoKHNoYXJlZF8xLmNvbG9ySXRlbShncmFkaWVudC5jb2xvcikpKTtcbiAgICAgICAgICAgIGZpbGxzLnB1c2goJzwvZGl2PicpO1xuICAgICAgICB9XG4gICAgICAgIGZpbGxzLnB1c2goJzwvZGl2PicpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdGSUxMUycsIGZpbGxzLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyRmlsbHMgPSByZW5kZXJGaWxscztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZpbGxzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZvbnQudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvZm9udC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJGb250KGxheWVyRGF0YSkge1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSAndGV4dCcpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgZm9udEZhbWlseSA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnRmFtaWx5JykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwiZm9udC1mYW1pbHlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGxheWVyRGF0YS5mb250RmFjZSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyksIHRleHRDb2xvciA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQ29sb3InKSArICc6XCI+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvclwiPicsXG4gICAgICAgIHNoYXJlZF8xLmNvbG9ySXRlbShsYXllckRhdGEuY29sb3IpLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpLCBmb250U2l6ZSA9IChsYXllckRhdGEuZm9udFNpemUpID8gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTaXplJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwib3BhY2l0eVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLmZvbnRTaXplLCB0cnVlKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpIDogJycsIHNwYWNpbmcgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1NwYWNpbmcnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdDaGFyYWN0ZXInKSArICdcIj48aW5wdXQgaWQ9XCJsZXR0ZXItc3BhY2luZ1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLmxldHRlclNwYWNpbmcsIHRydWUpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnTGluZScpICsgJ1wiPjxpbnB1dCBpZD1cImxpbmUtaGVpZ2h0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyAobGF5ZXJEYXRhLmxpbmVIZWlnaHQgPyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEubGluZUhlaWdodCwgdHJ1ZSkgOiAnQXV0bycpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSwgY29udGVudCA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdDb250ZW50JykgKyAnXCI+PHRleHRhcmVhIGlkPVwiY29udGVudFwiIHJvd3M9XCIyXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiIHN0eWxlPVwiZm9udC1mYW1pbHk6ICcgKyBsYXllckRhdGEuZm9udEZhY2UgKyAnLCBzYW5zLXNlcmlmXCI+JyArIGxheWVyRGF0YS5jb250ZW50ICsgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnVFlQRUZBQ0UnLCBbZm9udEZhbWlseSwgdGV4dENvbG9yLCBmb250U2l6ZSwgc3BhY2luZywgY29udGVudF0uam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJGb250ID0gcmVuZGVyRm9udDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZvbnQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2luZGV4LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvZGVUZW1wbGF0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb2RlVGVtcGxhdGUgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvY29kZVRlbXBsYXRlLnRzXCIpO1xuY29uc3QgcHJvcGVydGllc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wcm9wZXJ0aWVzICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3Byb3BlcnRpZXMudHNcIik7XG5jb25zdCBzaGFkb3dzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYWRvd3MgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhZG93cy50c1wiKTtcbmNvbnN0IGJvcmRlcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYm9yZGVycyAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9ib3JkZXJzLnRzXCIpO1xuY29uc3QgZm9udF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mb250ICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZvbnQudHNcIik7XG5jb25zdCBleHBvcnRhYmxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2V4cG9ydGFibGUgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZXhwb3J0YWJsZS50c1wiKTtcbmNvbnN0IGZpbGxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZpbGxzICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZpbGxzLnRzXCIpO1xuZnVuY3Rpb24gaW5zcGVjdG9yKCkge1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKCFjb21tb25fMS5zdGF0ZS5jdXJyZW50ICYmICFjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVycyAmJiAhY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnNbY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleF0pKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IGxheWVyRGF0YSA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzW2NvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXhdO1xuICAgIGxldCBodG1sID0gW1xuICAgICAgICAnPGgyPicgKyBsYXllckRhdGEubmFtZSArICc8L2gyPicsXG4gICAgICAgIHByb3BlcnRpZXNfMS5yZW5kZXJQcm9wZXJ0aWVzKGxheWVyRGF0YSksXG4gICAgICAgIGZpbGxzXzEucmVuZGVyRmlsbHMobGF5ZXJEYXRhKSxcbiAgICAgICAgZm9udF8xLnJlbmRlckZvbnQobGF5ZXJEYXRhKSxcbiAgICAgICAgYm9yZGVyc18xLnJlbmRlckJvcmRlcnMobGF5ZXJEYXRhKSxcbiAgICAgICAgc2hhZG93c18xLnJlbmRlclNoYWRvd3MobGF5ZXJEYXRhKSxcbiAgICAgICAgY29kZVRlbXBsYXRlXzEucmVuZGVyQ29kZVRlbXBsYXRlKGxheWVyRGF0YSksXG4gICAgICAgIGV4cG9ydGFibGVfMS5yZW5kZXJFeHBvcnRhYmxlKGxheWVyRGF0YSksXG4gICAgXTtcbiAgICBsZXQgaW5zcGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3BlY3RvcicpO1xuICAgIGluc3BlY3Rvci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBpbnNwZWN0b3IuaW5uZXJIVE1MID0gaHRtbC5qb2luKCcnKTtcbiAgICAvLyBzZWxlY3QgcHJldmlvdXNseSB1c2VkIHRhYlxuICAgIGxldCBsaSA9IGluc3BlY3Rvci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jb2RlVHlwZT0nICsgY29tbW9uXzEuc3RhdGUuY29kZVR5cGUgKyAnXScpO1xuICAgIGlmIChsaSkge1xuICAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgICAgICAgaW5zcGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBsaS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0Jyk7XG4gICAgfVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNjb2RlLXRhYiBsaScpLmZvckVhY2gobGkgPT4gbGkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXM7XG4gICAgICAgIGxldCBpZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcbiAgICAgICAgY29tbW9uXzEuc3RhdGUuY29kZVR5cGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWNvZGVUeXBlJyk7XG4gICAgICAgIHRhcmdldC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpLnNlbGVjdCcpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdCcpO1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0Jyk7XG4gICAgICAgIChfYSA9IGluc3BlY3Rvci5xdWVyeVNlbGVjdG9yKCdkaXYuaXRlbS5zZWxlY3QnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdCcpO1xuICAgICAgICBpbnNwZWN0b3IucXVlcnlTZWxlY3RvcihcIiNcIiArIGlkKS5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgICB9KSk7XG59XG5leHBvcnRzLmluc3BlY3RvciA9IGluc3BlY3RvcjtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2luZGV4LnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3Byb3BlcnRpZXMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJQcm9wZXJ0aWVzKGxheWVyRGF0YSkge1xuICAgIGxldCBwb3NpdGlvbiA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnUG9zaXRpb24nKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdYJykgKyAnXCI+PGlucHV0IGlkPVwicG9zaXRpb24teFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJlY3QueCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdZJykgKyAnXCI+PGlucHV0IGlkPVwicG9zaXRpb24teVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJlY3QueSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xuICAgIGxldCBzaXplID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTaXplJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnV2lkdGgnKSArICdcIj48aW5wdXQgaWQ9XCJzaXplLXdpZHRoXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC53aWR0aCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdIZWlnaHQnKSArICdcIj48aW5wdXQgaWQ9XCJzaXplLWhlaWdodFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJlY3QuaGVpZ2h0KSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgbGV0IG9wYWNpdHkgPSAodHlwZW9mIGxheWVyRGF0YS5vcGFjaXR5ID09ICdudW1iZXInKSA/IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnT3BhY2l0eScpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsPjxpbnB1dCBpZD1cIm9wYWNpdHlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIE1hdGgucm91bmQobGF5ZXJEYXRhLm9wYWNpdHkgKiAxMDAwMCkgLyAxMDAgKyAnJVwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWw+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJykgOiAnJztcbiAgICBsZXQgcmFkaXVzID0gKGxheWVyRGF0YS5yYWRpdXMpID8gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdSYWRpdXMnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbD48aW5wdXQgaWQ9XCJyYWRpdXNcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yYWRpdXNbMF0pICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWw+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJykgOiAnJztcbiAgICBsZXQgc3R5bGVOYW1lID0gKGxheWVyRGF0YS5zdHlsZU5hbWUpID8gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTdHlsZScpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsPjxpbnB1dCBpZD1cInN0eWxlTmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgbGF5ZXJEYXRhLnN0eWxlTmFtZSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJykgOiAnJztcbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdQUk9QRVJUSUVTJywgW3Bvc2l0aW9uLCBzaXplLCBvcGFjaXR5LCByYWRpdXMsIHN0eWxlTmFtZV0uam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJQcm9wZXJ0aWVzID0gcmVuZGVyUHJvcGVydGllcztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL3Byb3BlcnRpZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhZG93cy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFkb3dzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlclNoYWRvd3MobGF5ZXJEYXRhKSB7XG4gICAgaWYgKCFsYXllckRhdGEuc2hhZG93cyB8fCAhbGF5ZXJEYXRhLnNoYWRvd3MubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIHNoYWRvd3MgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gbGF5ZXJEYXRhLnNoYWRvd3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IHNoYWRvdyA9IGxheWVyRGF0YS5zaGFkb3dzW2ldO1xuICAgICAgICBzaGFkb3dzLnB1c2goJzxkaXYgY2xhc3M9XCJpdGVtcy1ncm91cFwiPicsICc8aDQ+JyArIGNvbW1vbl8xLmxvY2FsaXplKHNoYWRvdy50eXBlICsgJyBTaGFkb3cnKSArICc8L2g0PicsICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ09mZnNldCcpICsgJzpcIj4nLCAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1gnKSArICdcIj48aW5wdXQgaWQ9XCJvZmZzZXQteFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoc2hhZG93Lm9mZnNldFgpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnWScpICsgJ1wiPjxpbnB1dCBpZD1cIm9mZnNldC15XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShzaGFkb3cub2Zmc2V0WSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0VmZmVjdCcpICsgJzpcIj4nLCAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0JsdXInKSArICdcIj48aW5wdXQgaWQ9XCJvZmZzZXQteFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoc2hhZG93LmJsdXJSYWRpdXMpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnU3ByZWFkJykgKyAnXCI+PGlucHV0IGlkPVwib2Zmc2V0LXlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKHNoYWRvdy5zcHJlYWQpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsICc8L2Rpdj4nLCAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdDb2xvcicpICsgJzpcIj4nLCBzaGFyZWRfMS5jb2xvckl0ZW0oc2hhZG93LmNvbG9yKSwgJzwvZGl2PicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnU0hBRE9XUycsIHNoYWRvd3Muam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJTaGFkb3dzID0gcmVuZGVyU2hhZG93cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYWRvd3MudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gY29sb3JJdGVtKGNvbG9yKSB7XG4gICAgdmFyIGNvbG9yTmFtZSA9IChjb21tb25fMi5wcm9qZWN0LmNvbG9yTmFtZXMpID8gY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzW2NvbG9yWydhcmdiLWhleCddXSA6ICcnO1xuICAgIGNvbG9yTmFtZSA9IChjb2xvck5hbWUpID8gJyBkYXRhLW5hbWU9XCInICsgY29sb3JOYW1lICsgJ1wiJyA6ICcnO1xuICAgIHJldHVybiBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JcIicgKyBjb2xvck5hbWUgKyAnPicsXG4gICAgICAgICc8bGFiZWw+PGVtPjxpIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonICsgY29sb3JbJ2Nzcy1yZ2JhJ10gKyAnO1wiPjwvaT48L2VtPjwvbGFiZWw+PGlucHV0IGRhdGEtY29sb3I9XCInICsgZW5jb2RlVVJJKEpTT04uc3RyaW5naWZ5KGNvbG9yKSkgKyAnXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBjb2xvcltjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdF0gKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbn1cbmV4cG9ydHMuY29sb3JJdGVtID0gY29sb3JJdGVtO1xuZnVuY3Rpb24gcHJvcGVydHlUeXBlKHRpdGxlLCBjb250ZW50LCBpc0NvZGUpIHtcbiAgICB2YXIgbm9wYWRkaW5nID0gaXNDb2RlID8gJyBzdHlsZT1cInBhZGRpbmc6MFwiJyA6ICcnO1xuICAgIHJldHVybiBbJzxzZWN0aW9uPicsXG4gICAgICAgICc8aDM+JyArIGNvbW1vbl8yLmxvY2FsaXplKHRpdGxlKSArICc8L2gzPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGV4dFwiJyArIG5vcGFkZGluZyArICc+JyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L3NlY3Rpb24+J1xuICAgIF0uam9pbignJyk7XG59XG5leHBvcnRzLnByb3BlcnR5VHlwZSA9IHByb3BlcnR5VHlwZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2xheWVycy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9sYXllcnMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGludGVyZmFjZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3NyYy9tZWF4dXJlL2ludGVyZmFjZXMgKi8gXCIuL3NyYy9tZWF4dXJlL2ludGVyZmFjZXMudHNcIik7XG5leHBvcnRzLk1hcEFydGJvYXJkSURUb0luZGV4ID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gbGF5ZXJzKCkge1xuICAgIHNwZWNMYXllcnMoKTtcbiAgICBmbG93TGF5ZXJzKCk7XG59XG5leHBvcnRzLmxheWVycyA9IGxheWVycztcbmZ1bmN0aW9uIHNwZWNMYXllcnMoKSB7XG4gICAgbGV0IGxheWVyc0hUTUwgPSBbXTtcbiAgICBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVycy5mb3JFYWNoKChsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGxheWVyLnR5cGUgPT0gaW50ZXJmYWNlc18xLlNNVHlwZS5ncm91cCB8fCBsYXllci50eXBlID09IGludGVyZmFjZXNfMS5TTVR5cGUuaG90c3BvdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHggPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LngpO1xuICAgICAgICBsZXQgeSA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QueSk7XG4gICAgICAgIGxldCB3aWR0aCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3Qud2lkdGgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC5oZWlnaHQpO1xuICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IFsnbGF5ZXInXTtcbiAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCdsYXllci0nICsgbGF5ZXIub2JqZWN0SUQpO1xuICAgICAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PSBpbmRleClcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgbGF5ZXJzSFRNTC5wdXNoKFtgXG48ZGl2IGlkPVwibGF5ZXItJHtpbmRleH1cIiBcbiAgICBjbGFzcz1cIiR7Y2xhc3NOYW1lcy5qb2luKCcgJyl9XCIgZGF0YS1pbmRleD1cIiR7aW5kZXh9XCJcbiAgICBwZXJjZW50YWdlLXdpZHRoPVwiJHtoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShsYXllci5yZWN0LndpZHRoLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKX1cIiBcbiAgICBwZXJjZW50YWdlLWhlaWdodD1cIiR7aGVscGVyXzEucGVyY2VudGFnZVNpemUobGF5ZXIucmVjdC5oZWlnaHQsIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KX1cIiBcbiAgICBkYXRhLXdpZHRoPVwiJHtoZWxwZXJfMS51bml0U2l6ZShsYXllci5yZWN0LndpZHRoKX1cIiBcbiAgICBkYXRhLWhlaWdodD1cIiR7aGVscGVyXzEudW5pdFNpemUobGF5ZXIucmVjdC5oZWlnaHQpfVwiIFxuICAgIHN0eWxlPVwibGVmdDogJHt4fXB4OyB0b3A6ICR7eX1weDsgd2lkdGg6ICR7d2lkdGh9cHg7IGhlaWdodDogJHtoZWlnaHR9cHg7XCJcbj5cbjxkaXYgY2xhc3M9J2l0ZW1OYW1lICR7bGF5ZXIubmFtZS50b0xvd2VyQ2FzZSgpfSc+JHtsYXllci5uYW1lLnRvTG93ZXJDYXNlKCl9PC9kaXY+XG4gICAgPGkgY2xhc3M9XCJ0bFwiPjwvaT48aSBjbGFzcz1cInRyXCI+PC9pPjxpIGNsYXNzPVwiYmxcIj48L2k+PGkgY2xhc3M9XCJiclwiPjwvaT5cbiAgICA8YiBjbGFzcz1cImV0IGhcIj48L2I+PGIgY2xhc3M9XCJlciB2XCI+PC9iPjxiIGNsYXNzPVwiZWIgaFwiPjwvYj48YiBjbGFzcz1cImVsIHZcIj48L2I+XG48L2Rpdj5gXS5qb2luKCcnKSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVycycpLmlubmVySFRNTCA9IGxheWVyc0hUTUwuam9pbignJyk7XG59XG5mdW5jdGlvbiBmbG93TGF5ZXJzKCkge1xuICAgIGV4cG9ydHMuTWFwQXJ0Ym9hcmRJRFRvSW5kZXggPSBjb21tb25fMS5wcm9qZWN0LmFydGJvYXJkcy5yZWR1Y2UoKHAsIGMsIGkpID0+IHtcbiAgICAgICAgcFtjLm9iamVjdElEXSA9IGk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH0sIHsgJ2JhY2snOiAtMSB9KTtcbiAgICBsZXQgbGF5ZXJzSFRNTCA9IFtdO1xuICAgIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzLmZpbHRlcihsYXllciA9PiBsYXllci5mbG93ICYmIGV4cG9ydHMuTWFwQXJ0Ym9hcmRJRFRvSW5kZXhbbGF5ZXIuZmxvdy50YXJnZXRJZF0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgLmZvckVhY2goKGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgeCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QueCk7XG4gICAgICAgIGxldCB5ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC55KTtcbiAgICAgICAgbGV0IHdpZHRoID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC53aWR0aCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LmhlaWdodCk7XG4gICAgICAgIGxldCBjbGFzc05hbWVzID0gWydmbG93J107XG4gICAgICAgIGxheWVyc0hUTUwucHVzaChbYFxuPGRpdiBjbGFzcz1cIiR7Y2xhc3NOYW1lcy5qb2luKCcgJyl9XCJcbiAgICBkYXRhLWZsb3ctdGFyZ2V0PVwiJHtsYXllci5mbG93LnRhcmdldElkfVwiXG4gICAgc3R5bGU9XCJsZWZ0OiAke3h9cHg7IHRvcDogJHt5fXB4OyB3aWR0aDogJHt3aWR0aH1weDsgaGVpZ2h0OiAke2hlaWdodH1weDtcIlxuPjwvZGl2PmBdLmpvaW4oJycpKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvd3MnKS5pbm5lckhUTUwgPSBsYXllcnNIVE1MLmpvaW4oJycpO1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9sYXllcnMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9ub3Rlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL25vdGVzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmZ1bmN0aW9uIG5vdGVzKCkge1xuICAgIHZhciBub3Rlc0hUTUwgPSBbXTtcbiAgICBjb21tb25fMS5zdGF0ZS5jdXJyZW50Lm5vdGVzLmZvckVhY2goKG5vdGUsIGluZGV4KSA9PiB7XG4gICAgICAgIG5vdGVzSFRNTC5wdXNoKCc8ZGl2IGNsYXNzPVwibm90ZVwiIGRhdGEtaW5kZXg9XCInICsgKGluZGV4ICsgMSkgKyAnXCIgc3R5bGU9XCJsZWZ0OiAnICsgaGVscGVyXzEuem9vbVNpemUobm90ZS5yZWN0LngpICsgJ3B4OyB0b3A6ICcgKyBoZWxwZXJfMS56b29tU2l6ZShub3RlLnJlY3QueSkgKyAncHg7XCI+PGRpdiBzdHlsZT1cIndoaXRlLXNwYWNlOm5vd3JhcDtkaXNwbGF5Om5vbmU7XCI+JyArIG5vdGUubm90ZSArICc8L2Rpdj48L2Rpdj4nKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm90ZXMnKS5pbm5lckhUTUwgPSBub3Rlc0hUTUwuam9pbignJyk7XG59XG5leHBvcnRzLm5vdGVzID0gbm90ZXM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL25vdGVzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvc2NyZWVuLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3NjcmVlbi50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgZmxvd18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuZnVuY3Rpb24gdXBkYXRlU2NyZWVuKHJlc2V0U2Nyb2xsID0gZmFsc2UpIHtcbiAgICBsZXQgaW1hZ2VEYXRhID0gKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaW1hZ2VCYXNlNjQpID8gY29tbW9uXzEuc3RhdGUuY3VycmVudC5pbWFnZUJhc2U2NCA6IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaW1hZ2VQYXRoICsgJz8nICsgY29tbW9uXzEudGltZXN0YW1wO1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NyZWVuJyk7XG4gICAgbGV0IHZpZXdlcklubmVyID0gc2NyZWVuLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgc2NyZWVuLnN0eWxlLndpZHRoID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCkgKyAncHgnO1xuICAgIHNjcmVlbi5zdHlsZS5oZWlnaHQgPSBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkgKyAncHgnO1xuICAgIHNjcmVlbi5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGRkYgdXJsKCcgKyBpbWFnZURhdGEgKyAnKSBuby1yZXBlYXQnO1xuICAgIHNjcmVlbi5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpICsgJ3B4ICcgKyBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkgKyAncHgnO1xuICAgIC8vIHZpZXdlciBzaXplXG4gICAgbGV0IG1heFNpemUgPSBNYXRoLm1heChjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCwgdmlld2VyLmNsaWVudFdpZHRoLCB2aWV3ZXIuY2xpZW50SGVpZ2h0KSAqIDU7XG4gICAgaWYgKGZsb3dfMS5mbG93TW9kZSkge1xuICAgICAgICB2aWV3ZXJJbm5lci5zdHlsZS53aWR0aCA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpICsgJ3B4JztcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUuaGVpZ2h0ID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpICsgJ3B4JztcbiAgICAgICAgc2NyZWVuLnN0eWxlLm1hcmdpbkxlZnQgPSAnMCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5Ub3AgPSAnMCc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJykuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUud2lkdGggPSBtYXhTaXplICsgJ3B4JztcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUuaGVpZ2h0ID0gbWF4U2l6ZSArICdweCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5MZWZ0ID0gLWhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGggLyAyKSArICdweCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5Ub3AgPSAtaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQgLyAyKSArICdweCc7XG4gICAgfVxuICAgIC8vIHNldCBzY3JvbGxcbiAgICBpZiAocmVzZXRTY3JvbGwpIHtcbiAgICAgICAgdmlld2VyLnNjcm9sbExlZnQgPSBmbG93XzEuZmxvd01vZGUgPyAwIDogKG1heFNpemUgLSB2aWV3ZXIuY2xpZW50V2lkdGgpIC8gMjtcbiAgICAgICAgbGV0IHN1aXRIaWdodCA9IHNjcmVlbi5jbGllbnRIZWlnaHQgPiB2aWV3ZXIuY2xpZW50SGVpZ2h0ID8gc2NyZWVuLmNsaWVudEhlaWdodCA6IHZpZXdlci5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHZpZXdlci5zY3JvbGxUb3AgPSBmbG93XzEuZmxvd01vZGUgPyAwIDogKG1heFNpemUgLSBzdWl0SGlnaHQpIC8gMjtcbiAgICB9XG59XG5leHBvcnRzLnVwZGF0ZVNjcmVlbiA9IHVwZGF0ZVNjcmVlbjtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvc2NyZWVuLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvc2xpY2VzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3NsaWNlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuZnVuY3Rpb24gc2xpY2VzKCkge1xuICAgIGlmICghY29tbW9uXzEucHJvamVjdC5zbGljZXMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgc2xpY2VMaXN0SFRNTCA9IFtdO1xuICAgIHNsaWNlTGlzdEhUTUwucHVzaCgnPHVsIGNsYXNzPVwiYXNzZXQtbGlzdFwiPicpO1xuICAgIGNvbW1vbl8xLnByb2plY3Quc2xpY2VzLmZvckVhY2goc2xpY2VMYXllciA9PiB7XG4gICAgICAgIGlmIChzbGljZUxheWVyLmV4cG9ydGFibGUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGFzc2V0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzbGljZUxheWVyLmV4cG9ydGFibGUpKS5wb3AoKTtcbiAgICAgICAgICAgIHNsaWNlTGlzdEhUTUwucHVzaCgnPGxpIGlkPVwic2xpY2UtJyArIHNsaWNlTGF5ZXIub2JqZWN0SUQgKyAnXCIgY2xhc3M9XCJzbGljZS1sYXllclwiIGRhdGEtb2JqZWN0SWQ9XCInICsgc2xpY2VMYXllci5vYmplY3RJRCArICdcIj4nLCAnPHBpY3R1cmU+PGltZyBzcmM9XCInICsgJ2Fzc2V0cy8nICsgYXNzZXQucGF0aCArICdcIiBhbHQ9XCJcIj48L3BpY3R1cmU+JywgJzxkaXY+JywgJzxoMz4nICsgc2xpY2VMYXllci5uYW1lICsgJzwvaDM+JywgJzxzbWFsbD4nICsgaGVscGVyXzEudW5pdFNpemUoc2xpY2VMYXllci5yZWN0LndpZHRoKSArICcgw5cgJyArIGhlbHBlcl8xLnVuaXRTaXplKHNsaWNlTGF5ZXIucmVjdC5oZWlnaHQpICsgJzwvc21hbGw+JywgJzwvZGl2PicsICc8L2xpPicpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgc2xpY2VMaXN0SFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIGlmIChjb21tb25fMS5wcm9qZWN0LnNsaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGljZXMnKS5pbm5lckhUTUwgPSBzbGljZUxpc3RIVE1MLmpvaW4oJycpO1xuICAgIH1cbn1cbmV4cG9ydHMuc2xpY2VzID0gc2xpY2VzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9zbGljZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci91bml0LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci91bml0LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gdW5pdCgpIHtcbiAgICBsZXQgdW5pdHNEYXRhID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBjb21tb25fMi5sb2NhbGl6ZSgnRGV2aWNlIHN3aXRjaCcpLFxuICAgICAgICAgICAgdW5pdHM6IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdXZWIgVmlldycpICsgJyAtIHB4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDEgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdpT1MgRGV2aWNlcycpICsgJyAtIHB0JywgdW5pdDogJ3B0Jywgc2NhbGU6IDEgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdBbmRyb2lkIERldmljZXMnKSArICcgLSBkcC9zcCcsIHVuaXQ6ICdkcC9zcCcsIHNjYWxlOiAxIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdDb252ZXJ0IHRvIHBpeGVscycpLFxuICAgICAgICAgICAgdW5pdHM6IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdJT1MgJyArIGNvbW1vbl8yLmxvY2FsaXplKCdQb2ludHMnKSArICcgQDF4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDEgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdJT1MgJyArIGNvbW1vbl8yLmxvY2FsaXplKCdSZXRpbmEnKSArICcgQDJ4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDIgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdJT1MgJyArIGNvbW1vbl8yLmxvY2FsaXplKCdSZXRpbmEgSEQnKSArICcgQDN4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDMgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIExEUEkgQDAuNzV4JywgdW5pdDogJ3B4Jywgc2NhbGU6IC43NSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgTURQSSBAMXgnLCB1bml0OiAncHgnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgSERQSSBAMS41eCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAxLjUgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIFhIRFBJIEAyeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAyIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBYWEhEUEkgQDN4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDMgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIFhYWEhEUEkgQDR4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDQgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBjb21tb25fMi5sb2NhbGl6ZSgnQ29udmVydCB0byBvdGhlcnMnKSxcbiAgICAgICAgICAgIHVuaXRzOiBbXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQ1NTIFJlbSA4cHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyA4IH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQ1NTIFJlbSAxMHB4JywgdW5pdDogJ3JlbScsIHNjYWxlOiAxIC8gMTAgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDEycHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyAxMiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NTUyBSZW0gMTRweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDE0IH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQ1NTIFJlbSAxNnB4JywgdW5pdDogJ3JlbScsIHNjYWxlOiAxIC8gMTYgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdVYnVudHUgR3JpZCcsIHVuaXQ6ICdndScsIHNjYWxlOiAxIC8gMjcgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgXTtcbiAgICBsZXQgdW5pdEh0bWwgPSBbXTtcbiAgICBsZXQgdW5pdExpc3QgPSBbXTtcbiAgICBsZXQgdW5pdEN1cnJlbnQgPSAnJztcbiAgICBsZXQgaGFzQ3VycmVudCA9ICcnO1xuICAgIHVuaXRzRGF0YS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICBpZiAoZGF0YS5uYW1lKVxuICAgICAgICAgICAgdW5pdExpc3QucHVzaCgnPGxpIGNsYXNzPVwic3ViLXRpdGxlXCI+JyArIGNvbW1vbl8yLmxvY2FsaXplKGRhdGEubmFtZSkgKyAnPC9saT4nKTtcbiAgICAgICAgZGF0YS51bml0cy5mb3JFYWNoKHVuaXQgPT4ge1xuICAgICAgICAgICAgdmFyIGNoZWNrZWQgPSAnJztcbiAgICAgICAgICAgIGlmICghaGFzQ3VycmVudCAmJiB1bml0LnVuaXQgPT0gY29tbW9uXzEuc3RhdGUudW5pdCkge1xuICAgICAgICAgICAgICAgIGNoZWNrZWQgPSAnIGNoZWNrZWQ9XCJjaGVja2VkXCInO1xuICAgICAgICAgICAgICAgIGhhc0N1cnJlbnQgPSBjb21tb25fMi5sb2NhbGl6ZSh1bml0Lm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5pdExpc3QucHVzaCgnPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInJlc29sdXRpb25cIiBkYXRhLW5hbWU9XCInICsgY29tbW9uXzIubG9jYWxpemUodW5pdC5uYW1lKSArXG4gICAgICAgICAgICAgICAgJ1wiIGRhdGEtdW5pdD1cIicgKyB1bml0LnVuaXQgK1xuICAgICAgICAgICAgICAgICdcIiBkYXRhLXNjYWxlPVwiJyArIHVuaXQuc2NhbGUgKyAnXCInICsgY2hlY2tlZCArXG4gICAgICAgICAgICAgICAgJz48c3Bhbj4nICsgY29tbW9uXzIubG9jYWxpemUodW5pdC5uYW1lKSArICc8L3NwYW4+PC9sYWJlbD48L2xpPicpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICAvLyBpZiAoIWhhc0N1cnJlbnQpIHtcbiAgICAvLyAgICAgdW5pdEN1cnJlbnQgPSAnPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInJlc29sdXRpb25cIiBkYXRhLW5hbWU9XCInICsgbG9jYWxpemUoJ0N1c3RvbScpICtcbiAgICAvLyAgICAgICAgICcgKCcgKyBzdGF0ZS5zY2FsZSArICcsICcgKyBzdGF0ZS51bml0ICsgJylcIiBkYXRhLXVuaXQ9XCInICsgc3RhdGUudW5pdCArXG4gICAgLy8gICAgICAgICAnXCIgZGF0YS1zY2FsZT1cIicgKyBzdGF0ZS5zY2FsZSArXG4gICAgLy8gICAgICAgICAnXCIgY2hlY2tlZD1cImNoZWNrZWRcIj48c3Bhbj4nICsgbG9jYWxpemUoJ0N1c3RvbScpICsgJyAoJyArIHN0YXRlLnNjYWxlICsgJywgJyArIHN0YXRlLnVuaXQgKyAnKTwvc3Bhbj48L2xhYmVsPjwvbGk+JztcbiAgICAvLyAgICAgaGFzQ3VycmVudCA9IGxvY2FsaXplKCdDdXN0b20nKSArICcgKCcgKyBzdGF0ZS5zY2FsZSArICcsICcgKyBzdGF0ZS51bml0ICsgJyknO1xuICAgIC8vIH1cbiAgICB1bml0SHRtbC5wdXNoKCc8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PicsICc8aDM+JyArIGNvbW1vbl8yLmxvY2FsaXplKCdVbml0IHN3aXRjaCcpICtcbiAgICAgICAgJzwvaDM+JywgJzxwPicgKyBoYXNDdXJyZW50ICsgJzwvcD4nLCAnPHVsPicsIHVuaXRDdXJyZW50LCB1bml0TGlzdC5qb2luKCcnKSwgJzwvdWw+Jyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VuaXQnKS5pbm5lckhUTUwgPSB1bml0SHRtbC5qb2luKCcnKTtcbn1cbmV4cG9ydHMudW5pdCA9IHVuaXQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL3VuaXQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci96b29tLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci96b29tLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiB6b29tKCkge1xuICAgIHZhciB6b29tVGV4dCA9IGNvbW1vbl8xLnN0YXRlLnpvb20gKiAxMDAgKyAnJScsIGluRGlzYWJsZWQgPSAoY29tbW9uXzEuc3RhdGUuem9vbSA8PSAuMjUpID8gJyBkaXNhYmxlZD1cImRpc2FibGVkXCInIDogJycsIG91dERpc2FibGVkID0gKGNvbW1vbl8xLnN0YXRlLnpvb20gPj0gNCkgPyAnIGRpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbScpLmlubmVySFRNTCA9IFtcbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJ6b29tLWluXCInICsgaW5EaXNhYmxlZCArICc+PC9idXR0b24+JyxcbiAgICAgICAgJzxsYWJlbCBjbGFzcz1cInpvb20tdGV4dFwiPicgKyB6b29tVGV4dCArICc8L2xhYmVsPicsXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiem9vbS1vdXRcIicgKyBvdXREaXNhYmxlZCArICc+PC9idXR0b24+J1xuICAgIF0uam9pbignJyk7XG59XG5leHBvcnRzLnpvb20gPSB6b29tO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci96b29tLnRzPyIpOwoKLyoqKi8gfSkKCi8qKioqKiovIH0pOw=="></script>
</head>

<body id="app">
    <script>
        let data = '{{data}}';
        meaxure.render(data);
    </script>
		<p>WORKS ONLY IN CHROME</p>
		<script src="../FileSaver.js"></script>
		<script src="../jszip.js"></script>
		<script src="../jszip-utils.min.js"></script>
		<script src="../actions.js"></script>
</body>

</html>