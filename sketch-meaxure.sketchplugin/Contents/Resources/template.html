<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <title>Spec Export - Sketch MeaXure</title>
    <link rel="stylesheet" href="data:text/css;base64,ICAgIC8qISBub3JtYWxpemUuY3NzIHY0LjEuMSB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9uZWNvbGFzL25vcm1hbGl6ZS5jc3MgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLG1haW4sbWVudSxuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9cHJvZ3Jlc3N7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9dGVtcGxhdGUsW2hpZGRlbl17ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LXRleHQtZGVjb3JhdGlvbi1za2lwOm9iamVjdHN9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lLXdpZHRoOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbTowO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9YixzdHJvbmd7Zm9udC13ZWlnaHQ6aW5oZXJpdH1iLHN0cm9uZ3tmb250LXdlaWdodDpib2xkZXJ9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW07bWFyZ2luOi42N2VtIDB9bWFya3tiYWNrZ3JvdW5kLWNvbG9yOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1Yntib3R0b206LTAuMjVlbX1zdXB7dG9wOi0wLjVlbX1pbWd7Ym9yZGVyLXN0eWxlOm5vbmV9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3g7aGVpZ2h0OjA7b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24saW5wdXQsc2VsZWN0LHRleHRhcmVhe2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1vcHRncm91cHtmb250LXdlaWdodDpib2xkfWJ1dHRvbixpbnB1dHtvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBbdHlwZT0iYnV0dG9uIl0sW3R5cGU9InJlc2V0Il0sW3R5cGU9InN1Ym1pdCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFt0eXBlPSJidXR0b24iXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0icmVzZXQiXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0ic3VibWl0Il06Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyLXN0eWxlOm5vbmU7cGFkZGluZzowfWJ1dHRvbjotbW96LWZvY3VzcmluZyxbdHlwZT0iYnV0dG9uIl06LW1vei1mb2N1c3JpbmcsW3R5cGU9InJlc2V0Il06LW1vei1mb2N1c3JpbmcsW3R5cGU9InN1Ym1pdCJdOi1tb3otZm9jdXNyaW5ne291dGxpbmU6MXB4IGRvdHRlZCBCdXR0b25UZXh0fWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOmluaGVyaXQ7ZGlzcGxheTp0YWJsZTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjA7d2hpdGUtc3BhY2U6bm9ybWFsfXRleHRhcmVhe292ZXJmbG93OmF1dG99W3R5cGU9ImNoZWNrYm94Il0sW3R5cGU9InJhZGlvIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1bdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sW3R5cGU9Im51bWJlciJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfVt0eXBlPSJzZWFyY2giXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO291dGxpbmUtb2Zmc2V0Oi0ycHh9W3R5cGU9InNlYXJjaCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLFt0eXBlPSJzZWFyY2giXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX06Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6aW5oZXJpdDtvcGFjaXR5Oi41NH06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Zm9udDppbmhlcml0fQoqIHsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYmFja2dyb3VuZDogIzIwMjEyMzsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC42NCk7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyLAo6Oi13ZWJraXQtcmVzaXplciB7CiAgICBiYWNrZ3JvdW5kOiAjMjAyMTIzOwp9CgpodG1sIHsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogMTAwdmg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9Cgpib2R5IHsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgbWluLXdpZHRoOiAxMDI0cHg7CiAgICBmb250LWZhbWlseTogSGVsdmV0aWNhTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGNvbG9yOiAjOTg5QTlDOwogICAgYmFja2dyb3VuZDogIzE5MTkxOTsKICAgIGxldHRlci1zcGFjaW5nOiAxcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9CgpoZWFkZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiA2MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAyMTU7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwp9CgpoZWFkZXIgLmhlYWRlci1jZW50ZXIsCmhlYWRlciAuaGVhZGVyLWxlZnQsCmhlYWRlciAuaGVhZGVyLXJpZ2h0IHsKICAgIHdpZHRoOiAyNDBweDsKICAgIGhlaWdodDogNjBweDsKICAgIGJhY2tncm91bmQ6ICMwRjBGMEY7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGJhY2tncm91bmQ6ICMwMDA7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuem9vbS13aWRnZXQgewogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiAxNjBweDsKfQoKaGVhZGVyIC5oZWFkZXItY2VudGVyIGgxIHsKICAgIGZsZXg6IDE7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlLApoZWFkZXIgLmhlYWRlci1jZW50ZXIgLnNob3ctbm90ZXMgewogICAgcGFkZGluZzogMjBweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgbGluZS1oZWlnaHQ6IDIwcHg7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlIC5zbGlkZWJveCwKaGVhZGVyIC5oZWFkZXItY2VudGVyIC5zaG93LW5vdGVzIC5zbGlkZWJveCB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsKfQoKaGVhZGVyIC5oZWFkZXItbGVmdCB7CiAgICBkaXNwbGF5OiBmbGV4Owp9Cgouem9vbS13aWRnZXQgewogICAgZGlzcGxheTogZmxleDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJvcmRlcjogMDsKICAgIGJhY2tncm91bmQ6ICMzNDg0RjU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi56b29tLXdpZGdldCBidXR0b246YWZ0ZXIsCi56b29tLXdpZGdldCBidXR0b246YmVmb3JlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogOXB4OwogICAgbGVmdDogNXB4OwogICAgY29udGVudDogIiI7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAxMHB4OwogICAgaGVpZ2h0OiAycHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmFmdGVyIHsKICAgIHRvcDogNXB4OwogICAgbGVmdDogOXB4OwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMTBweDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbjpkaXNhYmxlZCB7CiAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgY3Vyc29yOiBkZWZhdWx0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmFmdGVyLAouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kOiAjNjA2MjY0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uLnpvb20taW46YWZ0ZXIgewogICAgZGlzcGxheTogbm9uZTsKfQoKLnpvb20td2lkZ2V0IC56b29tLXRleHQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBsaW5lLWhlaWdodDogMjBweDsKICAgIGZsZXg6IDE7Cn0KCi51bml0LWJveCB7CiAgICBoZWlnaHQ6IDYwcHg7Cn0KCi51bml0LWJveCAub3ZlcmxheSB7CiAgICBjb250ZW50OiAiIjsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNjBweDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2MHB4KTsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC41Nik7CiAgICB6LWluZGV4OiAxOwp9CgoudW5pdC1ib3g6Zm9jdXMgLm92ZXJsYXkgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi51bml0LWJveDpmb2N1cyB7CiAgICBoZWlnaHQ6IGF1dG87CiAgICBvdXRsaW5lOiAwOwp9CgoudW5pdC1ib3ggaDMsCi51bml0LWJveCBwIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHggMjBweCAyMHB4IDU0cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGhlaWdodDogMTAwJTsKICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnVuaXQtYm94IGgzLAoudW5pdC1ib3g6Zm9jdXMgcCB7CiAgICBkaXNwbGF5OiBub25lOwp9CgoudW5pdC1ib3ggaDM6YmVmb3JlLAoudW5pdC1ib3ggcDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxOHB4OwogICAgbGVmdDogMThweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURBQUFBQXdBZ01BQUFBcWJCRVVBQUFBREZCTVZFVUFBQUJoWTJWZ1pHZGdZbVJ1YnhCQ0FBQUFBM1JTVGxNQTVFcFdiVnE0QUFBQUxVbEVRVlFvejJPZ091RDhEd1Rmb0J4MkVPY3ZsTVAvSHdTd2NzREVLSWVLSEVUd0V1WmdSQllpR3FrTkFGSlBOVDlTdzNkL0FBQUFBRWxGVGtTdVFtQ0MpIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyNHB4Owp9CgoudW5pdC1ib3ggdWwgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAxcHggMCAwIDI0MHB4OwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgd2lkdGg6IDI0MHB4OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjFweCk7CiAgICBvdmVyZmxvdzogYXV0bzsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgdHJhbnNpdGlvbjogYWxsIC4xNXMgZWFzZTsKICAgIHotaW5kZXg6IDI7Cn0KCi51bml0LWJveDpmb2N1cyBoMyB7CiAgICBjb2xvcjogIzNBM0EzQTsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgoudW5pdC1ib3g6Zm9jdXMgdWwgewogICAgbWFyZ2luOiAxcHggMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSwKLnVuaXQtYm94IGxhYmVsIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBwYWRkaW5nOiAxNHB4IDIwcHg7Cn0KCi51bml0LWJveCBsYWJlbCB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi51bml0LWJveCBsaTpob3ZlciBsYWJlbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLnBhZ2UtbGlzdCBsYWJlbCBzcGFuLAoudW5pdC1ib3ggbGFiZWwgc3BhbiB7CiAgICBmbGV4OiAxOwp9CgoucGFnZS1saXN0IGlucHV0LAoudW5pdC1ib3ggaW5wdXQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgoucGFnZS1saXN0IHNwYW46YmVmb3JlLAoudW5pdC1ib3ggc3BhbjpiZWZvcmUgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiAxNnB4OwogICAgaGVpZ2h0OiAxNnB4Owp9CgoucGFnZS1saXN0IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUsCi5wYWdlLWxpc3QgbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUsCi51bml0LWJveCBpbnB1dDpjaGVja2VkK3NwYW46YmVmb3JlLAoudW5pdC1ib3ggbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1FBQUFESUNBTUFBQUFwNHJUekFBQUFhVkJNVkVVQUFBQ1ltNXlZbTUwMGhQYURvTUtZdWNzMGhmYVltNTJabnA2Ym5aMDFoZmVZbkoyWm01NDBodmM4aXY4MWhQV1ltNTJZbkoyWm5KMDFoL2cyaWZtY25KdzRoL28xaGZZMWhmVTFoZlkxaGZVMWhmWTBoZmFabko0MWhmWTJoL2FZbkp3MGhmVTBoUGJwayt3QUFBQUFJblJTVGxNQW81TG1DQVAwbkRJVmVIRk5TZzZkaUdWWk5DY2lHdHZTdzdhcmozeHBWa1NFVHZRT21RQUFBUGxKUkVGVWVOcnQxTXR1d2pBUWhlRnhZaE55SVVCQ3dxWGNPdS8va0hXTWw2d3FSbFdsLzF0WXM1b2p6WkVzQUg3clVaWWJNWFpYMVZKc2ZhdDVTTmhxdERJOWwvK3l5dWlicHMvVE9kMXFsTSs3cUI3blpaaFBLZU1nQmxaNTgrR28wV2tXQzYrdXg3SFU2TnlMaWR6MmFua3ZYb3lFcTJiYklIWWFUYTVpNnE1Ukk4WTJaZmtRQUFBQUFBQUFBQUFBQUFBQTRLMTFVYXpGMk5NNVY0aXR3Wm1IaEwyTEt0TnpoZFlxdzNlZHo5TXQzV3FTejJ1ZDI5WExVTzlTUmkwR3FyeTVMcHhMZVJaZVhVOVR5cmg1TVpIYnJwYTM5V0lrREM3YkI3SFR1V1FRVTA4WGRmTE9QL3NWQVFBQUFBQUFBQUFBQUFENFl6ODRoZzhxbEdUWmVRQUFBQUJKUlU1RXJrSmdnZz09KTsKICAgIGJhY2tncm91bmQtc2l6ZTogNTBweCAxMDBweDsKfQoKLnBhZ2UtbGlzdCBsYWJlbDpob3ZlciBzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGxhYmVsOmhvdmVyIHNwYW46YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTUwcHg7Cn0KCi5wYWdlLWxpc3QgaW5wdXQ6Y2hlY2tlZCtzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwogICAgY29sb3I6ICMzQTNBM0E7Cn0KCm1haW4gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7Cn0KCi5pbnNwZWN0b3IsCi5uYXZiYXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgYm90dG9tOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAyNDBweDsKICAgIGJhY2tncm91bmQ6ICMyMzI1Mjc7CiAgICB6LWluZGV4OiA1Owp9CgouaW5zcGVjdG9yIHsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7CiAgICByaWdodDogLTI0MHB4OwogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IuYWN0aXZlIHsKICAgIHJpZ2h0OiAwOwp9CgoubmF2YmFyIHsKICAgIGxlZnQ6IC0yNDBweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7Cn0KCi5uYXZiYXIub24gewogICAgbGVmdDogMDsKfQoKLm5hdmJhciBuYXYgewogICAgd2lkdGg6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwMjA0Owp9CgoubmF2YmFyIHNlY3Rpb24gewogICAgZmxleDogMTsKfQoKLnRhYiB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAxMDAlOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLnRhYiBsaSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGhlaWdodDogNjBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLnRhYiBsaS5jdXJyZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMzI1Mjc7Cn0KCi50YWIgbGk6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDQwcHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQVkxQk1WRVVBQUFCZlltVFkyTmpZMk5oZ1lHUGEydHBkWUdOZllHSFoyZGxnWUdSZlgyTFkyTmhmWUdQWjJkbGRYMlBiMjl2VjFkWFIwZEZkWVdOZ1lHUGIyOXZVMU5SZFhWMWFZV1ZkWFdOWVdHSmJZR0xYMTlmWDE5ZmEydHJYMTlmWTJOaGdZbVR1ZlhsaUFBQUFIM1JTVGxNQTgvTGpacS9tcnpISG5wM1Z5SUpxUlF2N1ZWUWJDMGNzR2pyU1g0bDY1RjBQOVFBQUF2RkpSRUZVZU5ydDNObHU0a0FVUmRIckNUTVlNOFpBR0tyKy95dWJTa2RjUkp5M09sSTZ2ZGNiajF2SVBsRWtyZ0VBQUFBQUFBQ0FVbmp5NVhNbThjbnJaMElJSVlRUVFuNVh5RE5KeUF0Q0NQblhRbjdOdzA0SUlZNkhueEJDekhqWUNTR0VFRUlJK1pFaEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRDhIT0VibGxIOEJpSGpJVFlpZDRpTklJUVFRZ2pKRStLbWk4VmFFK0tPOC9sQkhUSXRRMWlJUTk2TEdPZmlrTGQ3UjJpMEljZDdSMnkxSVc5VnVMdElRMDZUZUZkTFF6Ykw0RitJS0dTWVJmOUNWQ0ZONmxodXBDRnQ2cGdOMHBCRjZxamVUQmt5VHgyVGt5bERicW1qbkVwM3BFOGR4Vkc2STVlUXJLV0RXS2VPN1VFNmlPdVFyS1RMZnRqNkMwc1ZNaTFUeDlWRUlUNGdzVGRWaUEvSTBsUWhQaUF6VTRac3p1SERSUmd5ZFBGRHJRbnhBVkUvSTdNWXM1ZUVUejRnRC92Yy8zendBWG5ZcVVLdTN0R1lLS1QzanRaRVZ0NnhNSkhhTytZbXNuNWtsQmNUOEFGSml0b0VmRUNTYW1vaTcwWDgxQjFOd0Fja3VabUFEMGhTOU9aRUhjMmJxWnk2K0ZkN01wbGxTTXJGMURSOFFJcjUwWFNhVk5Hc05pYlVwb3EySGt6b2VtNXVVOVBxdTdaL053QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvak8zbThuMXZjbXRRbGlaV0IxamJXS1hzVnNQK1R2a0pYdS9rQ0N6MjZhUTdjNkUxdUhUMm1RT3FlUDFRbzJnUTEzaXY4b3YzazNFcnd2NDlTTkZoNjdFTzlRbFIrOTR1ZU9VKzdxQTg4dGF1YThrdU1uSjhsdUdGMHZMYmhaZnpDeTdWWGdoR01ZNnZsRE1TUlcrcUN5elNmeGlZaTdmRWpySkx1N2lpTnk3dUFoT2RYSm5IcDNzNU00NWpEaGJWbDBjMFZsZVpSaFJXbFpGSEZGWVhtR1VaYldOSTdhV1Z4V0MvTFUxaVZINjJ2STUxRTJpejZGNkVxOWh4Tld5NnVPSTN2SmFCNmY2Vy80UVJ4d3NzN1BzN2VzNjNkdlg3V1hEN25iQ1lYY0wyYTY3dVhyWC9kNnlXMjRzdTJFbWZHVjVTUk9lTkJzVEdOcjRwQjFNWTFVOXBuQmxJdlhrTVlXMXlXejJUVldXVmJQZm1NeXdhN3VpNk5yZFlBQUFBQUFBQUFBQUFBQUFBQUR3NUE5NlhEYVdlSHFwK3dBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdCAtNTBweCAwOwogICAgYmFja2dyb3VuZC1zaXplOiAxMDBweCAxNTBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi50YWIgbGkuY3VycmVudDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAwOwp9CgoudGFiIGxpLmljb24tc2xpY2VzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC01MHB4Owp9CgoudGFiIGxpLmljb24tY29sb3JzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC0xMDBweDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDE2cHg7Cn0KCiNpbnNwZWN0b3IgLmNvZGUtaXRlbS5zZWxlY3QgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAudGFiIGxpIHsKICAgIGhlaWdodDogNDBweDsKfQoKI2luc3BlY3RvciAudGFiIGxpOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQW4xQk1WRVVBQUFCZ1ltVFoyZG5mMzkvYjI5dGtaV1puYUdoZ1ltUmdZMlRaMmRscGFXL1oyZG5aMmRuYTJ0cm41K2RnWW1SZ1ltUmdZbVhCd2NIWTJOaGhZMlhaMmRsaFkyVmtaR2hrWldoZ1ltWFoyZGxnWW1SaFltVmhaR1haMmRuWjJkbmIyOXRpWkdaaFltWGEydHJiMjl2WjJkbGdZbVZnWTJUYTJ0cmIyOXRoWkdiYjI5dloyZGxnWW1UWjJkbmEydHJhMnRwaFkyWGUzdDdZMk5oZ1ltUmwreHcvQUFBQU0zUlNUbE1BOFBJZUx6QWdlOWZXRE9lSGZBejE2T0VHN1lmZWJDa1p1cm5Cc1Z2R3NUYzNqbkJUcDZmTFhVVkZKNzZaajVwb1VSVmFXN1Q1QUFBRkhrbEVRVlI0QWUzZHlWTHp5aElFNEpSczBDQVBzanpQTm1BYk1IUFYrei9iL1lXSSt4dHc2eXhPTlJHSHlHL1Z3UzVEbGJTMG9NQXZRMFJFUkVSRVJFUkU5Q0IxTWxpWWE1MGNKa0twczRhRlFPc3NZS0VodGRvd2NLbTFJbGk0a1ZvM01QQ3F0VjVob1NXMUdqQXcwRm9UV0pqOVFOZW5QOUgxaHNPTGxHYXdNTGs4YjJUWWRkU1BYQXMrRGJRMGdGZXorcTRianR3cnZNcnN1dTZVYStrU0Z0YWhnNVQ2c0xBSUhMUVV3RVFtZFdhd2tHdWRxZjk3M2FqckU2MDErQzMzK2hJVzJqOXdyMGZxWnRkMXFSUEN3a0xyQkRCeGJKNTNMYVVIV0JoZm5EZlMwaHhldFkzdmRmZklYY0dydFpSdTRkUENzT3RPUXlrZDRWTlBTMk5ZYUNXbFczejFadGoxUVZ4YTRxdUpaZGNUS1czdzFaMlVWckFRYTJtTHIrNE51MTdJdTQ2ajYwOHdVT2k3MUd2WE4vTHVlWU5QbXEzTXJ1dGJmZmU0eFNmalFXN1k5UmY1a0Z5Ly9VMlJ5SWNtREl6MFF6eWEvRTBSYThXbzY4L3kxKzd1SkVVRkZoNzEvN3I3K3pKRkZKLzh5SzdyZncyZkV6bTFnb1dEbnVvOXhucnFBQk03cVRHOGhZVzkxb2lYc1BGMm5UaFN0Sm93TW9saVBhczN1SUNoelhQNFBjVUdwcmFQM2U4cHRyRFdlVmw1VEZGSlI0ZlRGRmRiK05GODZrc3BlOXJBbC9GVjREZEZwYmlaZVV4UktaYlRmNWVDaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlxQlcyNE5zZ0dNQTdFWUZ2cXZwYmd4VCtnelNUck9rN3lFV2NYL2dPMHV5THREMEh1UWhVSTY5QnFoejloczhnVlk3ZzBrZVE5bXdZaHNtNjNhaHlOSDEwSkpyMnVrRzhpQ1pWamd1WWt4TXpQem1nSjZhZWNyVGtsSjhjQXozbEpVZG5MVitzT2pDV0x2U0xRL29UVzBCbkJXek45WnRwQVZ0dE9lTUpwaUk5NHdxbU5sSnFkOXJ5NmRDRW9hMldvalRTVDRjTEQzdUNPdWpJcDhPRC9aNmdGS2wrT3N4aHFDSG5uNGcwWUdhaTU1K0lYdnB0U09YYWEwTXFrZWxrT2N3c0o4dGhDanVKT0NRd2MxQ0hHSFpDY1FoaEpsQ0hBUFJiWFlmaUZGN0R4S2lyVHQyUmZVTzh0YVNyTmJxd0liVmdRbXY5d2lmQ2psVEVDV2FNQm90QnpEQUlnekFJZzlqSnhDR0RtVndkY3RqWmljTU9admJxc0llZFJsL082amRnWmhMb1djRUVoaHE3VEw3SmRnMFltdXh6L1NiZlQwQkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUlBUZlVkek9NbmhXTEtjNVBMc2JpdlRoMTMzUC81YUVXL2xqQmErVzFYSVhyKzZrZEEyZjdyVVV3YWNpa3ovNkhYaFU5UFNQSUlWUEwxSzZnVThqTFMzaDFZUDgwWVpYVTcrRFZlbDdMVWdscVBZSytCVU9uNDd3TE9nOWp1Rkg4MmsyVEhZM0haUTI3VlVXRHRjdkhaZ2FYMDNqdzM2Wm9yU041bmszWG94U1dEbyt5SWYxN1YxcktCWGJxb3puV3VrdWx2ZURubjdvUnJCekU0ckRRd0VqcjRFNnpGUFRHOUJoWjNrRE91eTkvc2x4WmJpQmlVbXVUcjB0YkR5TFU5S0JqVWQxaWxQWTZJVGlFaDVoSXczVUpSakR5SXM0dFdCa3BFNERXTm1KMHhGRzl1bzBocFdWdUdTd01sZVhIR1l5Y1ZuQlNrOWREakFqUHhCRWZ5Skk5Z09qbGF0TEQyWVNjV3JBU0t4T2w3QXlFNmMyakV6VktZS1ZsamlGYi9hN3NQM3RSYmtUdDFYaC81WFI3T1cza0Jxck4xaEl0Y1o4NHJja2xlekZaMGtxK1FnbWJxVE9BeXk4YXAwNWJBeWx4cTNYdTcyeWhJMXJjVXY4di85cURDTkZJazUzc0ZIRTZuUVAvNytCWjdCeXJ5NVQySG4yL1lsWTg3WGJIY05Pa2Zoc2VpV04vVGE5MHNqOC8zT0Z5MXpQdUlLdFl5THZrdWRXYXkyVkZteU5ZMzBYUDBaWGk2NTlqa3FubFlTcjlyRTYzK3lHMlhvRGEra2dEZzdSdURxLzd1UGVZZ3NpSWlJaUlpSWlJaUlpSWlJaUlpS2lmL1kvamxGR2VjS0FVbk1BQUFBQVNVVk9SSzVDWUlJPSk7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5zZWxlY3QgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpOwp9CgojaW5zcGVjdG9yIC50YWIgbGkuc2VsZWN0OmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXg6IDA7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWFuZHJvaWQtcGFuZWw6YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb24teTogLTUwcHg7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWlvcy1wYW5lbDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi15OiAtMTAwcHg7Cn0KCi5zY3JlZW4tdmlld2VyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpOwogICAgYmFja2dyb3VuZDogIzE5MTkxOSB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQVFNQUFBQkp0T2kzQUFBQUJsQk1WRVVBQUFBQUFBQ2xaN25QQUFBQUFuUlNUbE1BVXZQMi9lQUFBQUFSU1VSQlZBalhZNkFTWUQ2QVRsQUhBQUR5NWdNTjBmQ3FGd0FBQUFCSlJVNUVya0pnZ2c9PSk7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDsKICAgIG92ZXJmbG93OiBhdXRvOwp9Cgouc2NyZWVuLXZpZXdlciAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBub25lOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgd2lkdGg6IDEwMHZ3OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7CiAgICB0b3A6IDYwcHg7CiAgICBsZWZ0OiAwOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgei1pbmRleDogMjsKICAgIGN1cnNvcjogbm9uZTsKfQoKLnNjcmVlbi12aWV3ZXIubW92aW5nLXNjcmVlbiAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnNjcmVlbi12aWV3ZXItaW5uZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCi5zY3JlZW4gewogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDUwJTsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5zY3JlZW4uZmxvdyB7CiAgICBsZWZ0OiAwOwogICAgdG9wOiAwOwp9CgojZmxvd3MgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCiNmbG93cyAuZmxvdyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUE2MjM7CiAgICBvcGFjaXR5OiAwOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CgojZmxvd3Muc2hvdy1mbG93cyAuZmxvdyB7CiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuNXM7CiAgICBhbmltYXRpb24tbmFtZTogZmxvd1RpcDsKfQoKQGtleWZyYW1lcyBmbG93VGlwIHsKICAgIDAlIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQoKICAgIDUwJSB7CiAgICAgICAgb3BhY2l0eTogMC41OwogICAgfQoKICAgIDEwMCUgewogICAgICAgIG9wYWNpdHk6IDA7CiAgICB9Cn0KCi5sYXllciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ob3ZlciwKLnNlbGVjdGVkIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNFRTY3MjM7Cn0KCi5oYXMtc2xpY2UgewogICAgYm9yZGVyOiAxcHggZGFzaGVkICNFRTY3MjM7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgODUsIDAsIC4zMik7Cn0KCi5sYXllciBiLAoubGF5ZXIgaSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm9yZGVyOiAxcHggc29saWQgI0VFNjcyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBkaXNwbGF5OiBub25lOwp9CgoubGF5ZXIgYiB7CiAgICB3aWR0aDogM3B4OwogICAgaGVpZ2h0OiAzcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9Cgouc2VsZWN0ZWQgaSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLmRpc3RhbmNlLmggZGl2W2RhdGEtd2lkdGhdOmJlZm9yZSwKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciwKLnNlbGVjdGVkOmJlZm9yZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGxlZnQ6IDUwJTsKICAgIHRvcDogLTIzcHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtd2lkdGgpOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICBoZWlnaHQ6IDEycHg7CiAgICBsaW5lLWhlaWdodDogMTJweDsKICAgIHBhZGRpbmc6IDRweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB6LWluZGV4OiAxOwp9CgoucGVyY2VudGFnZS1tb2RlIC5kaXN0YW5jZS5oIGRpdltkYXRhLXdpZHRoXTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyLAoucGVyY2VudGFnZS1tb2RlIC5zZWxlY3RlZDpiZWZvcmUgewogICAgY29udGVudDogYXR0cihwZXJjZW50YWdlLXdpZHRoKTsKfQoKLnNlbGVjdGVkLmhpZGRlbjphZnRlciwKLnNlbGVjdGVkLmhpZGRlbjpiZWZvcmUgewogICAgZGlzcGxheTogbm9uZTsKfQoKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtaGVpZ2h0KTsKICAgIGxlZnQ6IGF1dG87CiAgICByaWdodDogMDsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKGNhbGMoMTAwJSArIDNweCkpIHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyIHsKICAgIGNvbnRlbnQ6IGF0dHIocGVyY2VudGFnZS1oZWlnaHQpOwp9CgoubGF5ZXIgLnRsIHsKICAgIHRvcDogLTNweDsKICAgIGxlZnQ6IC0zcHg7Cn0KCi5sYXllciAudHIgewogICAgdG9wOiAtM3B4OwogICAgcmlnaHQ6IC0zcHg7Cn0KCi5sYXllciAuYmwgewogICAgYm90dG9tOiAtM3B4OwogICAgbGVmdDogLTNweDsKfQoKLmxheWVyIC5iciB7CiAgICBib3R0b206IC0zcHg7CiAgICByaWdodDogLTNweDsKfQoKLmhvdmVyIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MTliZjk7Cn0KCi5zZWxlY3RlZCB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjRUU2NzIzOwp9CgoucnVsZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXI6IDFweCBkYXNoZWQgIzQxOWJmOTsKfQoKLnJ1bGVyLmggewogICAgYm9yZGVyLWxlZnQ6IDA7CiAgICBib3JkZXItcmlnaHQ6IDA7Cn0KCi5ydWxlci52IHsKICAgIGJvcmRlci10b3A6IDA7CiAgICBib3JkZXItYm90dG9tOiAwOwp9CgouZGlzdGFuY2UsCi5kaXN0YW5jZSBkaXYsCi5kaXN0YW5jZSBkaXY6YmVmb3JlLAouZGlzdGFuY2U6YWZ0ZXIsCi5kaXN0YW5jZTpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwp9CgouZGlzdGFuY2UudiwKLmRpc3RhbmNlLnYgZGl2IHsKICAgIHdpZHRoOiAxcHg7Cn0KCi5kaXN0YW5jZS5oLAouZGlzdGFuY2UuaCBkaXYgewogICAgaGVpZ2h0OiAxcHg7Cn0KCi5kaXN0YW5jZS52IGRpdiB7CiAgICB0b3A6IDA7CiAgICBib3R0b206IDA7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaCBkaXYgewogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYmFja2dyb3VuZDogI0VFNjcyMzsKfQoKLmRpc3RhbmNlLnY6YWZ0ZXIsCi5kaXN0YW5jZS52OmJlZm9yZSB7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMDsKICAgIGxlZnQ6IC0ycHg7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiAxcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaDphZnRlciwKLmRpc3RhbmNlLmg6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgdG9wOiAtMnB4OwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxcHg7CiAgICBoZWlnaHQ6IDVweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7Cn0KCi5kaXN0YW5jZS52OmFmdGVyIHsKICAgIHRvcDogYXV0bzsKICAgIGJvdHRvbTogMDsKfQoKLmRpc3RhbmNlLmg6YWZ0ZXIgewogICAgbGVmdDogYXV0bzsKICAgIHJpZ2h0OiAwOwp9Cgoubm90ZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBtYXJnaW46IC0xMnB4IDAgMCAtMTJweDsKICAgIHdpZHRoOiAyNHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgYmFja2dyb3VuZDogI0Y1QTYyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDAgM3B4IHJnYmEoMCwgMCwgMCwgLjI0KTsKfQoKLm5vdGU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1pbmRleCk7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBsaW5lLWhlaWdodDogMjBweDsKfQoKLm5vdGU6aG92ZXIgewogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC42NCk7Cn0KCi5ub3RlIGRpdiB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDUwJTsKICAgIGxlZnQ6IDMwcHg7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBwYWRkaW5nOiA4cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC41KTsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7CiAgICBjb2xvcjogIzIyMjsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgIHotaW5kZXg6IDI7Cn0KCi5ub3RlIGRpdjpiZWZvcmUgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAtN3B4OwogICAgdG9wOiA1MCU7CiAgICB3aWR0aDogOHB4OwogICAgaGVpZ2h0OiAxNHB4OwogICAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBY0NBTUFBQUJmNzg4b0FBQUFObEJNVkVVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEUjBkRUFBQUFBQUFBQUFBQUFBQUFBQUFETnpjMEFBQUFBQUFEYTJ0cms1T1QvLy8vNWF1RkZBQUFBRVhSU1RsTUFBZ1lLRWh5ZE5Da1lEaU9mTGllV2p6NE1VajRBQUFCclNVUkJWQmpUWlpGYkRvQWdFQU5WRkhtSU92ZS9yRVJqV0dqL3BzbkNianYxZ2c3bkdUcGNGbXRVZEE0TXU3UW1NTHpHR01Id2x2TU5oczl5QVkzRDdxa2FtY1lIci83NXlzMUlNUmVQTmJid3NSbzZvby9xdDdyWTZPaHhlcjRHcEJGcXlGcURGdFdxZkFENGRRcmxXRG1TaEFBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogOHB4IDE0cHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5zbGlkZWJveCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLnNsaWRlYm94IGlucHV0IHsKICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoKLnNsaWRlYm94IGxhYmVsIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGJhY2tncm91bmQ6ICM4OTg5ODk7CiAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIC4zKTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2U7Cn0KCi5zbGlkZWJveCBsYWJlbDphZnRlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMnB4OwogICAgbGVmdDogMnB4OwogICAgd2lkdGg6IDE2cHg7CiAgICBoZWlnaHQ6IDE2cHg7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgI0Y4RjlGNiAwLCAjRjVGNUY1IDEwMCUpOwogICAgYm94LXNoYWRvdzogMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAuMyk7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjE1cyBlYXNlOwp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbCB7CiAgICBiYWNrZ3JvdW5kOiAjMzQ4NEY1Owp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbDphZnRlciB7CiAgICBsZWZ0OiAyMnB4Owp9CgouaW5zcGVjdG9yIHsKICAgIG92ZXJmbG93OiBhdXRvOwp9CgouaW5zcGVjdG9yIGgyLAouaW5zcGVjdG9yIGgzIHsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBmb250LXdlaWdodDogNDAwOwp9CgouaW5zcGVjdG9yIGgyIHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouaW5zcGVjdG9yIGgzIHsKICAgIGhlaWdodDogMzJweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAzMnB4OwogICAgcGFkZGluZzogMCAxNnB4OwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDAsIDQsIDksIC4zMikgMCwgcmdiYSgwLCAyLCA0LCAwKSAxMDAlKTsKfQoKLmluc3BlY3RvciAuY29udGV4dCB7CiAgICBwYWRkaW5nOiAxNnB4Owp9CgouaW5zcGVjdG9yIC5jb2xvciwKLmluc3BlY3RvciAuaXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luOiAwIDAgOHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtW2RhdGEtbGFiZWxdOmJlZm9yZSB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtbGFiZWwpOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogNzBweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGhlaWdodDogMjRweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4Owp9CgouaW5zcGVjdG9yIC5jb2xvcjpsYXN0LWNoaWxkLAouaW5zcGVjdG9yIC5pdGVtOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouaW5zcGVjdG9yIC5pdGVtIGRpdiwKLmluc3BlY3RvciAuaXRlbSBsYWJlbCB7CiAgICBmbGV4OiAxOwp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsIHsKICAgIHBhZGRpbmc6IDAgNHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsOmZpcnN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgNHB4IDAgMDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpsYXN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgMCAwIDRweDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpvbmx5LWNoaWxkIHsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLml0ZW0gbGFiZWxbZGF0YS1sYWJlbF06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLWxhYmVsKTsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIGlucHV0LAouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDNweCA0cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KTsKICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgIGJvcmRlcjogMDsKICAgIGxpbmUtaGVpZ2h0OiAxOHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBvdXRsaW5lOiAwOwogICAgcmVzaXplOiBub25lOwp9CgouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIG1pbi13aWR0aDogMTAwJTsKICAgIGhlaWdodDogYXV0bzsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5jb250ZXh0IGg0IHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICBwb3NpdGlvbjogMDsKICAgIG1hcmdpbjogMCAwIDE2cHg7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmNvbnRleHQgaDQ6YmVmb3JlIHsKICAgIG1hcmdpbjogMCAxMHB4IDAgMDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYm9yZGVyLXJhZGl1czogMXB4OwogICAgYmFja2dyb3VuZDogIzM0ODRGNTsKfQoKLmNvbnRleHQgLmNvbG9ycyB7CiAgICBtYXJnaW46IDAgMCA4cHg7Cn0KCi5jb250ZXh0IC5jb2xvcnM6bGFzdC1jaGlsZCwKLmNvbnRleHQgLml0ZW1zLWdyb3VwOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouY29udGV4dCAuaXRlbXMtZ3JvdXAgewogICAgbWFyZ2luOiAwIDAgMjRweDsKfQoKLmluc3BlY3RvciAuY29sb3IgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yW2RhdGEtbmFtZV06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLW5hbWUpOwogICAgZm9udC1zaXplOiAxMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogMCAwIDAgMjRweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIC5jb2xvciBsYWJlbCwKLmluc3BlY3RvciAuY29sb3IgbGFiZWwgZW0sCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpOwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDZweCA2cHg7CiAgICBib3JkZXItcmFkaXVzOiAycHggMCAwIDJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouaW5zcGVjdG9yIC5pdGVtIC5jb2xvciBpbnB1dCB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGlucHV0IHsKICAgIHBhZGRpbmctbGVmdDogMzJweDsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLmdyYWRpZW50IC5jb2xvciBsYWJlbDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxMnB4OwogICAgbGVmdDogMTFweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAyOwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3IgbGFiZWw6YWZ0ZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA4cHg7CiAgICBsZWZ0OiA4cHg7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiA4cHg7CiAgICBoZWlnaHQ6IDhweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAzOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3JbZGF0YS1uYW1lXSBsYWJlbDpiZWZvcmUgewogICAgaGVpZ2h0OiA0MnB4Owp9CgouZ3JhZGllbnQgLmNvbG9yOmxhc3QtY2hpbGQgbGFiZWw6YmVmb3JlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5uYXZiYXIgc2VjdGlvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBvdmVyZmxvdzogYXV0bzsKfQoKLmFydGJvYXJkLWxpc3QsCi5hc3NldC1saXN0LAouY29sb3ItbGlzdCB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLmFydGJvYXJkLWxpc3QgbGkgewogICAgcGFkZGluZzogMTZweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5hcnRib2FyZC1saXN0IGxpOmhvdmVyLAouYXNzZXQtbGlzdCBsaTpob3ZlciwKLmNvbG9yLWxpc3QgbGk6aG92ZXIgewogICAgYmFja2dyb3VuZDogIzE5MUExRTsKfQoKLmFydGJvYXJkLWxpc3QgbGkuYWN0aXZlIHsKICAgIGJhY2tncm91bmQ6ICM0NTQ3NDg7Cn0KCi5hcnRib2FyZC1saXN0Lm5vLXByZXZpZXcgLnByZXZpZXctaW1nIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5wcmV2aWV3LWltZyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiA0NHB4OwogICAgaGVpZ2h0OiA0NHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMzIpOwp9CgoucHJldmlldy1pbWc6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcgJzsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5wcmV2aWV3LWltZyBpbWcgewogICAgbWF4LXdpZHRoOiA0NHB4OwogICAgbWF4LWhlaWdodDogNDRweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CgoucGFnZXMtc2VsZWN0LAouZmxvdy1zdGFydHMgLnRpdGxlIHsKICAgIHBhZGRpbmc6IDI0cHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5wYWdlcy1zZWxlY3QgaDMsCi5mbG93LXN0YXJ0cyAudGl0bGUgaDMgewogICAgbWFyZ2luOiAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjRkZGOwp9CgoucGFnZXMtc2VsZWN0IGgzIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnBhZ2UtbGlzdCBlbSwKLnBhZ2VzLXNlbGVjdCBoMyBlbSwKLmZsb3ctc3RhcnRzIC50aXRsZSBoMyBlbSB7CiAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICBmb250LXNpemU6IDEwcHg7CiAgICBjb2xvcjogIzk4OUE5QzsKfQoKLnBhZ2VzLXNlbGVjdCBoMzphZnRlciB7CiAgICBjb250ZW50OiAiIjsKICAgIG1hcmdpbjogMCAwIDAgNHB4OwogICAgd2lkdGg6IDEycHg7CiAgICBoZWlnaHQ6IDZweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQU1BZ01BQUFBRlhwWG1BQUFBQ1ZCTVZFVUFBQUJpWkdaZ1ltVGhZMW1IQUFBQUFuUlNUbE1BZ0pzclRoZ0FBQUExU1VSQlZBalhGY2t4QVFBZ0RNVEFaNmtJMUtBSE5Zam9BaXBKc21TNDdFYzMwM1hLblF5M0FrSVJtNVVVVUFJaEVSSWhFZm9xbVJmcGNxY0ZjQUFBQUFCSlJVNUVya0pnZ2c9PSkgbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDZweDsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBtYXJnaW46IC0zMnB4IDAgMDsKICAgIHBhZGRpbmc6IDhweDsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICB3aWR0aDogMTgwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgYm94LXNoYWRvdzogMCAycHggMTBweCAwIHJnYmEoMCwgMCwgMCwgLjgpOwp9CgoucGFnZXMtc2VsZWN0OmZvY3VzIHsKICAgIG91dGxpbmU6IDA7Cn0KCi5wYWdlcy1zZWxlY3Q6Zm9jdXMgLnBhZ2UtbGlzdCB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IGxhYmVsIHsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5wYWdlcy1zZWxlY3QgLnBhZ2UtbGlzdCBsYWJlbCwKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHNwYW4gewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5wYWdlLWxpc3Qgc3BhbjpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IDhweDsKfQoKLmV4cG9ydGFibGUgewogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMTkxQTFFOwogICAgYm9yZGVyOiAxcHggc29saWQgIzJEMkYzMTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLmV4cG9ydGFibGUgbGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZzogMCA4cHg7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBsaW5lLWhlaWdodDogMzJweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjIyOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgouZXhwb3J0YWJsZSBsaSBhIHsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgb3V0bGluZTogMDsKfQoKLmV4cG9ydGFibGUgbGk6bGFzdC1jaGlsZCB7CiAgICBib3JkZXI6IDA7Cn0KCi5leHBvcnRhYmxlIGltZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvcGFjaXR5OiAwOwp9CgouYXNzZXQtbGlzdCBsaSwKLmNvbG9yLWxpc3QgbGkgewogICAgcGFkZGluZzogMjRweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jb2xvci1saXN0IGxpIHsKICAgIGN1cnNvcjogZGVmYXVsdDsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSwKLmNvbG9yLWxpc3QgbGkgZW0gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB3aWR0aDogMzJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0QTRBNEE7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApOwogICAgYmFja2dyb3VuZC1zaXplOiA4cHggOHB4OwogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCA0cHggNHB4OwogICAgYm9yZGVyLXJhZGl1czogMnB4Owp9CgouY29sb3ItbGlzdCBsaSBlbSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKSwgbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5jb2xvci1saXN0IGxpIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAwOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYsCi5hc3NldC1saXN0IGxpIGRpdiwKLmNvbG9yLWxpc3QgbGkgZGl2IHsKICAgIHBhZGRpbmc6IDAgMCAwIDE2cHg7CiAgICBmbGV4OiAxOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYgewogICAgcGFkZGluZzogNnB4IDAgNHB4IDE2cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgaGVpZ2h0OiAxMDAlOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSBpbWcgewogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIG1heC13aWR0aDogMjhweDsKICAgIG1heC1oZWlnaHQ6IDI4cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YWZ0ZXIgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IDA7Cn0KCi5hcnRib2FyZC1saXN0IGgzLAouYXNzZXQtbGlzdCBoMywKLmNvbG9yLWxpc3QgaDMgewogICAgbWFyZ2luOiAwIDAgNHB4OwogICAgcGFkZGluZzogMDsKICAgIGNvbG9yOiAjRkZGOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKfQoKLmFydGJvYXJkLWxpc3Qgc21hbGwsCi5hc3NldC1saXN0IHNtYWxsLAouY29sb3ItbGlzdCBzbWFsbCB7CiAgICBmb250LXNpemU6IDEwcHg7Cn0KCi5hcnRib2FyZC1saXN0IGxpLmFjdGl2ZSBzbWFsbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmVtcHR5IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMzAlOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLm1lc3NhZ2UgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICBtYXgtd2lkdGg6IDMyMHB4OwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC45Nik7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBjb2xvcjogI0ZGRjsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMzIpOwogICAgei1pbmRleDogOTsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5jdXJzb3IgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAtOHB4IDAgMCAtOHB4OwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICB3aWR0aDogMTZweDsKICAgIGhlaWdodDogMTdweDsKICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAxN3B4OwogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWlDQU1BQUFBSmJDdk5BQUFCVmxCTVZFVUFBQUFHQmdZQkFRRUJBUUVBQUFBQUFBQUFBQUFuSnljQUFBQTNOemNEQXdNTkRRMEFBQUFBQUFBQUFBQWhJU0ViR3hzWUdCZ1BEdzhDQWdJREF3TUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQXZMeThVRkJRQ0FnSUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQStQajVCUVVFL1B6OHpNek1DQWdJREF3TURBd01DQWdJQkFRRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE3T3pzQUFBQUFBQUFBQUFBQUFBRC8vLzhBQUFCaFlXRWRIUjM2K3ZwVlZWWDkvZjMyOXZiejgvUGIyOXVCZ1lGMGRIUmpZMk1zTEN6MzkvZnQ3ZTNyNit2UjBkRnhjWEZTVWxKTlRVM1gxOWZLeXNxNHVMaDNkM2RYVjFkSlNVbEdSa1pFUkVUdjcrL282T2pqNCtPOHZMeTF0YlcwdExTbnA2ZW1wcWFUazVPS2lvcUdob1p0YlcxbloyZGNYRnhQVDAvRHc4UEN3c0t3c0xDdXJxNnBxYW1ob2FHWm1abU5qWTE2ZW5wZVhsNUpuRzd4QUFBQVBIUlNUbE1BL2ZqOUIxRUMvamYrL3Z3OEV3NysvZno4NXQyNm1wUm9ZeVg5L09MTW9IbEtNaUwrL2YzOThlblkwY0MxdExHb2pvdUdWaDRaL3FweVF5N1VHL3ZMQUFBQ0hVbEVRVlE0VDMzUVZWZGJVUkJBNGJrM1Fqd1FJSWE3dTlUMlFEd1F4eDJLMStYL3YvUWhselJwV04ydjUxdG5abzFJUzRFUng0YjhKNGVwYWh0KzVjSHBpS3pHUmZ6bXhINTVSMGZ0c2VFUlp3dUlxR0dZNnhMVExLU05vVGxWN1cwV1k3WjhxalJoZmxneEFEclVPTWpjYXJRSmpHZ1ppcUhlY0JmQXVCNENmYjFOd0tjSHdKME9kZ0tjNmpXdzFTMHk1ckxYZ2QxOEFJcUdkdFZCR2RqcHRpK3I5c1RyWXFrckJTUzFIK0JFejRHam5vam12bnV0UVE3OUFueFRMOEN4Rm9Da3FYblltYWtENThBa2tQRVlBRFVQUUZWREdhak9XbXNPYXhib1U0RG5FRUJOODBEZmdvajRvZzcvcHUwUWVOUTA4TnhaMzJRUEVwNDFjUzZycXZsdXFUOEZYNE1KSVBjRWtIUURuOVFoNjVyUDdsZTFXL2RwS1ZFQWNyYUFySHBUUUU3MW52Wk81MFRXakF4QVJVOWVBYUd3aUV0dkFSSlRuUUNwTktUUElGRUV1TkNvaUN3WW53R0tXWUNLRzdiR29iSUxjSzArRWZIUGV2Y2FmejRGb2JvTFc5c0E5eG9RRWRtWTZTaThnTjlCU0RaQXJhZCt4dmY2NndWc2JUZUJNeU5pSFhySXM5Y01PaXh3cDZNVzhFOVBXbUJuRzQ0c2NPRmRsSmRpK3RNQ1hRMlFjRS9IRzhENVZqOENrTytBeHltbzdIS29Edm1iZmQ1ekE1QW9RZVljQ3FXc0xTek5CZVp0UDJndVovTzNBTEV2V2xNb3Zla3NRN0pIL3NrNTZLNkRtamtRVEhNOCtDK1FvZjZyZzh2THF3ZU51bXpITis3dU5oRFdlaXNpTVZOMW9BM1lSMTB1bjgrMUtTSVNpSS9aMjhEci9RSFBhNkVtOERmd2ZBQUFBQUJKUlU1RXJrSmdnZz09Jyk7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgY3Vyc29yOiBub25lOwogICAgei1pbmRleDogMTsKfQoKLmN1cnNvci5zaG93IHsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgouY3Vyc29yLm1vdmluZyB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBaUNBTUFBQUFKYkN2TkFBQUJNbEJNVkVVQUFBQUFBQUEyTmpZc0xDd0NBZ0lBQUFBQUFBQU1EQXdCQVFFQ0FnSUJBUUVDQWdJQkFRRUJBUUVBQUFBQUFBQUFBQUE1T1RrZ0lDQUlDQWdBQUFBY0hCd0NBZ0lBQUFBQUFBQUFBQUFBQUFBQUFBQkRRME04UER3eE1URTBORFFWRlJVQ0FnSUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUER3OERBd01BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFELy8vOEFBQUJoWVdFY0hCejYrdnIzOS9kTVRFenM3T3k4dkx5NHVMaFdWbFlxS2lvb0tDajA5UFR3OFBDMXRiV25wNmQyZG5aWldWbjgvUHpwNmVuajQrUGQzZDNhMnRyTnpjMnRyYTJwcWFtbXBxYUtpb3FBZ0lCemMzTndjSEJtWm1aZFhWMVRVMU5IUjBjK1BqN1cxdGJSMGRIR3hzYkF3TUNhbXBxU2twS1BqNCtHaG9aeWNuSnNiR3drSkNUeTkxd2lBQUFBTm5SU1RsTUFQUDcrL1pjTi9QbnI0ODdLdjdRbEV2NysvZno3MWprMkdBY0UvdjcrL2Z6enBhQ1VrR1paUVRFc0lBbjgyNnVFZzNKdFhGR3J5T3hJQUFBQmtFbEVRVlI0QWVYUzFYTGJRQmpGOFJYSURIYk5kaUJwT0NuRE9hNGtnMk93dzl3MktVUGYveFc2czhxMnNUWFQ2WDErdDk5L05Kb3pLKzZsUjhabVJQekRacHhjM3NnOXkyU2V6M2FObCttVXN4MjNUanB6eGJKdG1uYXFNUjA4Wk84bUd1Tm40SkE4QVU3NVlpWGw1SVNXNVNYd2dUd0FVR0lmY0F1TTN0aHBvUm5zQUpobkM4RGNZMGdXajNIQm1nNXFQQWR3MW5NQmZKOUFhaTRBUTFhRmxsekVOTmNEMmpTRXN1T2tFdnlJRUIxazQ0WHJFaWNJNmJDaWd0WG9JYnpGTjVEMlBNQWJBRzRMMGltM1ZWRDJBUXlPSUYzbGdlWTg4TU9DOUpYQkVFa2YycnNId0h0TFJ1cDc0OWp0aWt2VFFVOEhmbGtvci9oSkIwMFpkSFV3S0t3S0pSTFA3MEZSaCs3dWJYRE9MUkhZNEdVNHdFRTBJN1ExZm9QeVZoNG1RZUNheTFueHgxT2VxV0M4SzZNRjRNckNtSy9GWC9XMFBRS0NnZnI3Z0xkL1pEdmlya2lhWDNEWFJURTM4MXd6SEVGcDVVdkhRUGVKbU5GSW1sRDhXT0pYSDM1U3pGcFpHbmJhN2VGUHJsZUsxeU16RVFvY0J0YUVXSStSNGFDK1ZhMFlScldtL2ptN1V4Zi81emVFeFd2WmdobFRTZ0FBQUFCSlJVNUVya0pnZ2c9PScpOwp9">
    <script src="data:text/javascript;base64,LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7Ci8qKioqKiovIAkJfQovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlpOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbDogZmFsc2UsCi8qKioqKiovIAkJCWV4cG9ydHM6IHt9Ci8qKioqKiovIAkJfTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmwgPSB0cnVlOwovKioqKioqLwovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQovKioqKioqLwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7Ci8qKioqKiovIAkJaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykgewovKioqKioqLyAJCWlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAkJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdAovKioqKioqLyAJLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zCi8qKioqKiovIAkvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7Ci8qKioqKiovIAkJaWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTsKLyoqKioqKi8gCQlpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlOwovKioqKioqLyAJCXZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTsKLyoqKioqKi8gCQlPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpOwovKioqKioqLyAJCXJldHVybiBuczsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlcwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7Ci8qKioqKiovIAkJdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwovKioqKioqLyAJCXJldHVybiBnZXR0ZXI7Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07Ci8qKioqKiovCi8qKioqKiovIAkvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7Ci8qKioqKiovCi8qKioqKiovCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9ICIuL3VpL2luZGV4LnRzIik7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovICh7CgovKioqLyAiLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbi8vIENvcHlyaWdodCAyMDIwIEplYmJzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIE1JVFxuLy8gbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFNNVHlwZTtcbihmdW5jdGlvbiAoU01UeXBlKSB7XG4gICAgU01UeXBlW1widGV4dFwiXSA9IFwidGV4dFwiO1xuICAgIFNNVHlwZVtcInN5bWJvbFwiXSA9IFwic3ltYm9sXCI7XG4gICAgU01UeXBlW1wic2xpY2VcIl0gPSBcInNsaWNlXCI7XG4gICAgU01UeXBlW1wic2hhcGVcIl0gPSBcInNoYXBlXCI7XG4gICAgU01UeXBlW1wiZ3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgU01UeXBlW1wiaG90c3BvdFwiXSA9IFwiaG90c3BvdFwiO1xufSkoU01UeXBlID0gZXhwb3J0cy5TTVR5cGUgfHwgKGV4cG9ydHMuU01UeXBlID0ge30pKTtcbjtcbnZhciBzaGFkb3dUeXBlO1xuKGZ1bmN0aW9uIChzaGFkb3dUeXBlKSB7XG4gICAgc2hhZG93VHlwZVtcIm91dGVyXCJdID0gXCJPdXRlclwiO1xuICAgIHNoYWRvd1R5cGVbXCJpbm5lclwiXSA9IFwiSW5uZXJcIjtcbn0pKHNoYWRvd1R5cGUgPSBleHBvcnRzLnNoYWRvd1R5cGUgfHwgKGV4cG9ydHMuc2hhZG93VHlwZSA9IHt9KSk7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvY29tbW9uLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9jb21tb24udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3RhdGUgPSB7XG4gICAgem9vbTogMSxcbiAgICB1bml0OiAncHgnLFxuICAgIHNjYWxlOiAxLFxuICAgIGFydGJvYXJkSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBjb2xvckZvcm1hdDogJ2NvbG9yLWhleCcsXG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxuICAgIGNvZGVUeXBlOiAnY3NzJyxcbn07XG5leHBvcnRzLkkxOE4gPSB7fTtcbmV4cG9ydHMubGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuZXhwb3J0cy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGxvY2FsaXplKHN0cikge1xuICAgIHJldHVybiAoZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ10gJiYgZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ11bc3RyXSkgPyBleHBvcnRzLkkxOE5bZXhwb3J0cy5sYW5nXVtzdHJdIDogc3RyO1xufVxuZXhwb3J0cy5sb2NhbGl6ZSA9IGxvY2FsaXplO1xuZXhwb3J0cy5wcm9qZWN0ID0ge307XG5mdW5jdGlvbiBpbml0KGRhdGEpIHtcbiAgICBleHBvcnRzLnN0YXRlLnNjYWxlID0gMTtcbiAgICBleHBvcnRzLnN0YXRlLmNvbG9yRm9ybWF0ID0gZGF0YS5jb2xvckZvcm1hdDtcbiAgICBleHBvcnRzLnN0YXRlLnVuaXQgPSBkYXRhLnVuaXQ7XG4gICAgZXhwb3J0cy5JMThOID0gZGF0YS5sYW5ndWFnZXMgfHwge307XG4gICAgZXhwb3J0cy5wcm9qZWN0ID0gZGF0YTtcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvY29tbW9uLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvYWxpZ25FbGVtZW50LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFZGdlO1xuKGZ1bmN0aW9uIChFZGdlKSB7XG4gICAgRWRnZVtFZGdlW1widnRvcFwiXSA9IDMyXSA9IFwidnRvcFwiO1xuICAgIEVkZ2VbRWRnZVtcInZib3R0b21cIl0gPSAxNl0gPSBcInZib3R0b21cIjtcbiAgICBFZGdlW0VkZ2VbXCJ2bWlkZGxlXCJdID0gOF0gPSBcInZtaWRkbGVcIjtcbiAgICBFZGdlW0VkZ2VbXCJobGVmdFwiXSA9IDRdID0gXCJobGVmdFwiO1xuICAgIEVkZ2VbRWRnZVtcImhyaWdodFwiXSA9IDJdID0gXCJocmlnaHRcIjtcbiAgICBFZGdlW0VkZ2VbXCJoY2VudGVyXCJdID0gMV0gPSBcImhjZW50ZXJcIjtcbn0pKEVkZ2UgPSBleHBvcnRzLkVkZ2UgfHwgKGV4cG9ydHMuRWRnZSA9IHt9KSk7XG5mdW5jdGlvbiBhbGlnbkVsZW1lbnQob3B0aW9ucykge1xuICAgIGxldCBmcm9tUmVjdCA9IG9wdGlvbnMuZnJvbVJlY3QgfHwgb3B0aW9ucy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGZyb20gPSBvcHRpb25zLmZyb21FZGdlO1xuICAgIGxldCB0byA9IG9wdGlvbnMudG9FZGdlO1xuICAgIGxldCBmcm9tSGFzViA9ICEhKDBiMTExMDAwICYgZnJvbSk7XG4gICAgbGV0IHRvSGFzViA9ICEhKDBiMTExMDAwICYgdG8pO1xuICAgIGxldCBmcm9tSGFzSCA9ICEhKDBiMDAwMTExICYgZnJvbSk7XG4gICAgbGV0IHRvSGFzSCA9ICEhKDBiMDAwMTExICYgdG8pO1xuICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgaWYgKGZyb21IYXNIICYmIHRvSGFzSCkge1xuICAgICAgICBvZmZzZXRYID0gb3B0aW9ucy50b1JlY3QueCAtIGZyb21SZWN0Lng7IC8vIGxlZnQtdG8tbGVmdCBvZmZzZXRcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLmhjZW50ZXIpXG4gICAgICAgICAgICBvZmZzZXRYIC09IGZyb21SZWN0LndpZHRoIC8gMjtcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLmhyaWdodClcbiAgICAgICAgICAgIG9mZnNldFggLT0gZnJvbVJlY3Qud2lkdGg7XG4gICAgICAgIGlmICh0byAmIEVkZ2UuaGNlbnRlcilcbiAgICAgICAgICAgIG9mZnNldFggKz0gb3B0aW9ucy50b1JlY3Qud2lkdGggLyAyO1xuICAgICAgICBpZiAodG8gJiBFZGdlLmhyaWdodClcbiAgICAgICAgICAgIG9mZnNldFggKz0gb3B0aW9ucy50b1JlY3Qud2lkdGg7XG4gICAgfVxuICAgIGlmIChmcm9tSGFzViAmJiB0b0hhc1YpIHtcbiAgICAgICAgb2Zmc2V0WSA9IG9wdGlvbnMudG9SZWN0LnkgLSBmcm9tUmVjdC55OyAvLyB0b3AtdG8tdG9wIG9mZnNldFxuICAgICAgICBpZiAoZnJvbSAmIEVkZ2Uudm1pZGRsZSlcbiAgICAgICAgICAgIG9mZnNldFkgLT0gZnJvbVJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLnZib3R0b20pXG4gICAgICAgICAgICBvZmZzZXRZIC09IGZyb21SZWN0LmhlaWdodDtcbiAgICAgICAgaWYgKHRvICYgRWRnZS52bWlkZGxlKVxuICAgICAgICAgICAgb2Zmc2V0WSArPSBvcHRpb25zLnRvUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICBpZiAodG8gJiBFZGdlLnZib3R0b20pXG4gICAgICAgICAgICBvZmZzZXRZICs9IG9wdGlvbnMudG9SZWN0LmhlaWdodDtcbiAgICB9XG4gICAgb3B0aW9ucy5zY3JvbGxlci5zY3JvbGxUb3AgLT0gb2Zmc2V0WTtcbiAgICBvcHRpb25zLnNjcm9sbGVyLnNjcm9sbExlZnQgLT0gb2Zmc2V0WDtcbn1cbmV4cG9ydHMuYWxpZ25FbGVtZW50ID0gYWxpZ25FbGVtZW50O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9hbGlnbkVsZW1lbnQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9hcnRib2FyZHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9uYXZpZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzXCIpO1xuZnVuY3Rpb24gYXJ0Ym9hcmRzRXZlbnRzKCkge1xuICAgIGxldCBhcnRib2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkcycpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShhcnRib2FyZHNMaXN0LCAnY2xpY2snLCAnLmFydGJvYXJkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxldCBpbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KHRoaXMpO1xuICAgICAgICBuYXZpZ2F0ZV8xLmdvdG9BcnRib2FyZChpbmRleCk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKGFydGJvYXJkc0xpc3QsICdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1wYWdlXScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgcE9iamVjdElEID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2UtbGlzdCBpbnB1dFtuYW1lPXBhZ2VdOmNoZWNrZWQnKS52YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2VzLXNlbGVjdCBoMycpXG4gICAgICAgICAgICAuaW5uZXJIVE1MID0gdGhpcy5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5pbm5lckhUTUw7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hcnRib2FyZC1saXN0IGxpJykuZm9yRWFjaCgobGkpID0+IHtcbiAgICAgICAgICAgIGlmIChwT2JqZWN0SUQgPT0gJ2FsbCcgfHwgbGkuZ2V0QXR0cmlidXRlKCdkYXRhLXBhZ2UtaWQnKSA9PSBwT2JqZWN0SUQpIHtcbiAgICAgICAgICAgICAgICBsaS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBhZ2VzLXNlbGVjdCcpLmJsdXIoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmFydGJvYXJkc0V2ZW50cyA9IGFydGJvYXJkc0V2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvZGVsZWdhdGUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gZXZlbnREZWxlZ2F0ZShwYXJlbnQsIHR5cGUsIHRhcmdldCwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAodHlwZW9mIHBhcmVudCA9PSAnc3RyaW5nJykge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHBhcmVudCkuZm9yRWFjaChlbCA9PiBlbC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHdyYXBwZWRMaXN0ZW5lcikpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHBhcmVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHdyYXBwZWRMaXN0ZW5lcik7XG4gICAgZnVuY3Rpb24gd3JhcHBlZExpc3RlbmVyKGV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXRFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBsZXQgcGFyZW50RWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIHdoaWxlICh0YXJnZXRFbGVtZW50ICE9PSBwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5tYXRjaGVzKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRhcmdldEVsZW1lbnQsIC4uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFyZ2V0RWxlbWVudCA9IHRhcmdldEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuZXZlbnREZWxlZ2F0ZSA9IGV2ZW50RGVsZWdhdGU7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvZGlzdGFuY2UudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9kaXN0YW5jZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5mdW5jdGlvbiBkaXN0YW5jZSgpIHtcbiAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT0gY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXggJiYgIWNvbW1vbl8xLnN0YXRlLnRlbXBUYXJnZXRSZWN0KVxuICAgICAgICByZXR1cm47XG4gICAgdmFyIHNlbGVjdGVkUmVjdCA9IGdldFJlY3QoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCksIHRhcmdldFJlY3QgPSBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCB8fCBnZXRSZWN0KGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4KSwgdG9wRGF0YSwgcmlnaHREYXRhLCBib3R0b21EYXRhLCBsZWZ0RGF0YSwgeCA9IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC54ICsgc2VsZWN0ZWRSZWN0LndpZHRoIC8gMiksIHkgPSBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueSArIHNlbGVjdGVkUmVjdC5oZWlnaHQgLyAyKTtcbiAgICBsZXQgc2VsZWN0ZWRYMiA9IHNlbGVjdGVkUmVjdC54ICsgc2VsZWN0ZWRSZWN0LndpZHRoO1xuICAgIGxldCBzZWxlY3RlZFkyID0gc2VsZWN0ZWRSZWN0LnkgKyBzZWxlY3RlZFJlY3QuaGVpZ2h0O1xuICAgIGxldCB0YXJnZXRYMiA9IHRhcmdldFJlY3QueCArIHRhcmdldFJlY3Qud2lkdGg7XG4gICAgbGV0IHRhcmdldFkyID0gdGFyZ2V0UmVjdC55ICsgdGFyZ2V0UmVjdC5oZWlnaHQ7XG4gICAgaWYgKCFoZWxwZXJfMi5nZXRJbnRlcnNlY3Rpb24oc2VsZWN0ZWRSZWN0LCB0YXJnZXRSZWN0KSkge1xuICAgICAgICBpZiAoc2VsZWN0ZWRSZWN0LnkgPiB0YXJnZXRZMikgeyAvL3RvcFxuICAgICAgICAgICAgdG9wRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFkyKSxcbiAgICAgICAgICAgICAgICBoOiBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueSAtIHRhcmdldFkyKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoc2VsZWN0ZWRSZWN0LnkgLSB0YXJnZXRZMiksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZSgoc2VsZWN0ZWRSZWN0LnkgLSB0YXJnZXRZMiksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRYMiA8IHRhcmdldFJlY3QueCkgeyAvL3JpZ2h0XG4gICAgICAgICAgICByaWdodERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRYMiksXG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB3OiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRSZWN0LnggLSBzZWxlY3RlZFgyKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUodGFyZ2V0UmVjdC54IC0gc2VsZWN0ZWRYMiksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZSgodGFyZ2V0UmVjdC54IC0gc2VsZWN0ZWRYMiksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZFkyIDwgdGFyZ2V0UmVjdC55KSB7IC8vYm90dG9tXG4gICAgICAgICAgICBib3R0b21EYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRZMiksXG4gICAgICAgICAgICAgICAgaDogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0UmVjdC55IC0gc2VsZWN0ZWRZMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHRhcmdldFJlY3QueSAtIHNlbGVjdGVkWTIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHRhcmdldFJlY3QueSAtIHNlbGVjdGVkWTIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkUmVjdC54ID4gdGFyZ2V0WDIpIHsgLy9sZWZ0XG4gICAgICAgICAgICBsZWZ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRYMiksXG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB3OiBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueCAtIHRhcmdldFgyKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoc2VsZWN0ZWRSZWN0LnggLSB0YXJnZXRYMiksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZSgoc2VsZWN0ZWRSZWN0LnggLSB0YXJnZXRYMiksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgZGlzdGFuY2UgPSBnZXREaXN0YW5jZShzZWxlY3RlZFJlY3QsIHRhcmdldFJlY3QpO1xuICAgICAgICBpZiAoZGlzdGFuY2UudG9wICE9IDApIHsgLy90b3BcbiAgICAgICAgICAgIHRvcERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiAoZGlzdGFuY2UudG9wID4gMCkgPyBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRSZWN0LnkpIDogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnkpLFxuICAgICAgICAgICAgICAgIGg6IGhlbHBlcl8xLnpvb21TaXplKE1hdGguYWJzKGRpc3RhbmNlLnRvcCkpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShNYXRoLmFicyhkaXN0YW5jZS50b3ApKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKE1hdGguYWJzKGRpc3RhbmNlLnRvcCksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdGFuY2UucmlnaHQgIT0gMCkgeyAvL3JpZ2h0XG4gICAgICAgICAgICByaWdodERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogKGRpc3RhbmNlLnJpZ2h0ID4gMCkgPyBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFgyKSA6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFgyKSxcbiAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgIHc6IGhlbHBlcl8xLnpvb21TaXplKE1hdGguYWJzKGRpc3RhbmNlLnJpZ2h0KSksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKE1hdGguYWJzKGRpc3RhbmNlLnJpZ2h0KSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5yaWdodCksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0YW5jZS5ib3R0b20gIT0gMCkgeyAvL2JvdHRvbVxuICAgICAgICAgICAgYm90dG9tRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IChkaXN0YW5jZS5ib3R0b20gPiAwKSA/IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkWTIpIDogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0WTIpLFxuICAgICAgICAgICAgICAgIGg6IGhlbHBlcl8xLnpvb21TaXplKE1hdGguYWJzKGRpc3RhbmNlLmJvdHRvbSkpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShNYXRoLmFicyhkaXN0YW5jZS5ib3R0b20pKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKE1hdGguYWJzKGRpc3RhbmNlLmJvdHRvbSksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdGFuY2UubGVmdCAhPSAwKSB7IC8vbGVmdFxuICAgICAgICAgICAgbGVmdERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogKGRpc3RhbmNlLmxlZnQgPiAwKSA/IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFJlY3QueCkgOiBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueCksXG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB3OiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5sZWZ0KSksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKE1hdGguYWJzKGRpc3RhbmNlLmxlZnQpKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKE1hdGguYWJzKGRpc3RhbmNlLmxlZnQpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodG9wRGF0YSkge1xuICAgICAgICBsZXQgdGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGQnKTtcbiAgICAgICAgdGQuc3R5bGUubGVmdCA9IHRvcERhdGEueCArICdweCc7XG4gICAgICAgIHRkLnN0eWxlLnRvcCA9IHRvcERhdGEueSArICdweCc7XG4gICAgICAgIHRkLnN0eWxlLmhlaWdodCA9IHRvcERhdGEuaCArICdweCc7XG4gICAgICAgIHRkLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgbGV0IHRkRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RkIGRpdicpO1xuICAgICAgICB0ZERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGVpZ2h0JywgdG9wRGF0YS5kaXN0YW5jZSk7XG4gICAgICAgIHRkRGl2LnNldEF0dHJpYnV0ZSgncGVyY2VudGFnZS1oZWlnaHQnLCB0b3BEYXRhLnBlcmNlbnRhZ2VEaXN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChyaWdodERhdGEpIHtcbiAgICAgICAgbGV0IHJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JkJyk7XG4gICAgICAgIHJkLnN0eWxlLmxlZnQgPSByaWdodERhdGEueCArICdweCc7XG4gICAgICAgIHJkLnN0eWxlLnRvcCA9IHJpZ2h0RGF0YS55ICsgJ3B4JztcbiAgICAgICAgcmQuc3R5bGUud2lkdGggPSByaWdodERhdGEudyArICdweCc7XG4gICAgICAgIHJkLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgbGV0IHJkRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JkIGRpdicpO1xuICAgICAgICByZERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkdGgnLCByaWdodERhdGEuZGlzdGFuY2UpO1xuICAgICAgICByZERpdi5zZXRBdHRyaWJ1dGUoJ3BlcmNlbnRhZ2Utd2lkdGgnLCByaWdodERhdGEucGVyY2VudGFnZURpc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGJvdHRvbURhdGEpIHtcbiAgICAgICAgbGV0IGJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JkJyk7XG4gICAgICAgIGJkLnN0eWxlLmxlZnQgPSBib3R0b21EYXRhLnggKyAncHgnO1xuICAgICAgICBiZC5zdHlsZS50b3AgPSBib3R0b21EYXRhLnkgKyAncHgnO1xuICAgICAgICBiZC5zdHlsZS5oZWlnaHQgPSBib3R0b21EYXRhLmggKyAncHgnO1xuICAgICAgICBiZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCBiZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiZCBkaXYnKTtcbiAgICAgICAgYmREaXYuc2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcsIGJvdHRvbURhdGEuZGlzdGFuY2UpO1xuICAgICAgICBiZERpdi5zZXRBdHRyaWJ1dGUoJ3BlcmNlbnRhZ2UtaGVpZ2h0JywgYm90dG9tRGF0YS5wZXJjZW50YWdlRGlzdGFuY2UpO1xuICAgIH1cbiAgICBpZiAobGVmdERhdGEpIHtcbiAgICAgICAgbGV0IGxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xkJyk7XG4gICAgICAgIGxkLnN0eWxlLmxlZnQgPSBsZWZ0RGF0YS54ICsgJ3B4JztcbiAgICAgICAgbGQuc3R5bGUudG9wID0gbGVmdERhdGEueSArICdweCc7XG4gICAgICAgIGxkLnN0eWxlLndpZHRoID0gbGVmdERhdGEudyArICdweCc7XG4gICAgICAgIGxkLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgbGV0IGxkRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xkIGRpdicpO1xuICAgICAgICBsZERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkdGgnLCBsZWZ0RGF0YS5kaXN0YW5jZSk7XG4gICAgICAgIGxkRGl2LnNldEF0dHJpYnV0ZSgncGVyY2VudGFnZS13aWR0aCcsIGxlZnREYXRhLnBlcmNlbnRhZ2VEaXN0YW5jZSk7XG4gICAgfVxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpXG4gICAgICAgIC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbn1cbmV4cG9ydHMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbmZ1bmN0aW9uIGhpZGVEaXN0YW5jZSgpIHtcbiAgICB2YXIgX2E7XG4gICAgWycjdGQnLCAnI3JkJywgJyNiZCcsICcjbGQnXS5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHMpO1xuICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH0pO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG59XG5leHBvcnRzLmhpZGVEaXN0YW5jZSA9IGhpZGVEaXN0YW5jZTtcbmZ1bmN0aW9uIGdldFJlY3QoaW5kZXgpIHtcbiAgICB2YXIgbGF5ZXIgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVyc1tpbmRleF07XG4gICAgcmV0dXJuIGxheWVyLnJlY3Q7XG59XG5mdW5jdGlvbiBnZXREaXN0YW5jZShzZWxlY3RlZCwgdGFyZ2V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiAoc2VsZWN0ZWQueSAtIHRhcmdldC55KSxcbiAgICAgICAgcmlnaHQ6ICh0YXJnZXQueCArIHRhcmdldC53aWR0aCAtIHNlbGVjdGVkLnggLSBzZWxlY3RlZC53aWR0aCksXG4gICAgICAgIGJvdHRvbTogKHRhcmdldC55ICsgdGFyZ2V0LmhlaWdodCAtIHNlbGVjdGVkLnkgLSBzZWxlY3RlZC5oZWlnaHQpLFxuICAgICAgICBsZWZ0OiAoc2VsZWN0ZWQueCAtIHRhcmdldC54KVxuICAgIH07XG59XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvZHJhZ0V4cG9ydGFibGUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIGRyYWdFeHBvcnRhYmxlRXZlbnRzKCkge1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCAnZHJhZ3N0YXJ0JywgJy5leHBvcnRhYmxlIGltZycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgbGVmdCA9IGV2ZW50LnBhZ2VYIC0gcmVjdC5sZWZ0IC0gdGhpcy5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgIGxldCB0b3AgPSBldmVudC5wYWdlWSAtIHJlY3QudG9wIC0gdGhpcy5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCAnZHJhZ2VuZCcsICcuZXhwb3J0YWJsZSBpbWcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICB0aGlzLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgfSk7XG59XG5leHBvcnRzLmRyYWdFeHBvcnRhYmxlRXZlbnRzID0gZHJhZ0V4cG9ydGFibGVFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2RyYWdFeHBvcnRhYmxlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvZmxvdy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZmxvdy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBuYXZpZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9uYXZpZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IHNjcmVlbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL3NjcmVlbiAqLyBcIi4vdWkvcmVuZGVyL3NjcmVlbi50c1wiKTtcbmNvbnN0IHRhYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90YWIgKi8gXCIuL3VpL2V2ZW50cy90YWIudHNcIik7XG5jb25zdCBhbGlnbkVsZW1lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYWxpZ25FbGVtZW50ICovIFwiLi91aS9ldmVudHMvYWxpZ25FbGVtZW50LnRzXCIpO1xuZXhwb3J0cy5mbG93TW9kZSA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGZsb3dFdmVudHMoKSB7XG4gICAgZmxvd01vZGVTd2l0Y2hFdmVudHMoKTtcbiAgICBmbG93Q2xpY2tFdmVudHMoKTtcbn1cbmV4cG9ydHMuZmxvd0V2ZW50cyA9IGZsb3dFdmVudHM7XG5mdW5jdGlvbiBmbG93Q2xpY2tFdmVudHMoKSB7XG4gICAgbGV0IGZsb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3dzJyk7XG4gICAgZmxvd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaGVscGVyXzEucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICAgICAgdGFiXzEuaGlkZU5hdkJhcigpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gaGVscGVyXzEuZ2V0RXZlbnRUYXJnZXQoZmxvd3MsIGV2ZW50LCAnLmZsb3cnKTtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIGZsb3dzLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctZmxvd3MnKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZsb3dzLmNsYXNzTGlzdC5hZGQoJ3Nob3ctZmxvd3MnKTtcbiAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlkID0gdGFyZ2V0LmRhdGFzZXQuZmxvd1RhcmdldDtcbiAgICAgICAgaWYgKGlkID09ICdiYWNrJykge1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5oaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZV8xLmdvdG9BcnRib2FyZChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmbG93TW9kZVN3aXRjaEV2ZW50cygpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvdy1tb2RlJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRGbG93TW9kZSh0aGlzLmNoZWNrZWQpO1xuICAgICAgICBuYXZpZ2F0ZV8xLnVwZGF0ZVVSTEhhc2goKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldEZsb3dNb2RlKGVuYWJsZWQpIHtcbiAgICBleHBvcnRzLmZsb3dNb2RlID0gZW5hYmxlZDtcbiAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICBsZXQgc2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NjcmVlbicpO1xuICAgIGxldCBjdXJyZW50UmVjdCA9IHNjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgaW5wdXRGbG93TW9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93LW1vZGUnKTtcbiAgICAvLyBzZXQgY2hlY2tlZCB3b24ndCB0cmlnZ2UgY2hhbmdlIGV2ZW50XG4gICAgaW5wdXRGbG93TW9kZS5jaGVja2VkID0gZW5hYmxlZDtcbiAgICBsZXQgaGlkZU9uRkxvdyA9IFtcbiAgICAgICAgJyNsYXllcnMnLFxuICAgICAgICAnI3VuaXQnLFxuICAgICAgICAnLmhlYWRlci1sZWZ0IFtkYXRhLWlkPVwic2xpY2VzXCJdJyxcbiAgICAgICAgJy5oZWFkZXItbGVmdCBbZGF0YS1pZD1cImNvbG9yc1wiXScsXG4gICAgICAgICcuaGVhZGVyLXJpZ2h0JyxcbiAgICAgICAgJyNhcnRib2FyZHMgLmZsb3ctc3RhcnRzJyxcbiAgICBdO1xuICAgIGxldCBzaG93T25GbG93ID0gW1xuICAgICAgICAnI2Zsb3dzJyxcbiAgICAgICAgJyNhcnRib2FyZHMgLmZsb3ctc3RhcnRzJyxcbiAgICBdO1xuICAgIGNvbnN0IGhpZGVPbkZMb3dEaXNwbGF5ID0gZXhwb3J0cy5mbG93TW9kZSA/ICdub25lJyA6ICcnO1xuICAgIGNvbnN0IHNob3dPbkZMb3dEaXNwbGF5ID0gZXhwb3J0cy5mbG93TW9kZSA/ICcnIDogJ25vbmUnO1xuICAgIGhpZGVPbkZMb3cuZm9yRWFjaChzID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgaWYgKGVsKVxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGhpZGVPbkZMb3dEaXNwbGF5O1xuICAgIH0pO1xuICAgIHNob3dPbkZsb3cuZm9yRWFjaChzID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgaWYgKGVsKVxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHNob3dPbkZMb3dEaXNwbGF5O1xuICAgIH0pO1xuICAgIGlmIChleHBvcnRzLmZsb3dNb2RlKSB7XG4gICAgICAgIHNjcmVlbi5jbGFzc0xpc3QuYWRkKCdmbG93Jyk7XG4gICAgICAgIGhlbHBlcl8xLnJlbW92ZVNlbGVjdGVkKCk7XG4gICAgICAgIHRhYl8xLmhpZGVOYXZCYXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdmbG93Jyk7XG4gICAgICAgIHRhYl8xLnNob3dOYXZCYXIoKTtcbiAgICB9XG4gICAgc2NyZWVuXzEudXBkYXRlU2NyZWVuKCk7XG4gICAgYWxpZ25FbGVtZW50XzEuYWxpZ25FbGVtZW50KHtcbiAgICAgICAgc2Nyb2xsZXI6IHZpZXdlcixcbiAgICAgICAgdGFyZ2V0OiBzY3JlZW4sXG4gICAgICAgIHRvUmVjdDogY3VycmVudFJlY3QsXG4gICAgICAgIGZyb21FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhjZW50ZXIgfCBhbGlnbkVsZW1lbnRfMS5FZGdlLnZ0b3AsXG4gICAgICAgIHRvRWRnZTogYWxpZ25FbGVtZW50XzEuRWRnZS5oY2VudGVyIHwgYWxpZ25FbGVtZW50XzEuRWRnZS52dG9wXG4gICAgfSk7XG59XG5leHBvcnRzLnNldEZsb3dNb2RlID0gc2V0Rmxvd01vZGU7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2Zsb3cudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IG5hdmlnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25hdmlnYXRlICovIFwiLi91aS9ldmVudHMvbmF2aWdhdGUudHNcIik7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xubGV0IHNob3VsZEJhY2tUb0Fub3RoZXIgPSBmYWxzZTtcbmZ1bmN0aW9uIGhhc2hDaGFuZ2VFdmVudHMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgaWYgKHNob3VsZEJhY2tUb0Fub3RoZXIpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SW5kZXggPSBuYXZpZ2F0ZV8xLnBhcnNlVVJMSGFzaCgpLmFydGJvYXJkSW5kZXg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID09IGNvbW1vbl8xLnN0YXRlLmFydGJvYXJkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG91bGRCYWNrVG9Bbm90aGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmF2aWdhdGVfMS5uYXZpZ2F0ZUJ5VVJMSGFzaCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5oYXNoQ2hhbmdlRXZlbnRzID0gaGFzaENoYW5nZUV2ZW50cztcbmZ1bmN0aW9uIHNldFNob3VsZEJhY2tUb0Fub3RoZXIodmFsdWUpIHtcbiAgICBzaG91bGRCYWNrVG9Bbm90aGVyID0gdmFsdWU7XG59XG5leHBvcnRzLnNldFNob3VsZEJhY2tUb0Fub3RoZXIgPSBzZXRTaG91bGRCYWNrVG9Bbm90aGVyO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvaGVscGVyLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2hlbHBlci50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQoZXZlbnROb2RlLCBldmVudCwgc2VsZWN0b3IpIHtcbiAgICBsZXQgY3VycmVudCA9IGV2ZW50LnRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBldmVudE5vZGUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQubWF0Y2hlcyhzZWxlY3RvcikpXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuZ2V0RXZlbnRUYXJnZXQgPSBnZXRFdmVudFRhcmdldDtcbmZ1bmN0aW9uIGdldEluZGV4KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmluZGV4KTtcbn1cbmV4cG9ydHMuZ2V0SW5kZXggPSBnZXRJbmRleDtcbmZ1bmN0aW9uIG1vdXNlb3V0TGF5ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3ZlcicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcnVsZXJzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cbmV4cG9ydHMubW91c2VvdXRMYXllciA9IG1vdXNlb3V0TGF5ZXI7XG5mdW5jdGlvbiBzZWxlY3RlZExheWVyKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVyLScgKyBjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4KS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuZXhwb3J0cy5zZWxlY3RlZExheWVyID0gc2VsZWN0ZWRMYXllcjtcbmZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKCkge1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGF5ZXItJyArIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXgpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3BlY3RvcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSB1bmRlZmluZWQ7XG4gICAgZGlzdGFuY2VfMS5oaWRlRGlzdGFuY2UoKTtcbn1cbmV4cG9ydHMucmVtb3ZlU2VsZWN0ZWQgPSByZW1vdmVTZWxlY3RlZDtcbmZ1bmN0aW9uIHNjYWxlU2l6ZShsZW5ndGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChsZW5ndGggLyBjb21tb25fMS5zdGF0ZS5zY2FsZSAqIDEwKSAvIDEwO1xufVxuZXhwb3J0cy5zY2FsZVNpemUgPSBzY2FsZVNpemU7XG5mdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oYSwgYikge1xuICAgIGxldCB4MSA9IE1hdGgubWF4KGEueCwgYi54KTtcbiAgICBsZXQgeTEgPSBNYXRoLm1heChhLnksIGIueSk7XG4gICAgbGV0IHgyID0gTWF0aC5taW4oYS54ICsgYS53aWR0aCwgYi54ICsgYi53aWR0aCk7XG4gICAgbGV0IHkyID0gTWF0aC5taW4oYS55ICsgYS5oZWlnaHQsIGIueSArIGIuaGVpZ2h0KTtcbiAgICBsZXQgd2lkdGggPSB4MiAtIHgxO1xuICAgIGxldCBoZWlnaHQgPSB5MiAtIHkxO1xuICAgIGlmICh3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSB7XG4gICAgICAgIC8vIG5vIGludGVyc2VjdGlvblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4MSxcbiAgICAgICAgeTogeTEsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2V0SW50ZXJzZWN0aW9uID0gZ2V0SW50ZXJzZWN0aW9uO1xuZnVuY3Rpb24gY2xpY2tFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBsZXQgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XG4gICAgZS5pbml0RXZlbnQoXCJjbGlja1wiLCB0cnVlLCB0cnVlKTtcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZSk7XG59XG5leHBvcnRzLmNsaWNrRWxlbWVudCA9IGNsaWNrRWxlbWVudDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvaGVscGVyLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvaW5kZXgudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYXJ0Ym9hcmRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FydGJvYXJkcyAqLyBcIi4vdWkvZXZlbnRzL2FydGJvYXJkcy50c1wiKTtcbmNvbnN0IGRyYWdFeHBvcnRhYmxlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RyYWdFeHBvcnRhYmxlICovIFwiLi91aS9ldmVudHMvZHJhZ0V4cG9ydGFibGUudHNcIik7XG5jb25zdCBsYXllckV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sYXllckV2ZW50cyAqLyBcIi4vdWkvZXZlbnRzL2xheWVyRXZlbnRzLnRzXCIpO1xuY29uc3Qgem9vbV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi96b29tICovIFwiLi91aS9ldmVudHMvem9vbS50c1wiKTtcbmNvbnN0IHVuaXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdW5pdCAqLyBcIi4vdWkvZXZlbnRzL3VuaXQudHNcIik7XG5jb25zdCBub3Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ub3RlcyAqLyBcIi4vdWkvZXZlbnRzL25vdGVzLnRzXCIpO1xuY29uc3QgaW5zcGVjdG9yXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2luc3BlY3RvciAqLyBcIi4vdWkvZXZlbnRzL2luc3BlY3Rvci50c1wiKTtcbmNvbnN0IHRhYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi90YWIgKi8gXCIuL3VpL2V2ZW50cy90YWIudHNcIik7XG5jb25zdCBzbGljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2xpY2VzICovIFwiLi91aS9ldmVudHMvc2xpY2VzLnRzXCIpO1xuY29uc3QgcGFuTW9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wYW5Nb2RlICovIFwiLi91aS9ldmVudHMvcGFuTW9kZS50c1wiKTtcbmNvbnN0IHBlcmNlbnRhZ2VNb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3BlcmNlbnRhZ2VNb2RlICovIFwiLi91aS9ldmVudHMvcGVyY2VudGFnZU1vZGUudHNcIik7XG5jb25zdCB6b29tXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2tleWJvYXJkL3pvb20gKi8gXCIuL3VpL2V2ZW50cy9rZXlib2FyZC96b29tLnRzXCIpO1xuY29uc3QgZmxvd18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93ICovIFwiLi91aS9ldmVudHMvZmxvdy50c1wiKTtcbmNvbnN0IGhhc2hDaGFuZ2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGFzaENoYW5nZSAqLyBcIi4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHNcIik7XG5jb25zdCBzd2l0Y2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4va2V5Ym9hcmQvc3dpdGNoICovIFwiLi91aS9ldmVudHMva2V5Ym9hcmQvc3dpdGNoLnRzXCIpO1xuZnVuY3Rpb24gZXZlbnRzKCkge1xuICAgIGxheWVyRXZlbnRzXzEubGF5ZXJFdmVudHMoKTtcbiAgICBhcnRib2FyZHNfMS5hcnRib2FyZHNFdmVudHMoKTtcbiAgICB6b29tXzEuem9vbUV2ZW50cygpO1xuICAgIHVuaXRfMS51bml0RXZlbnRzKCk7XG4gICAgbm90ZXNfMS5ub3RlRXZlbnRzKCk7XG4gICAgaW5zcGVjdG9yXzEuaW5zcGVjdG9yRXZlbnRzKCk7XG4gICAgdGFiXzEudGFiRXZlbnRzKCk7XG4gICAgc2xpY2VzXzEuc2xpY2VFdmVudHMoKTtcbiAgICBwYW5Nb2RlXzEucGFuTW9kZUV2ZW50cygpO1xuICAgIHBlcmNlbnRhZ2VNb2RlXzEucGVyY2VudGFnZU1vZGVFdmVudHMoKTtcbiAgICB6b29tXzIua2V5Ym9hcmRab29tRXZlbnRzKCk7XG4gICAgZHJhZ0V4cG9ydGFibGVfMS5kcmFnRXhwb3J0YWJsZUV2ZW50cygpO1xuICAgIGZsb3dfMS5mbG93RXZlbnRzKCk7XG4gICAgc3dpdGNoXzEua2V5Ym9hcmRTd2l0Y2hFdmVudHMoKTtcbiAgICBoYXNoQ2hhbmdlXzEuaGFzaENoYW5nZUV2ZW50cygpO1xufVxuZXhwb3J0cy5ldmVudHMgPSBldmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2luZGV4LnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2luc3BlY3Rvci50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb2xvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9jb2xvcnMgKi8gXCIuL3VpL3JlbmRlci9jb2xvcnMudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gaW5zcGVjdG9yRXZlbnRzKCkge1xuICAgIGxldCBmb3JtYXRzID0gWydjb2xvci1oZXgnLCAnYXJnYi1oZXgnLCAnY3NzLXJnYmEnLCAnY3NzLWhzbGEnLCAndWktY29sb3InXTtcbiAgICBsZXQgaW5zcGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3BlY3RvcicpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShpbnNwZWN0b3IsICdjbGljaycsICcuY29sb3IgbGFiZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSBmb3JtYXRzLmluZGV4T2YoY29tbW9uXzEuc3RhdGUuY29sb3JGb3JtYXQpO1xuICAgICAgICBsZXQgbmV4dCA9IChjdXJyZW50ICsgMSkgJSBmb3JtYXRzLmxlbmd0aDtcbiAgICAgICAgY29tbW9uXzEuc3RhdGUuY29sb3JGb3JtYXQgPSBmb3JtYXRzW25leHRdO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY29sb3IgaW5wdXQnKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29sb3JzID0gSlNPTi5wYXJzZShkZWNvZGVVUkkoaS5kYXRhc2V0LmNvbG9yKSk7XG4gICAgICAgICAgICBpLnZhbHVlID0gY29sb3JzW2NvbW1vbl8xLnN0YXRlLmNvbG9yRm9ybWF0XTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbG9yc18xLmNvbG9ycygpO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShpbnNwZWN0b3IsICdkYmxjbGljaycsICdpbnB1dCwgdGV4dGFyZWEnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3QoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuaW5zcGVjdG9yRXZlbnRzID0gaW5zcGVjdG9yRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9pbnNwZWN0b3IudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9rZXlib2FyZC9zd2l0Y2gudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMva2V5Ym9hcmQvc3dpdGNoLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5mdW5jdGlvbiBrZXlib2FyZFN3aXRjaEV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgc3dpdGNoIChTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LndoaWNoKSkge1xuICAgICAgICAgICAgY2FzZSAnTSc6XG4gICAgICAgICAgICAgICAgaGVscGVyXzEuY2xpY2tFbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93LW1vZGUnKSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICBoZWxwZXJfMS5jbGlja0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctbm90ZXMnKSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmtleWJvYXJkU3dpdGNoRXZlbnRzID0ga2V5Ym9hcmRTd2l0Y2hFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2tleWJvYXJkL3N3aXRjaC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3Qgem9vbV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vem9vbSAqLyBcIi4vdWkvZXZlbnRzL3pvb20udHNcIik7XG5mdW5jdGlvbiBrZXlib2FyZFpvb21FdmVudHMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgIC8vIGNvbnRyb2wgb3IgY29tbWFuZCBrZXlcbiAgICAgICAgaWYgKCFldmVudC5jdHJsS2V5ICYmICFldmVudC5tZXRhS2V5KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgICAgICBjYXNlIDE4NzpcbiAgICAgICAgICAgICAgICBpZiAoY29tbW9uXzEuc3RhdGUuem9vbSA8IDQpXG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcl8xLmNsaWNrRWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuem9vbS1vdXQnKSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDE4OTpcbiAgICAgICAgICAgICAgICBpZiAoY29tbW9uXzEuc3RhdGUuem9vbSA+IC4yNSlcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyXzEuY2xpY2tFbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy56b29tLWluJykpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgICAgICAgICB6b29tXzEuem9vbVJlbmRlcigxKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMua2V5Ym9hcmRab29tRXZlbnRzID0ga2V5Ym9hcmRab29tRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9rZXlib2FyZC96b29tLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvbGF5ZXJFdmVudHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9sYXllckV2ZW50cy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9pbnNwZWN0b3IgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuY29uc3QgcGFuTW9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9wYW5Nb2RlICovIFwiLi91aS9ldmVudHMvcGFuTW9kZS50c1wiKTtcbmZ1bmN0aW9uIGxheWVyRXZlbnRzKCkge1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKHBhbk1vZGVfMS5wYW5Nb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaGVscGVyXzEuZ2V0RXZlbnRUYXJnZXQoZG9jdW1lbnQuYm9keSwgZXZlbnQsICdoZWFkZXIsICNpbnNwZWN0b3IsIC5uYXZiYXInKSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykgfHwgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2xpY2UtbGF5ZXInKSkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGljZS1sYXllcicpKSA/XG4gICAgICAgICAgICAgICAgdGFyZ2V0IDpcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGF5ZXItJyArIHRhcmdldC5kYXRhc2V0Lm9iamVjdGlkKTtcbiAgICAgICAgICAgIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPSBoZWxwZXJfMS5nZXRJbmRleChzZWxlY3RlZCk7XG4gICAgICAgICAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgICAgICAgICAgaGVscGVyXzEubW91c2VvdXRMYXllcigpO1xuICAgICAgICAgICAgaGVscGVyXzEuc2VsZWN0ZWRMYXllcigpO1xuICAgICAgICAgICAgaW5zcGVjdG9yXzEuaW5zcGVjdG9yKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaGVscGVyXzEucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAocGFuTW9kZV8xLnBhbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGhlbHBlcl8xLm1vdXNlb3V0TGF5ZXIoKTtcbiAgICAgICAgZGlzdGFuY2VfMS5oaWRlRGlzdGFuY2UoKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NjcmVlbi12aWV3ZXInKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzY3JlZW4tdmlld2VyLWlubmVyJykpIHtcbiAgICAgICAgICAgIGNvbW1vbl8xLnN0YXRlLnRlbXBUYXJnZXRSZWN0ID0gZ2V0RWRnZVJlY3QoZXZlbnQpO1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkaXN0YW5jZV8xLmRpc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXggPSBoZWxwZXJfMS5nZXRJbmRleChldmVudC50YXJnZXQpO1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBtb3VzZW92ZXJMYXllcigpO1xuICAgICAgICAgICAgZGlzdGFuY2VfMS5kaXN0YW5jZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydHMubGF5ZXJFdmVudHMgPSBsYXllckV2ZW50cztcbmZ1bmN0aW9uIG1vdXNlb3ZlckxheWVyKCkge1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCAmJiBjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09IGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYXllci0nICsgY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXgpO1xuICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdob3ZlcicpO1xuICAgIGxldCBydiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydicpO1xuICAgIHJ2LnN0eWxlLmxlZnQgPSB0YXJnZXQub2Zmc2V0TGVmdCArICdweCc7XG4gICAgcnYuc3R5bGUud2lkdGggPSB0YXJnZXQub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgIGxldCByaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyaCcpO1xuICAgIHJoLnN0eWxlLnRvcCA9IHRhcmdldC5vZmZzZXRUb3AgKyAncHgnO1xuICAgIHJoLnN0eWxlLmhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG59XG5mdW5jdGlvbiBnZXRFZGdlUmVjdChldmVudCkge1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NyZWVuJyk7XG4gICAgbGV0IHJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHggPSAoZXZlbnQucGFnZVggLSByZWN0LmxlZnQpIC8gY29tbW9uXzEuc3RhdGUuem9vbTtcbiAgICBsZXQgeSA9IChldmVudC5wYWdlWSAtIHJlY3QudG9wKSAvIGNvbW1vbl8xLnN0YXRlLnpvb207XG4gICAgbGV0IHdpZHRoID0gMTA7XG4gICAgbGV0IGhlaWdodCA9IDEwO1xuICAgIGxldCB4U2NvcGUgPSAoeCA+PSAwICYmIHggPD0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCk7XG4gICAgbGV0IHlTY29wZSA9ICh5ID49IDAgJiYgeSA8PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCk7XG4gICAgLy8gbGVmdCBhbmQgdG9wXG4gICAgaWYgKHggPD0gMCAmJiB5IDw9IDApIHtcbiAgICAgICAgeCA9IC0xMDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICB9XG4gICAgLy8gcmlnaHQgYW5kIHRvcFxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5IDw9IDApIHtcbiAgICAgICAgeCA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGg7XG4gICAgICAgIHkgPSAtMTA7XG4gICAgfVxuICAgIC8vIHJpZ2h0IGFuZCBib3R0b21cbiAgICBlbHNlIGlmICh4ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGggJiYgeSA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkge1xuICAgICAgICB4ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICAgICAgeSA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0O1xuICAgIH1cbiAgICAvLyBsZWZ0IGFuZCBib3R0b21cbiAgICBlbHNlIGlmICh4IDw9IDAgJiYgeSA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8vIHRvcFxuICAgIGVsc2UgaWYgKHkgPD0gMCAmJiB4U2NvcGUpIHtcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIHkgPSAtMTA7XG4gICAgICAgIHdpZHRoID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICB9XG4gICAgLy8gcmlnaHRcbiAgICBlbHNlIGlmICh4ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGggJiYgeVNjb3BlKSB7XG4gICAgICAgIHggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgaGVpZ2h0ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8vIGJvdHRvbVxuICAgIGVsc2UgaWYgKHkgPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQgJiYgeFNjb3BlKSB7XG4gICAgICAgIHggPSAwO1xuICAgICAgICB5ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgICAgIHdpZHRoID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICB9XG4gICAgLy8gbGVmdFxuICAgIGVsc2UgaWYgKHggPD0gMCAmJiB5U2NvcGUpIHtcbiAgICAgICAgeCA9IC0xMDtcbiAgICAgICAgeSA9IDA7XG4gICAgICAgIGhlaWdodCA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoeFNjb3BlICYmIHlTY29wZSkge1xuICAgICAgICB4ID0gMDtcbiAgICAgICAgeSA9IDA7XG4gICAgICAgIHdpZHRoID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICAgICAgaGVpZ2h0ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgsXG4gICAgICAgIHk6IHksXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgfTtcbn1cblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvbGF5ZXJFdmVudHMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL25hdmlnYXRlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgbGF5ZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvbGF5ZXJzICovIFwiLi91aS9yZW5kZXIvbGF5ZXJzLnRzXCIpO1xuY29uc3Qgbm90ZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9ub3RlcyAqLyBcIi4vdWkvcmVuZGVyL25vdGVzLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2NyZWVuXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvc2NyZWVuICovIFwiLi91aS9yZW5kZXIvc2NyZWVuLnRzXCIpO1xuY29uc3QgZmxvd18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mbG93ICovIFwiLi91aS9ldmVudHMvZmxvdy50c1wiKTtcbmNvbnN0IGhlbHBlcl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBoYXNoQ2hhbmdlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hhc2hDaGFuZ2UgKi8gXCIuL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzXCIpO1xuZnVuY3Rpb24gZ290b0FydGJvYXJkKHBhcmEsIHVwZGF0ZUhhc2ggPSB0cnVlKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBoYXNoQ2hhbmdlXzEuc2V0U2hvdWxkQmFja1RvQW5vdGhlcihmYWxzZSk7XG4gICAgbGV0IGluZGV4O1xuICAgIGlmICh0eXBlb2YgcGFyYSA9PSAnbnVtYmVyJykge1xuICAgICAgICBpbmRleCA9IHBhcmE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleCA9IGxheWVyc18xLk1hcEFydGJvYXJkSURUb0luZGV4W3BhcmFdO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICBoZWxwZXJfMS5tZXNzYWdlKGNvbW1vbl8xLmxvY2FsaXplKCdUYXJnZXQgYXJ0Ym9hcmQgbm90IGV4cG9ydGVkLicpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleCA9PSBpbmRleClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGNsZWFyIGZsb3dzIGFuaW1hdGlvbiBiZWZvcmUgc3dpdGNoXG4gICAgbGV0IGZsb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3dzJyk7XG4gICAgZmxvd3MuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1mbG93cycpO1xuICAgIGhlbHBlcl8yLnJlbW92ZVNlbGVjdGVkKCk7XG4gICAgY29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleCA9IGluZGV4O1xuICAgIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgY29tbW9uXzEuc3RhdGUuY3VycmVudCA9IGNvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzW2NvbW1vbl8xLnN0YXRlLmFydGJvYXJkSW5kZXhdO1xuICAgIHNjcmVlbl8xLnVwZGF0ZVNjcmVlbih0cnVlKTtcbiAgICBsYXllcnNfMS5sYXllcnMoKTtcbiAgICBub3Rlc18xLm5vdGVzKCk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpLmZvckVhY2goZSA9PiBlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpKTtcbiAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXJ0Ym9hcmQtJyArIGluZGV4KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIChfYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGFydHBvaW50LScgKyBpbmRleCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBpZiAodXBkYXRlSGFzaClcbiAgICAgICAgdXBkYXRlVVJMSGFzaCgpO1xuICAgIGRvY3VtZW50LnRpdGxlID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5uYW1lICsgJyAtIFNrZXRjaCBNZWFYdXJlJztcbn1cbmV4cG9ydHMuZ290b0FydGJvYXJkID0gZ290b0FydGJvYXJkO1xuZnVuY3Rpb24gbmF2aWdhdGVCeVVSTEhhc2godXBkYXRlSGFzaCA9IHRydWUpIHtcbiAgICBsZXQgc2V0dGluZyA9IHBhcnNlVVJMSGFzaCgpO1xuICAgIGdvdG9BcnRib2FyZChzZXR0aW5nLmFydGJvYXJkSW5kZXgsIGZhbHNlKTtcbiAgICBpZiAoZmxvd18xLmZsb3dNb2RlICE9PSBzZXR0aW5nLmZsb3dNb2RlKSB7XG4gICAgICAgIGZsb3dfMS5zZXRGbG93TW9kZShzZXR0aW5nLmZsb3dNb2RlKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZUhhc2gpXG4gICAgICAgIHVwZGF0ZVVSTEhhc2goKTtcbn1cbmV4cG9ydHMubmF2aWdhdGVCeVVSTEhhc2ggPSBuYXZpZ2F0ZUJ5VVJMSGFzaDtcbmZ1bmN0aW9uIHVwZGF0ZVVSTEhhc2goKSB7XG4gICAgbGV0IGhhc2ggPSBnZXRVUkxIYXNoKCk7XG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoID09IGhhc2gpXG4gICAgICAgIHJldHVybjtcbiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhhc2g7XG59XG5leHBvcnRzLnVwZGF0ZVVSTEhhc2ggPSB1cGRhdGVVUkxIYXNoO1xuZnVuY3Rpb24gaGlzdG9yeUJhY2tVbnRpbEFub3RoZXJBcnRib2FyZCgpIHtcbiAgICBoYXNoQ2hhbmdlXzEuc2V0U2hvdWxkQmFja1RvQW5vdGhlcih0cnVlKTtcbiAgICBoaXN0b3J5LmJhY2soKTtcbn1cbmV4cG9ydHMuaGlzdG9yeUJhY2tVbnRpbEFub3RoZXJBcnRib2FyZCA9IGhpc3RvcnlCYWNrVW50aWxBbm90aGVyQXJ0Ym9hcmQ7XG5mdW5jdGlvbiBnZXRVUkxIYXNoKCkge1xuICAgIHJldHVybiBgIyR7Zmxvd18xLmZsb3dNb2RlID8gJ3AnIDogJ2FydGJvYXJkJ30ke2NvbW1vbl8xLnN0YXRlLmFydGJvYXJkSW5kZXh9YDtcbn1cbmV4cG9ydHMuZ2V0VVJMSGFzaCA9IGdldFVSTEhhc2g7XG5mdW5jdGlvbiBwYXJzZVVSTEhhc2goKSB7XG4gICAgbGV0IHJlc3VsdCA9IHtcbiAgICAgICAgZmxvd01vZGU6IGZhbHNlLFxuICAgICAgICBhcnRib2FyZEluZGV4OiAwLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogICNbc3xwXVtpbmRleF1cbiAgICAgIHM6IHNwZWNpZmljYXRpb24gbW9kZVxuICAgICAgcDogcHJvdG90eXBlIG1vZGUgIHNcbiAgICAgIGluZGV4OiBhcnRib2FyZCBpbmRleFxuICAgICAqL1xuICAgIGxldCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgcmVzdWx0LmZsb3dNb2RlID0gaGFzaC5zdWJzdHIoMSwgMSkgPT09ICdwJztcbiAgICBsZXQgaW5kZXggPSBOdW1iZXIoaGFzaC5zdWJzdHIoOSkpO1xuICAgIGlmIChpc05hTihpbmRleCkpXG4gICAgICAgIGluZGV4ID0gTnVtYmVyKGhhc2guc3Vic3RyKDkpKTtcbiAgICBpZiAoaXNOYU4oaW5kZXgpKVxuICAgICAgICBpbmRleCA9IDA7XG4gICAgcmVzdWx0LmFydGJvYXJkSW5kZXggPSBpbmRleDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZXhwb3J0cy5wYXJzZVVSTEhhc2ggPSBwYXJzZVVSTEhhc2g7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL25hdmlnYXRlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvbm90ZXMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9ub3Rlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gbm90ZUV2ZW50cygpIHtcbiAgICBsZXQgbm90ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbm90ZXMnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvdy1ub3RlcycpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzO1xuICAgICAgICBub3Rlcy5zdHlsZS5kaXNwbGF5ID0gdGFyZ2V0LmNoZWNrZWQgPyAnJyA6ICdub25lJztcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUobm90ZXMsICdtb3VzZW1vdmUnLCAnLm5vdGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaGVscGVyXzEubW91c2VvdXRMYXllcigpO1xuICAgICAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgICAgICBsZXQgbm90ZSA9IHRoaXMucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4gICAgICAgIG5vdGUuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBpZiAobm90ZS5jbGllbnRXaWR0aCA+IDE2MCkge1xuICAgICAgICAgICAgbm90ZS5zdHlsZS53aWR0aCA9ICcxNjBweCc7XG4gICAgICAgICAgICBub3RlLnN0eWxlLndoaXRlU3BhY2UgPSAnbm9ybWFsJztcbiAgICAgICAgfVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgICBub3Rlcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBub3Rlcy5xdWVyeVNlbGVjdG9yQWxsKCcubm90ZSBkaXYnKS5mb3JFYWNoKChkaXYpID0+IGRpdi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMubm90ZUV2ZW50cyA9IG5vdGVFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL25vdGVzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvcGFuTW9kZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvcGFuTW9kZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgZGlzdGFuY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGlzdGFuY2UgKi8gXCIuL3VpL2V2ZW50cy9kaXN0YW5jZS50c1wiKTtcbmV4cG9ydHMucGFuTW9kZSA9IGZhbHNlO1xuZnVuY3Rpb24gcGFuTW9kZUV2ZW50cygpIHtcbiAgICBsZXQgbW92aW5nID0gZmFsc2U7XG4gICAgbGV0IG1vdmVEYXRhO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDMyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJykuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpLmNsYXNzTGlzdC5hZGQoJ21vdmluZy1zY3JlZW4nKTtcbiAgICAgICAgaGVscGVyXzEubW91c2VvdXRMYXllcigpO1xuICAgICAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgICAgICBleHBvcnRzLnBhbk1vZGUgPSB0cnVlO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAzMilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKS5jbGFzc0xpc3QucmVtb3ZlKCdtb3ZpbmcnKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdtb3Zpbmctc2NyZWVuJyk7XG4gICAgICAgIGV4cG9ydHMucGFuTW9kZSA9IGZhbHNlO1xuICAgICAgICBtb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZXZlbnQgPT4ge1xuICAgICAgICBsZXQgY3Vyc29yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpO1xuICAgICAgICBjdXJzb3Iuc3R5bGUubGVmdCA9IGV2ZW50LmNsaWVudFggKyAncHgnO1xuICAgICAgICBjdXJzb3Iuc3R5bGUudG9wID0gZXZlbnQuY2xpZW50WSArICdweCc7XG4gICAgICAgIGlmICghbW92aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICAgICAgdmlld2VyLnNjcm9sbExlZnQgPSAobW92ZURhdGEueCAtIGV2ZW50LmNsaWVudFgpICsgbW92ZURhdGEuc2Nyb2xsTGVmdDtcbiAgICAgICAgdmlld2VyLnNjcm9sbFRvcCA9IChtb3ZlRGF0YS55IC0gZXZlbnQuY2xpZW50WSkgKyBtb3ZlRGF0YS5zY3JvbGxUb3A7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKCFleHBvcnRzLnBhbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBjdXJzb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJyk7XG4gICAgICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgICAgICBjdXJzb3IuY2xhc3NMaXN0LmFkZCgnbW92aW5nJyk7XG4gICAgICAgIG1vdmVEYXRhID0ge1xuICAgICAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICBzY3JvbGxMZWZ0OiB2aWV3ZXIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHNjcm9sbFRvcDogdmlld2VyLnNjcm9sbFRvcCxcbiAgICAgICAgfTtcbiAgICAgICAgbW92aW5nID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKCFleHBvcnRzLnBhbk1vZGUgfHwgIW1vdmluZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGN1cnNvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKTtcbiAgICAgICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgICAgIHZpZXdlci5jbGFzc0xpc3QucmVtb3ZlKCdtb3Zpbmctc2NyZWVuJyk7XG4gICAgICAgIGN1cnNvci5jbGFzc0xpc3QucmVtb3ZlKCdtb3ZpbmcnKTtcbiAgICAgICAgbW92aW5nID0gZmFsc2U7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG59XG5leHBvcnRzLnBhbk1vZGVFdmVudHMgPSBwYW5Nb2RlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9wYW5Nb2RlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvcGVyY2VudGFnZU1vZGUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gcGVyY2VudGFnZU1vZGVFdmVudHMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMTgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKS5jbGFzc0xpc3QuYWRkKCdwZXJjZW50YWdlLW1vZGUnKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMTgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY3JlZW4nKS5jbGFzc0xpc3QucmVtb3ZlKCdwZXJjZW50YWdlLW1vZGUnKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucGVyY2VudGFnZU1vZGVFdmVudHMgPSBwZXJjZW50YWdlTW9kZUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvcGVyY2VudGFnZU1vZGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9zbGljZXMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvc2xpY2VzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGhlbHBlcl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gc2xpY2VFdmVudHMoKSB7XG4gICAgbGV0IHNsaWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGljZXMnKTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoc2xpY2VzLCAnbW91c2VvdmVyJywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYXllci0nICsgdGhpcy5kYXRhc2V0Lm9iamVjdGlkKVxuICAgICAgICAgICAgLmZvckVhY2goZGl2ID0+IGRpdi5jbGFzc0xpc3QuYWRkKCdoYXMtc2xpY2UnKSk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHNsaWNlcywgJ21vdXNlb3V0JywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oYXMtc2xpY2UnKVxuICAgICAgICAgICAgLmZvckVhY2goZGl2ID0+IGRpdi5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtc2xpY2UnKSk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHNsaWNlcywgJ2NsaWNrJywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxldCBsYXllcmNscyA9ICcubGF5ZXItJyArIHRoaXMuZGF0YXNldC5vYmplY3RpZDtcbiAgICAgICAgbGV0IGluc3RhbmNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobGF5ZXJjbHMpO1xuICAgICAgICBsZXQgaW5zdGFuY2UgPSBpbnN0YW5jZXNbMF07XG4gICAgICAgIGlmICghaW5zdGFuY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGVscGVyXzIubWVzc2FnZShjb21tb25fMS5sb2NhbGl6ZSgnVGhlIHNsaWNlIG5vdCBpbiBjdXJyZW50IGFydGJvYXJkLicpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2Zmc2V0cyA9IGluc3RhbmNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICAgICAgbGV0IHNjcm9sbHMgPSB7XG4gICAgICAgICAgICBsZWZ0OiB2aWV3ZXIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHRvcDogdmlld2VyLnNjcm9sbFRvcCxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHNpemVzID0ge1xuICAgICAgICAgICAgd2lkdGg6IGluc3RhbmNlLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBpbnN0YW5jZS5jbGllbnRIZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHZpZXdlclNpemVzID0ge1xuICAgICAgICAgICAgd2lkdGg6IHZpZXdlci5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlld2VyLmNsaWVudEhlaWdodFxuICAgICAgICB9O1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsTGVmdCA9IChvZmZzZXRzLmxlZnQgKyBzY3JvbGxzLmxlZnQpIC0gKCh2aWV3ZXJTaXplcy53aWR0aCAtIHNpemVzLndpZHRoKSAvIDIpO1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsVG9wID0gKG9mZnNldHMudG9wICsgc2Nyb2xscy50b3AgLSA2MCkgLSAoKHZpZXdlclNpemVzLmhlaWdodCAtIHNpemVzLmhlaWdodCkgLyAyKTtcbiAgICAgICAgaGVscGVyXzEuY2xpY2tFbGVtZW50KGluc3RhbmNlKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2xpY2VFdmVudHMgPSBzbGljZUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvc2xpY2VzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvdGFiLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3RhYi50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiB0YWJFdmVudHMoKSB7XG4gICAgbGV0IHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbGVmdCAudGFiJyk7XG4gICAgbGV0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUodGFiLCAnY2xpY2snLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGN1cnJlbnQgPSB0YWIucXVlcnlTZWxlY3RvcignLmN1cnJlbnQnKTtcbiAgICAgICAgaWYgKHRoaXMgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICAgICAgbmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ29uJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9PT0gbnVsbCB8fCBjdXJyZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2N1cnJlbnQnKTtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5kYXRhc2V0LmlkO1xuICAgICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcbiAgICAgICAgbmF2YmFyLmNsYXNzTGlzdC5hZGQoJ29uJyk7XG4gICAgICAgIG5hdmJhci5xdWVyeVNlbGVjdG9yQWxsKCdzZWN0aW9uJykuZm9yRWFjaCgoc2VjKSA9PiBzZWMuc3R5bGUuZGlzcGxheSA9ICdub25lJyk7XG4gICAgICAgIG5hdmJhci5xdWVyeVNlbGVjdG9yKCcjJyArIGlkKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfSk7XG59XG5leHBvcnRzLnRhYkV2ZW50cyA9IHRhYkV2ZW50cztcbmZ1bmN0aW9uIGhpZGVOYXZCYXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIGxldCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyLWxlZnQgLnRhYicpO1xuICAgIChfYSA9IHRhYi5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgIGxldCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XG4gICAgbmF2YmFyLmNsYXNzTGlzdC5yZW1vdmUoJ29uJyk7XG59XG5leHBvcnRzLmhpZGVOYXZCYXIgPSBoaWRlTmF2QmFyO1xuZnVuY3Rpb24gc2hvd05hdkJhcigpIHtcbiAgICBsZXQgdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmljb24tYXJ0Ym9hcmRzJyk7XG4gICAgdGFiLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcbiAgICBsZXQgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuICAgIG5hdmJhci5jbGFzc0xpc3QuYWRkKCdvbicpO1xufVxuZXhwb3J0cy5zaG93TmF2QmFyID0gc2hvd05hdkJhcjtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvdGFiLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvdW5pdC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvdW5pdC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgbGF5ZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvbGF5ZXJzICovIFwiLi91aS9yZW5kZXIvbGF5ZXJzLnRzXCIpO1xuY29uc3QgaW5zcGVjdG9yXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvaW5zcGVjdG9yICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2luZGV4LnRzXCIpO1xuY29uc3Qgc2xpY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvc2xpY2VzICovIFwiLi91aS9yZW5kZXIvc2xpY2VzLnRzXCIpO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIHVuaXRFdmVudHMoKSB7XG4gICAgbGV0IHVuaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdW5pdCcpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh1bml0LCAnY2hhbmdlJywgJ2lucHV0W25hbWU9cmVzb2x1dGlvbl0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGNoZWNrZWQgPSB1bml0LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9cmVzb2x1dGlvbl06Y2hlY2tlZCcpO1xuICAgICAgICBjb21tb25fMS5zdGF0ZS51bml0ID0gY2hlY2tlZC5kYXRhc2V0LnVuaXQ7XG4gICAgICAgIGNvbW1vbl8xLnN0YXRlLnNjYWxlID0gTnVtYmVyKGNoZWNrZWQuZGF0YXNldC5zY2FsZSk7XG4gICAgICAgIGxheWVyc18xLmxheWVycygpO1xuICAgICAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3IoKTtcbiAgICAgICAgdW5pdC5ibHVyKCk7XG4gICAgICAgIHVuaXQucXVlcnlTZWxlY3RvcigncCcpLmlubmVyVGV4dCA9IGNoZWNrZWQuZGF0YXNldC5uYW1lO1xuICAgICAgICBzbGljZXNfMS5zbGljZXMoKTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUodW5pdCwgJ2NsaWNrJywgJ2gzLCAub3ZlcmxheScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB1bml0LmJsdXIoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMudW5pdEV2ZW50cyA9IHVuaXRFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL3VuaXQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy96b29tLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy96b29tLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBzY3JlZW5fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zY3JlZW4gKi8gXCIuL3VpL3JlbmRlci9zY3JlZW4udHNcIik7XG5jb25zdCBsYXllcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9sYXllcnMgKi8gXCIuL3VpL3JlbmRlci9sYXllcnMudHNcIik7XG5jb25zdCBub3Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL25vdGVzICovIFwiLi91aS9yZW5kZXIvbm90ZXMudHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvem9vbSAqLyBcIi4vdWkvcmVuZGVyL3pvb20udHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmNvbnN0IGFsaWduRWxlbWVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hbGlnbkVsZW1lbnQgKi8gXCIuL3VpL2V2ZW50cy9hbGlnbkVsZW1lbnQudHNcIik7XG5mdW5jdGlvbiB6b29tRXZlbnRzKCkge1xuICAgIGxldCB6b29tZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbScpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh6b29tZXIsICdjbGljaycsICcuem9vbS1pbjpub3QoZGlzYWJsZWQpLCAuem9vbS1vdXQ6bm90KGRpc2FibGVkKScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ3pvb20taW4nKSkge1xuICAgICAgICAgICAgem9vbVJlbmRlcihjb21tb25fMS5zdGF0ZS56b29tIC0gLjI1KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHpvb21SZW5kZXIoY29tbW9uXzEuc3RhdGUuem9vbSArIC4yNSk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG59XG5leHBvcnRzLnpvb21FdmVudHMgPSB6b29tRXZlbnRzO1xuZnVuY3Rpb24gem9vbVJlbmRlcih2YWwpIHtcbiAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcnVsZXJzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NyZWVuJyk7XG4gICAgbGV0IGN1cnJlbnRSZWN0ID0gc2NyZWVuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBzY3JlZW5Qb2ludCA9IHNjcmVlblBvaW50T25WaWV3ZXJDZW50ZXIodmlld2VyLCBzY3JlZW4pO1xuICAgIGxldCBzY3JlZW5Qb2ludDIgPSB7XG4gICAgICAgIHg6IHNjcmVlblBvaW50LnggKiB2YWwgLyBjb21tb25fMS5zdGF0ZS56b29tLFxuICAgICAgICB5OiBzY3JlZW5Qb2ludC55ICogdmFsIC8gY29tbW9uXzEuc3RhdGUuem9vbSxcbiAgICB9O1xuICAgIGNvbW1vbl8xLnN0YXRlLnpvb20gPSB2YWw7XG4gICAgem9vbV8xLnpvb20oKTtcbiAgICBzY3JlZW5fMS51cGRhdGVTY3JlZW4oKTtcbiAgICBhbGlnbkVsZW1lbnRfMS5hbGlnbkVsZW1lbnQoe1xuICAgICAgICBzY3JvbGxlcjogdmlld2VyLFxuICAgICAgICB0YXJnZXQ6IHNjcmVlbixcbiAgICAgICAgdG9SZWN0OiBjdXJyZW50UmVjdCxcbiAgICAgICAgZnJvbUVkZ2U6IGFsaWduRWxlbWVudF8xLkVkZ2UuaGxlZnQgfCBhbGlnbkVsZW1lbnRfMS5FZGdlLnZ0b3AsXG4gICAgICAgIHRvRWRnZTogYWxpZ25FbGVtZW50XzEuRWRnZS5obGVmdCB8IGFsaWduRWxlbWVudF8xLkVkZ2UudnRvcCxcbiAgICB9KTtcbiAgICB2aWV3ZXIuc2Nyb2xsTGVmdCArPSBzY3JlZW5Qb2ludDIueCAtIHNjcmVlblBvaW50Lng7XG4gICAgdmlld2VyLnNjcm9sbFRvcCArPSBzY3JlZW5Qb2ludDIueSAtIHNjcmVlblBvaW50Lnk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2xheWVycywgI25vdGVzJykuZm9yRWFjaChlID0+IGUuaW5uZXJIVE1MID0gJycpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBsYXllcnNfMS5sYXllcnMoKTtcbiAgICAgICAgbm90ZXNfMS5ub3RlcygpO1xuICAgIH0sIDE1MCk7XG59XG5leHBvcnRzLnpvb21SZW5kZXIgPSB6b29tUmVuZGVyO1xuZnVuY3Rpb24gc2NyZWVuUG9pbnRPblZpZXdlckNlbnRlcih2aWV3ZXIsIHNjcmVlbikge1xuICAgIGxldCB2aWV3ZXJSZWN0ID0gdmlld2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBzY3JlZW5SZWN0ID0gc2NyZWVuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCB2aWV3ZXJDZW50ZXIgPSB7XG4gICAgICAgIHg6IHZpZXdlclJlY3QueCArIHZpZXdlclJlY3Qud2lkdGggLyAyLFxuICAgICAgICB5OiB2aWV3ZXJSZWN0LnkgKyB2aWV3ZXJSZWN0LmhlaWdodCAvIDIsXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB2aWV3ZXJDZW50ZXIueCAtIHNjcmVlblJlY3QueCxcbiAgICAgICAgeTogdmlld2VyQ2VudGVyLnkgLSBzY3JlZW5SZWN0LnksXG4gICAgfTtcbn1cblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvem9vbS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvaW5kZXgudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvaW5kZXgudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcmVuZGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3JlbmRlciAqLyBcIi4vdWkvcmVuZGVyL2luZGV4LnRzXCIpO1xud2luZG93Lm1lYXh1cmUgPSB7XG4gICAgcmVuZGVyOiByZW5kZXJfMS5yZW5kZXIsXG59O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2luZGV4LnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2FydGJvYXJkcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gYXJ0Ym9hcmRzKCkge1xuICAgIGxldCBhcnRib2FyZExpc3RIVE1MID0gW107XG4gICAgbGV0IHBhZ2VzU2VsZWN0ID0gW107XG4gICAgbGV0IGZsb3dTdGFydHMgPSBbXTtcbiAgICBsZXQgcGFnZXNEYXRhID0ge307XG4gICAgYXJ0Ym9hcmRMaXN0SFRNTC5wdXNoKCc8dWwgY2xhc3M9XCJhcnRib2FyZC1saXN0XCI+Jyk7XG4gICAgY29tbW9uXzEucHJvamVjdC5hcnRib2FyZHMuZm9yRWFjaCgoYXJ0Ym9hcmQsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghcGFnZXNEYXRhW2FydGJvYXJkLnBhZ2VPYmplY3RJRF0pIHtcbiAgICAgICAgICAgIHBhZ2VzRGF0YVthcnRib2FyZC5wYWdlT2JqZWN0SURdID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGFydGJvYXJkLnBhZ2VOYW1lLFxuICAgICAgICAgICAgICAgIG9iamVjdElEOiBhcnRib2FyZC5wYWdlT2JqZWN0SUQsXG4gICAgICAgICAgICAgICAgY291bnQ6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcGFnZXNEYXRhW2FydGJvYXJkLnBhZ2VPYmplY3RJRF0uY291bnQrKztcbiAgICAgICAgbGV0IGNsYXNzTmFtZXMgPSAoY29tbW9uXzIuc3RhdGUuYXJ0Ym9hcmRJbmRleCA9PSBpbmRleCkgPyAnIGFjdGl2ZScgOiAnJztcbiAgICAgICAgbGV0IGltYWdlRGF0YSA9IChhcnRib2FyZC5pbWFnZUJhc2U2NCkgPyBhcnRib2FyZC5pbWFnZUJhc2U2NCA6IGFydGJvYXJkLmltYWdlSWNvblBhdGggKyAnPycgKyBjb21tb25fMS50aW1lc3RhbXA7XG4gICAgICAgIGxldCBhcnRib2FyZExpQm9keSA9IGA8cGljdHVyZSBjbGFzcz1cInByZXZpZXctaW1nXCIgZGF0YS1uYW1lPVwiJHthcnRib2FyZC5uYW1lfVwiPmAgK1xuICAgICAgICAgICAgYDxpbWcgYWx0PVwiJHthcnRib2FyZC5uYW1lfVwiIHNyYz1cIiR7aW1hZ2VEYXRhfVwiPmAgK1xuICAgICAgICAgICAgYDwvcGljdHVyZT5gICtcbiAgICAgICAgICAgIGA8ZGl2PmAgK1xuICAgICAgICAgICAgYDxoMz4ke2FydGJvYXJkLm5hbWV9PC9oMz5gICtcbiAgICAgICAgICAgIGA8c21hbGw+JHthcnRib2FyZC5wYWdlTmFtZX08L3NtYWxsPmAgK1xuICAgICAgICAgICAgYDwvZGl2PmA7XG4gICAgICAgIGFydGJvYXJkTGlzdEhUTUwucHVzaChgPGxpIGlkPVwiYXJ0Ym9hcmQtJHtpbmRleH1cIiBjbGFzcz1cImFydGJvYXJkJHtjbGFzc05hbWVzfVwiIGRhdGEtcGFnZS1pZD1cIiR7YXJ0Ym9hcmQucGFnZU9iamVjdElEfVwiIGRhdGEtaWQ9XCIke2FydGJvYXJkLm9iamVjdElEfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiID5gICtcbiAgICAgICAgICAgIGFydGJvYXJkTGlCb2R5ICtcbiAgICAgICAgICAgIGA8L2xpPmApO1xuICAgICAgICBpZiAoYXJ0Ym9hcmQuZmxvd1N0YXJ0UG9pbnQpXG4gICAgICAgICAgICBmbG93U3RhcnRzLnB1c2goYDxsaSBpZD1cInN0YXJ0cG9pbnQtJHtpbmRleH1cIiBjbGFzcz1cImFydGJvYXJkJHtjbGFzc05hbWVzfVwiIGRhdGEtcGFnZS1pZD1cIiR7YXJ0Ym9hcmQucGFnZU9iamVjdElEfVwiIGRhdGEtaWQ9XCIke2FydGJvYXJkLm9iamVjdElEfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiID5gICtcbiAgICAgICAgICAgICAgICBhcnRib2FyZExpQm9keSArXG4gICAgICAgICAgICAgICAgYDwvbGk+YCk7XG4gICAgfSk7XG4gICAgYXJ0Ym9hcmRMaXN0SFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIHBhZ2VzU2VsZWN0LnB1c2goJzxkaXYgY2xhc3M9XCJwYWdlcy1zZWxlY3RcIiB0YWJpbmRleD1cIjBcIj4nLCBgPGgzPiR7Y29tbW9uXzEubG9jYWxpemUoJ0FsbCBhcnRib2FyZHMnKX0gPGVtPigke2NvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzLmxlbmd0aH0pPC9lbT48L2gzPmAsICc8dWwgY2xhc3M9XCJwYWdlLWxpc3RcIj4nLCBgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBhZ2VcIiB2YWx1ZT1cImFsbFwiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+JHtjb21tb25fMS5sb2NhbGl6ZSgnQWxsIGFydGJvYXJkcycpfSA8ZW0+KCR7Y29tbW9uXzEucHJvamVjdC5hcnRib2FyZHMubGVuZ3RofSk8L2VtPjwvc3Bhbj48L2xhYmVsPjwvbGk+YCk7XG4gICAgT2JqZWN0LmtleXMocGFnZXNEYXRhKS5mb3JFYWNoKG9iamVjdElEID0+IHtcbiAgICAgICAgbGV0IGFydGJvYXJkID0gcGFnZXNEYXRhW29iamVjdElEXTtcbiAgICAgICAgcGFnZXNTZWxlY3QucHVzaChgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBhZ2VcIiB2YWx1ZT1cIiR7YXJ0Ym9hcmQub2JqZWN0SUR9XCI+PHNwYW4+JHthcnRib2FyZC5uYW1lfSA8ZW0+KCR7YXJ0Ym9hcmQuY291bnR9KTwvZW0+PC9zcGFuPjwvbGFiZWw+PC9saT5gKTtcbiAgICB9KTtcbiAgICBwYWdlc1NlbGVjdC5wdXNoKCc8L3VsPicpO1xuICAgIHBhZ2VzU2VsZWN0LnB1c2goJzwvZGl2PicpO1xuICAgIGlmIChmbG93U3RhcnRzLmxlbmd0aCkge1xuICAgICAgICBmbG93U3RhcnRzLnVuc2hpZnQoJzxkaXYgY2xhc3M9XCJmbG93LXN0YXJ0c1wiPicsICc8ZGl2IGNsYXNzPVwidGl0bGVcIj4nLCBgPGgzPiR7Y29tbW9uXzEubG9jYWxpemUoJ1N0YXJ0IHBvaW50cycpfSA8ZW0+KCR7Zmxvd1N0YXJ0cy5sZW5ndGh9KTwvZW0+PC9oMz5gLCAnPC9kaXY+JywgJzx1bCBjbGFzcz1cImFydGJvYXJkLWxpc3RcIj4nKTtcbiAgICAgICAgZmxvd1N0YXJ0cy5wdXNoKCc8L3VsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkcycpLmlubmVySFRNTCA9IFtmbG93U3RhcnRzLmpvaW4oJycpLCBwYWdlc1NlbGVjdC5qb2luKCcnKSwgYXJ0Ym9hcmRMaXN0SFRNTC5qb2luKCcnKV0uam9pbignJyk7XG59XG5leHBvcnRzLmFydGJvYXJkcyA9IGFydGJvYXJkcztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvY29sb3JzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2NvbG9ycy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gY29sb3JzKCkge1xuICAgIGlmICghY29tbW9uXzIucHJvamVjdC5jb2xvcnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWNvbW1vbl8yLnByb2plY3QuY29sb3JOYW1lcylcbiAgICAgICAgY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzID0ge307XG4gICAgdmFyIGNvbG9yTGlzdEhUTUwgPSBbXTtcbiAgICBjb2xvckxpc3RIVE1MLnB1c2goJzx1bCBjbGFzcz1cImNvbG9yLWxpc3RcIj4nKTtcbiAgICBjb21tb25fMi5wcm9qZWN0LmNvbG9ycy5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcbiAgICAgICAgY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzW2NvbG9yLmNvbG9yWydhcmdiLWhleCddXSA9IGNvbG9yLm5hbWU7XG4gICAgICAgIGNvbG9yTGlzdEhUTUwucHVzaCgnPGxpIGlkPVwiY29sb3ItJyArIGluZGV4ICsgJ1wiIGRhdGEtY29sb3I9XCInICsgZW5jb2RlVVJJKEpTT04uc3RyaW5naWZ5KGNvbG9yLmNvbG9yKSkgKyAnXCI+JywgJzxlbT48aSBzdHlsZT1cImJhY2tncm91bmQ6JyArIGNvbG9yLmNvbG9yWydjc3MtcmdiYSddICsgJ1wiPjwvaT48L2VtPicsICc8ZGl2PicsICc8aDM+JyArIGNvbG9yLm5hbWUgKyAnPC9oMz4nLCAnPHNtYWxsPicgKyBjb2xvci5jb2xvcltjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdF0gKyAnPC9zbWFsbD4nLCAnPC9kaXY+JywgJzwvbGk+Jyk7XG4gICAgfSk7XG4gICAgY29sb3JMaXN0SFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIGlmIChjb21tb25fMi5wcm9qZWN0LmNvbG9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb2xvcnMnKS5pbm5lckhUTUwgPSBjb2xvckxpc3RIVE1MLmpvaW4oJycpO1xuICAgIH1cbn1cbmV4cG9ydHMuY29sb3JzID0gY29sb3JzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9jb2xvcnMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9oZWxwZXIudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaGVscGVyLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIHpvb21TaXplKHNpemUpIHtcbiAgICByZXR1cm4gc2l6ZSAqIGNvbW1vbl8xLnN0YXRlLnpvb20gLyBjb21tb25fMS5wcm9qZWN0LnJlc29sdXRpb247XG59XG5leHBvcnRzLnpvb21TaXplID0gem9vbVNpemU7XG5mdW5jdGlvbiBwZXJjZW50YWdlU2l6ZShzaXplLCBzaXplMikge1xuICAgIHJldHVybiAoTWF0aC5yb3VuZChzaXplIC8gc2l6ZTIgKiAxMDAwKSAvIDEwKSArIFwiJVwiO1xufVxuZXhwb3J0cy5wZXJjZW50YWdlU2l6ZSA9IHBlcmNlbnRhZ2VTaXplO1xuZnVuY3Rpb24gdW5pdFNpemUodmFsdWUsIGlzVGV4dCkge1xuICAgIC8vIGxvZ2ljIHBvaW50XG4gICAgbGV0IHB0ID0gdmFsdWUgLyBjb21tb25fMS5wcm9qZWN0LnJlc29sdXRpb247XG4gICAgLy8gY29udmVydCB0byBkaXNwbGF5IHZhbHVlXG4gICAgbGV0IHN6ID0gTWF0aC5yb3VuZChwdCAqIGNvbW1vbl8xLnN0YXRlLnNjYWxlICogMTAwKSAvIDEwMDtcbiAgICBsZXQgdW5pdHMgPSBjb21tb25fMS5zdGF0ZS51bml0LnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgdW5pdCA9IHVuaXRzWzBdO1xuICAgIGlmICh1bml0cy5sZW5ndGggPiAxICYmIGlzVGV4dCkge1xuICAgICAgICB1bml0ID0gdW5pdHNbMV07XG4gICAgfVxuICAgIHJldHVybiBzeiArIHVuaXQ7XG59XG5leHBvcnRzLnVuaXRTaXplID0gdW5pdFNpemU7XG5sZXQgbXNnVGltZW91dDtcbmZ1bmN0aW9uIG1lc3NhZ2UobXNnKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZScpO1xuICAgIG1lc3NhZ2UuaW5uZXJUZXh0ID0gbXNnO1xuICAgIG1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdpbmhlcml0JztcbiAgICBpZiAobXNnVGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobXNnVGltZW91dCk7XG4gICAgICAgIG1zZ1RpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG1zZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IG1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJywgMTAwMCk7XG59XG5leHBvcnRzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9oZWxwZXIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luZGV4LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgYXJ0Ym9hcmRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FydGJvYXJkcyAqLyBcIi4vdWkvcmVuZGVyL2FydGJvYXJkcy50c1wiKTtcbmNvbnN0IHNsaWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zbGljZXMgKi8gXCIuL3VpL3JlbmRlci9zbGljZXMudHNcIik7XG5jb25zdCBjb2xvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29sb3JzICovIFwiLi91aS9yZW5kZXIvY29sb3JzLnRzXCIpO1xuY29uc3QgdW5pdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91bml0ICovIFwiLi91aS9yZW5kZXIvdW5pdC50c1wiKTtcbmNvbnN0IHpvb21fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vem9vbSAqLyBcIi4vdWkvcmVuZGVyL3pvb20udHNcIik7XG5jb25zdCBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vdWkvZXZlbnRzL2luZGV4LnRzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cy9uYXZpZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyKGRhdGEpIHtcbiAgICBjb21tb25fMS5pbml0KGRhdGEpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKS5pbm5lckhUTUwgPSBbXG4gICAgICAgICc8aGVhZGVyPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyLWxlZnRcIj4nLFxuICAgICAgICAnPHVsIGNsYXNzPVwidGFiXCI+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tYXJ0Ym9hcmRzIGN1cnJlbnRcIiBkYXRhLWlkPVwiYXJ0Ym9hcmRzXCI+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1zbGljZXNcIiBkYXRhLWlkPVwic2xpY2VzXCI+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1jb2xvcnNcIiBkYXRhLWlkPVwiY29sb3JzXCI+PC9saT4nLFxuICAgICAgICAnPC91bD4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJoZWFkZXItY2VudGVyXCI+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJ6b29tXCIgY2xhc3M9XCJ6b29tLXdpZGdldFwiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmxvdy1tb2RlXCI+JyxcbiAgICAgICAgYDxsYWJlbCBmb3I9XCJmbG93LW1vZGVcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdGTE9XJyl9PC9sYWJlbD5gLFxuICAgICAgICBgPGRpdiBjbGFzcz1cInNsaWRlYm94XCIgdGl0bGU9XCIke2NvbW1vbl8xLmxvY2FsaXplKCdLZXlib2FyZCBzaG9ydGN1dCcpfTogZlwiPmAsXG4gICAgICAgICc8aW5wdXQgaWQ9XCJmbG93LW1vZGVcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiZmxvdy1tb2RlXCI+JyxcbiAgICAgICAgJzxsYWJlbCBmb3I9XCJmbG93LW1vZGVcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxoMT48L2gxPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic2hvdy1ub3Rlc1wiPicsXG4gICAgICAgIGA8bGFiZWwgZm9yPVwic2hvdy1ub3Rlc1wiPiR7Y29tbW9uXzEubG9jYWxpemUoJ05PVEVTJyl9PC9sYWJlbD5gLFxuICAgICAgICBgPGRpdiBjbGFzcz1cInNsaWRlYm94XCIgdGl0bGU9XCIke2NvbW1vbl8xLmxvY2FsaXplKCdLZXlib2FyZCBzaG9ydGN1dCcpfTogblwiPmAsXG4gICAgICAgICc8aW5wdXQgaWQ9XCJzaG93LW5vdGVzXCIgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInNob3ctbm90ZXNcIiBjaGVja2VkPVwiY2hlY2tlZFwiPicsXG4gICAgICAgICc8bGFiZWwgZm9yPVwic2hvdy1ub3Rlc1wiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJoZWFkZXItcmlnaHRcIj48ZGl2IGlkPVwidW5pdFwiIGNsYXNzPVwidW5pdC1ib3hcIiB0YWJpbmRleD1cIjBcIj5YSERQSSBAMnggKGRwL3NwKTwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8L2hlYWRlcj4nLFxuICAgICAgICAnPG1haW4+JyxcbiAgICAgICAgJzxhc2lkZSBjbGFzcz1cIm5hdmJhciBvblwiPicsXG4gICAgICAgICc8c2VjdGlvbiBpZD1cImFydGJvYXJkc1wiPjwvc2VjdGlvbj4nLFxuICAgICAgICBgPHNlY3Rpb24gaWQ9XCJzbGljZXNcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PGRpdiBjbGFzcz1cImVtcHR5XCI+JHtjb21tb25fMS5sb2NhbGl6ZSgnTm8gc2xpY2VzIGFkZGVkIScpfTwvZGl2Pjwvc2VjdGlvbj5gLFxuICAgICAgICBgPHNlY3Rpb24gaWQ9XCJjb2xvcnNcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PGRpdiBjbGFzcz1cImVtcHR5XCI+JHtjb21tb25fMS5sb2NhbGl6ZSgnTm8gY29sb3JzIGFkZGVkIScpfTwvZGl2Pjwvc2VjdGlvbj5gLFxuICAgICAgICAnPC9hc2lkZT4nLFxuICAgICAgICAnPHNlY3Rpb24gY2xhc3M9XCJzY3JlZW4tdmlld2VyXCI+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJzY3JlZW4tdmlld2VyLWlubmVyXCI+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJzY3JlZW5cIiBjbGFzcz1cInNjcmVlblwiPicsXG4gICAgICAgICc8ZGl2IGlkPVwicnVsZXJzXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJydlwiIGNsYXNzPVwicnVsZXIgdlwiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwicmhcIiBjbGFzcz1cInJ1bGVyIGhcIj48L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJmbG93c1wiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwibGF5ZXJzXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJub3Rlc1wiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwidGRcIiBjbGFzcz1cImRpc3RhbmNlIHZcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48ZGl2IGRhdGEtaGVpZ2h0PVwiM1wiPjwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwicmRcIiBjbGFzcz1cImRpc3RhbmNlIGhcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48ZGl2IGRhdGEtd2lkdGg9XCJcIj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cImJkXCIgY2xhc3M9XCJkaXN0YW5jZSB2XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PGRpdiBkYXRhLWhlaWdodD1cIlwiPjwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwibGRcIiBjbGFzcz1cImRpc3RhbmNlIGhcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48ZGl2IGRhdGEtd2lkdGg9XCJcIj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwib3ZlcmxheVwiPjwvZGl2PicsXG4gICAgICAgICc8L3NlY3Rpb24+JyxcbiAgICAgICAgJzxhc2lkZSBpZD1cImluc3BlY3RvclwiIGNsYXNzPVwiaW5zcGVjdG9yXCI+PC9hc2lkZT4nLFxuICAgICAgICAnPC9tYWluPicsXG4gICAgICAgICc8ZGl2IGlkPVwibWVzc2FnZVwiIGNsYXNzPVwibWVzc2FnZVwiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwiY3Vyc29yXCIgY2xhc3M9XCJjdXJzb3JcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+PC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgem9vbV8xLnpvb20oKTtcbiAgICB1bml0XzEudW5pdCgpO1xuICAgIGFydGJvYXJkc18xLmFydGJvYXJkcygpO1xuICAgIHNsaWNlc18xLnNsaWNlcygpO1xuICAgIGNvbG9yc18xLmNvbG9ycygpO1xuICAgIGV2ZW50c18xLmV2ZW50cygpO1xuICAgIG5hdmlnYXRlXzEubmF2aWdhdGVCeVVSTEhhc2goZmFsc2UpO1xufVxuZXhwb3J0cy5yZW5kZXIgPSByZW5kZXI7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luZGV4LnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2JvcmRlcnMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvYm9yZGVycy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJCb3JkZXJzKGxheWVyRGF0YSkge1xuICAgIGlmICghbGF5ZXJEYXRhLmJvcmRlcnMgfHwgIWxheWVyRGF0YS5ib3JkZXJzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHZhciBib3JkZXJzID0gW107XG4gICAgZm9yIChsZXQgaSA9IGxheWVyRGF0YS5ib3JkZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBib3JkZXIgPSBsYXllckRhdGEuYm9yZGVyc1tpXTtcbiAgICAgICAgYm9yZGVycy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbXMtZ3JvdXBcIj4nLCAnPGg0PicgKyBjb21tb25fMS5sb2NhbGl6ZShib3JkZXIucG9zaXRpb24gKyAnIEJvcmRlcicpICsgJzwvaDQ+JywgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnV2VpZ2h0JykgKyAnOlwiPicsICc8bGFiZWw+PGlucHV0IGlkPVwiZm9udC1mYW1pbHlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGJvcmRlci50aGlja25lc3MpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsICc8bGFiZWw+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgICAgIGJvcmRlcnMucHVzaCgnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKGJvcmRlci5maWxsVHlwZSkgKyAnOlwiPicpO1xuICAgICAgICBpZiAoYm9yZGVyLmZpbGxUeXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgICBib3JkZXJzLnB1c2goc2hhcmVkXzEuY29sb3JJdGVtKGJvcmRlci5jb2xvcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYm9yZGVycy5wdXNoKCc8ZGl2IGNsYXNzPVwiY29sb3JzIGdyYWRpZW50XCI+Jyk7XG4gICAgICAgICAgICBib3JkZXIuZ3JhZGllbnQuY29sb3JTdG9wcy5mb3JFYWNoKGdyYWRpZW50ID0+IGJvcmRlcnMucHVzaChzaGFyZWRfMS5jb2xvckl0ZW0oZ3JhZGllbnQuY29sb3IpKSk7XG4gICAgICAgICAgICBib3JkZXJzLnB1c2goJzwvZGl2PicpO1xuICAgICAgICB9XG4gICAgICAgIGJvcmRlcnMucHVzaCgnPC9kaXY+Jyk7XG4gICAgICAgIGJvcmRlcnMucHVzaCgnPC9kaXY+Jyk7XG4gICAgfVxuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ0JPUkRFUlMnLCBib3JkZXJzLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyQm9yZGVycyA9IHJlbmRlckJvcmRlcnM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9ib3JkZXJzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2NvZGVUZW1wbGF0ZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2NvZGVUZW1wbGF0ZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGhlbHBlcl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vZXZlbnRzL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyQ29kZVRlbXBsYXRlKGxheWVyRGF0YSkge1xuICAgIGlmICghbGF5ZXJEYXRhLmNzcyB8fCAhbGF5ZXJEYXRhLmNzcy5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgdGFiID0gWyc8dWwgY2xhc3M9XCJ0YWJcIiBpZD1cImNvZGUtdGFiXCIgPicsXG4gICAgICAgICc8bGkgY2xhc3M9XCJpY29uLWNzcy1wYW5lbFwiIGRhdGEtaWQ9XCJjc3MtcGFuZWxcIiBkYXRhLWNvZGVUeXBlPVwiY3NzXCI+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1hbmRyb2lkLXBhbmVsXCIgZGF0YS1pZD1cImFuZHJvaWQtcGFuZWxcIiBkYXRhLWNvZGVUeXBlPVwiYW5kcm9pZFwiID48L2xpPicsXG4gICAgICAgICc8bGkgY2xhc3M9XCJpY29uLWlvcy1wYW5lbFwiIGRhdGEtaWQ9XCJpb3MtcGFuZWxcIiBkYXRhLWNvZGVUeXBlPVwiaW9zXCIgPjwvbGk+JyxcbiAgICAgICAgJzwvdWw+J1xuICAgIF0uam9pbignJyk7XG4gICAgdmFyIGNzcyA9IFtcbiAgICAgICAgJzxkaXYgaWQ9XCJjc3MtcGFuZWxcIiBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JyxcbiAgICAgICAgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiJyArIChsYXllckRhdGEuY3NzLmxlbmd0aCArIDEpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICsgbGF5ZXJEYXRhLmNzcy5qb2luKFwiXFxyXFxuXCIpICsgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgdmFyIGFuZHJvaWQgPSBbXTtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgYW5kcm9pZC5wdXNoKCc8ZGl2IGlkPVwiYW5kcm9pZC1wYW5lbFwiICBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiJmx0O1RleHRWaWV3XFxyXFxuXCIgKyBnZXRBbmRyb2lkV2l0aEhlaWdodChsYXllckRhdGEpICtcbiAgICAgICAgICAgIFwiYW5kcm9pZDp0ZXh0PVxcXCJcIiArIGxheWVyRGF0YS5jb250ZW50ICsgXCJcXFwiXFxyXFxuXCIgKyBcImFuZHJvaWQ6dGV4dENvbG9yPVxcXCJcIiArIGxheWVyRGF0YS5jb2xvcltcImFyZ2ItaGV4XCJdICsgXCJcXFwiXFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJhbmRyb2lkOnRleHRTaXplPVxcXCJcIiArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5mb250U2l6ZSwgdHJ1ZSkgKyBcIlxcXCJcXHJcXG5cIiArIFwiLyZndDtcIiArICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXllckRhdGEudHlwZSA9PSBcInNoYXBlXCIpIHtcbiAgICAgICAgYW5kcm9pZC5wdXNoKCc8ZGl2IGlkPVwiYW5kcm9pZC1wYW5lbFwiIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCImbHQ7Vmlld1xcclxcblwiICsgZ2V0QW5kcm9pZFdpdGhIZWlnaHQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICBnZXRBbmRyb2lkU2hhcGVCYWNrZ3JvdW5kKGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgXCIvJmd0O1wiICsgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxheWVyRGF0YS50eXBlID09IFwic2xpY2VcIikge1xuICAgICAgICBhbmRyb2lkLnB1c2goJzxkaXYgaWQ9XCJhbmRyb2lkLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIiZsdDtJbWFnZVZpZXdcXHJcXG5cIiArIGdldEFuZHJvaWRXaXRoSGVpZ2h0KGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgZ2V0QW5kcm9pZEltYWdlU3JjKGxheWVyRGF0YSkgKyBcIi8mZ3Q7XCIgK1xuICAgICAgICAgICAgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIHZhciBpb3MgPSBbXTtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgaW9zLnB1c2goJzxkaXYgaWQ9XCJpb3MtcGFuZWxcIiAgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIlVJTGFiZWwgKmxhYmVsID0gW1tVSUxhYmVsIGFsbG9jXSBpbml0XTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcImxhYmVsLmZyYW1lID0gQ0dSZWN0TWFrZShcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC54KSArIFwiXFwsIFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LnkpICsgXCJcXCwgXCIgK1xuICAgICAgICAgICAgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LndpZHRoKSArIFwiXFwsIFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LmhlaWdodCkgKyBcIik7XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJsYWJlbC50ZXh0ID0gXFxAXFxcIlwiICsgbGF5ZXJEYXRhLmNvbnRlbnQgKyBcIlxcXCI7XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJsYWJlbC5mb250ID0gW1VJRm9udCBmb250V2l0aE5hbWU6XFxAXFxcIlwiICsgbGF5ZXJEYXRhLmZvbnRGYWNlICsgXCJcXFwiIHNpemU6XCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLmZvbnRTaXplKSArIFwiXTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcImxhYmVsLnRleHRDb2xvciA9IFtVSUNvbG9yIGNvbG9yV2l0aFJlZDpcIiArIGxheWVyRGF0YS5jb2xvci5yZ2IuciArIFwiLzI1NS4wIGdyZWVuOlwiICsgbGF5ZXJEYXRhLmNvbG9yLnJnYi5nICsgXCIvMjU1LjAgYmx1ZTpcIiArIGxheWVyRGF0YS5jb2xvci5yZ2IuYiArIFwiLzI1NS4wIGFscGhhOlwiICsgbGF5ZXJEYXRhLmNvbG9yLmFscGhhICsgXCIvMjU1LjBdO1xcclxcblwiICtcbiAgICAgICAgICAgICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXllckRhdGEudHlwZSA9PSBcInNoYXBlXCIpIHtcbiAgICAgICAgaW9zLnB1c2goJzxkaXYgaWQ9XCJpb3MtcGFuZWxcIiBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiVUlWaWV3ICp2aWV3ID0gW1tVSVZpZXcgYWxsb2NdIGluaXRdO1xcclxcblwiICtcbiAgICAgICAgICAgIFwidmlldy5mcmFtZSA9IENHUmVjdE1ha2UoXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC55KSArIFwiXFwsIFwiICtcbiAgICAgICAgICAgIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC53aWR0aCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgXCIpO1xcclxcblwiICtcbiAgICAgICAgICAgIGdldElPU1NoYXBlQmFja2dyb3VuZChsYXllckRhdGEpICtcbiAgICAgICAgICAgICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXllckRhdGEudHlwZSA9PSBcInNsaWNlXCIpIHtcbiAgICAgICAgaW9zLnB1c2goJzxkaXYgaWQ9XCJpb3MtcGFuZWxcIiBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiVUlJbWFnZVZpZXcgKmltYWdlVmlldyA9IFtbVUlJbWFnZVZpZXcgYWxsb2NdIGluaXRdO1xcclxcblwiICtcbiAgICAgICAgICAgIFwiaW1hZ2VWaWV3LmZyYW1lID0gQ0dSZWN0TWFrZShcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC54KSArIFwiXFwsIFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LnkpICsgXCJcXCwgXCIgK1xuICAgICAgICAgICAgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LndpZHRoKSArIFwiXFwsIFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LmhlaWdodCkgKyBcIik7XFxyXFxuXCIgK1xuICAgICAgICAgICAgZ2V0SU9TSW1hZ2VTcmMobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnQ09ERSBURU1QTEFURScsIFt0YWIsIGNzcywgYW5kcm9pZC5qb2luKCcnKSwgaW9zLmpvaW4oJycpXS5qb2luKCcnKSwgdHJ1ZSk7XG59XG5leHBvcnRzLnJlbmRlckNvZGVUZW1wbGF0ZSA9IHJlbmRlckNvZGVUZW1wbGF0ZTtcbmZ1bmN0aW9uIGdldEFuZHJvaWRXaXRoSGVpZ2h0KGxheWVyRGF0YSkge1xuICAgIHJldHVybiBcImFuZHJvaWQ6bGF5b3V0X3dpZHRoPVxcXCJcIiArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LndpZHRoLCBmYWxzZSkgKyBcIlxcXCJcXHJcXG5cIiArIFwiYW5kcm9pZDpsYXlvdXRfaGVpZ2h0PVxcXCJcIiArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LmhlaWdodCwgZmFsc2UpICsgXCJcXFwiXFxyXFxuXCI7XG59XG5mdW5jdGlvbiBnZXRBbmRyb2lkU2hhcGVCYWNrZ3JvdW5kKGxheWVyRGF0YSkge1xuICAgIHZhciBjb2xvckNvZGUgPSBcIlwiO1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSBcInNoYXBlXCIgfHwgdHlwZW9mIChsYXllckRhdGEuZmlsbHMpID09ICd1bmRlZmluZWQnIHx8IGxheWVyRGF0YS5maWxscy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIGNvbG9yQ29kZTtcbiAgICB2YXIgZjtcbiAgICBmb3IgKGYgaW4gbGF5ZXJEYXRhLmZpbGxzKSB7XG4gICAgICAgIGlmIChsYXllckRhdGEuZmlsbHNbZl0uZmlsbFR5cGUudG9Mb3dlckNhc2UoKSA9PSBcImNvbG9yXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcImFuZHJvaWQ6YmFja2dyb3VuZD1cXFwiXCIgKyBsYXllckRhdGEuZmlsbHNbZl0uY29sb3JbXCJhcmdiLWhleFwiXSArIFwiXFxcIlxcclxcblwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb2xvckNvZGU7XG59XG5mdW5jdGlvbiBnZXRBbmRyb2lkSW1hZ2VTcmMobGF5ZXJEYXRhKSB7XG4gICAgaWYgKGxheWVyRGF0YS50eXBlICE9IFwic2xpY2VcIiB8fCB0eXBlb2YgKGxheWVyRGF0YS5leHBvcnRhYmxlKSA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgcmV0dXJuIFwiYW5kcm9pZDpzcmM9XFxcIlxcQG1pcG1hcC9cIiArIGxheWVyRGF0YS5leHBvcnRhYmxlWzBdLm5hbWUgKyBcIi5cIiArIGxheWVyRGF0YS5leHBvcnRhYmxlWzBdLmZvcm1hdCArIFwiXFxcIlxcclxcblwiO1xufVxuZnVuY3Rpb24gZ2V0SU9TU2hhcGVCYWNrZ3JvdW5kKGxheWVyRGF0YSkge1xuICAgIHZhciBjb2xvckNvZGUgPSBcIlwiO1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSBcInNoYXBlXCIgfHwgdHlwZW9mIChsYXllckRhdGEuZmlsbHMpID09ICd1bmRlZmluZWQnIHx8IGxheWVyRGF0YS5maWxscy5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIGNvbG9yQ29kZTtcbiAgICB2YXIgZjtcbiAgICBmb3IgKGYgaW4gbGF5ZXJEYXRhLmZpbGxzKSB7XG4gICAgICAgIGlmIChsYXllckRhdGEuZmlsbHNbZl0uZmlsbFR5cGUudG9Mb3dlckNhc2UoKSA9PSBcImNvbG9yXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBcInZpZXcuYmFja2dyb3VuZENvbG9yID0gW1VJQ29sb3IgY29sb3JXaXRoUmVkOlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yLnJnYi5yICsgXCIvMjU1LjAgZ3JlZW46XCIgKyBsYXllckRhdGEuZmlsbHNbZl0uY29sb3IucmdiLmcgKyBcIi8yNTUuMCBibHVlOlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yLnJnYi5iICsgXCIvMjU1LjAgYWxwaGE6XCIgKyBsYXllckRhdGEuZmlsbHNbZl0uY29sb3IuYWxwaGEgKyBcIi8yNTUuMF1cXDtcXHJcXG5cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3JDb2RlO1xufVxuZnVuY3Rpb24gZ2V0SU9TSW1hZ2VTcmMobGF5ZXJEYXRhKSB7XG4gICAgaWYgKGxheWVyRGF0YS50eXBlICE9IFwic2xpY2VcIiB8fCB0eXBlb2YgKGxheWVyRGF0YS5leHBvcnRhYmxlKSA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgcmV0dXJuIFwiaW1hZ2VWaWV3LmltYWdlID0gW1VJSW1hZ2UgaW1hZ2VOYW1lZDpcXEBcXFwiXCIgKyBsYXllckRhdGEuZXhwb3J0YWJsZVswXS5uYW1lICsgXCIuXCIgKyBsYXllckRhdGEuZXhwb3J0YWJsZVswXS5mb3JtYXQgKyBcIlxcXCJdO1xcclxcblwiO1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvY29kZVRlbXBsYXRlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2V4cG9ydGFibGUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvZXhwb3J0YWJsZS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJFeHBvcnRhYmxlKGxheWVyRGF0YSkge1xuICAgIGlmICghbGF5ZXJEYXRhLmV4cG9ydGFibGUgfHwgIWxheWVyRGF0YS5leHBvcnRhYmxlLmxlbmd0aClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHZhciBleHBIVE1MID0gW10sIHBhdGggPSAnYXNzZXRzLyc7XG4gICAgZXhwSFRNTC5wdXNoKCc8dWwgY2xhc3M9XCJleHBvcnRhYmxlXCI+Jyk7XG4gICAgbGF5ZXJEYXRhLmV4cG9ydGFibGUuZm9yRWFjaChleHBvcnRhYmxlID0+IHtcbiAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aCArIGV4cG9ydGFibGUucGF0aDtcbiAgICAgICAgZXhwSFRNTC5wdXNoKCc8bGk+JywgJzxhIGhyZWY9XCInICsgZmlsZVBhdGggKyAnXCJ0YXJnZXQ9XCJfYmxhbmtcIiBkYXRhLWZvcm1hdD1cIicgKyBleHBvcnRhYmxlLmZvcm1hdC50b1VwcGVyQ2FzZSgpICsgJ1wiPjxpbWcgc3JjPVwiJyArIGZpbGVQYXRoICsgJ1wiIGFsdD1cIicgKyBleHBvcnRhYmxlLnBhdGggKyAnXCI+JyArIGV4cG9ydGFibGUucGF0aC5yZXBsYWNlKCdkcmF3YWJsZS0nLCAnJykgKyAnPC9hPicsICc8L2xpPicpO1xuICAgIH0pO1xuICAgIGV4cEhUTUwucHVzaCgnPC91bD4nKTtcbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdFWFBPUlRBQkxFJywgZXhwSFRNTC5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlckV4cG9ydGFibGUgPSByZW5kZXJFeHBvcnRhYmxlO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvZXhwb3J0YWJsZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9maWxscy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvZmlsbHMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJGaWxscyhsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5maWxscyB8fCAhbGF5ZXJEYXRhLmZpbGxzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHZhciBmaWxscyA9IFtdO1xuICAgIGxldCBmaWxsc0RhdGEgPSBsYXllckRhdGEuZmlsbHM7XG4gICAgZm9yIChsZXQgaSA9IGZpbGxzRGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZmlsbCA9IGZpbGxzRGF0YVtpXTtcbiAgICAgICAgZmlsbHMucHVzaCgnPGRpdiBjbGFzcz1cIml0ZW0gaXRlbXMtZ3JvdXBcIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKGZpbGwuZmlsbFR5cGUpICsgJzpcIj4nKTtcbiAgICAgICAgaWYgKGZpbGwuZmlsbFR5cGUudG9Mb3dlckNhc2UoKSA9PSBcImNvbG9yXCIpIHtcbiAgICAgICAgICAgIGZpbGxzLnB1c2goc2hhcmVkXzEuY29sb3JJdGVtKGZpbGwuY29sb3IpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpbGxzLnB1c2goJzxkaXYgY2xhc3M9XCJncmFkaWVudFwiPicpO1xuICAgICAgICAgICAgZmlsbC5ncmFkaWVudC5jb2xvclN0b3BzLmZvckVhY2goZ3JhZGllbnQgPT4gZmlsbHMucHVzaChzaGFyZWRfMS5jb2xvckl0ZW0oZ3JhZGllbnQuY29sb3IpKSk7XG4gICAgICAgICAgICBmaWxscy5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgICAgICBmaWxscy5wdXNoKCc8L2Rpdj4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnRklMTFMnLCBmaWxscy5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlckZpbGxzID0gcmVuZGVyRmlsbHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9maWxscy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9mb250LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZvbnQudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyRm9udChsYXllckRhdGEpIHtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gJ3RleHQnKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIGZvbnRGYW1pbHkgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0ZhbWlseScpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsPjxpbnB1dCBpZD1cImZvbnQtZmFtaWx5XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBsYXllckRhdGEuZm9udEZhY2UgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpLCB0ZXh0Q29sb3IgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0NvbG9yJykgKyAnOlwiPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JcIj4nLFxuICAgICAgICBzaGFyZWRfMS5jb2xvckl0ZW0obGF5ZXJEYXRhLmNvbG9yKSxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSwgZm9udFNpemUgPSAobGF5ZXJEYXRhLmZvbnRTaXplKSA/IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnU2l6ZScpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsPjxpbnB1dCBpZD1cIm9wYWNpdHlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5mb250U2l6ZSwgdHJ1ZSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbD48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnLCBzcGFjaW5nID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTcGFjaW5nJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQ2hhcmFjdGVyJykgKyAnXCI+PGlucHV0IGlkPVwibGV0dGVyLXNwYWNpbmdcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5sZXR0ZXJTcGFjaW5nLCB0cnVlKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0xpbmUnKSArICdcIj48aW5wdXQgaWQ9XCJsaW5lLWhlaWdodFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgKGxheWVyRGF0YS5saW5lSGVpZ2h0ID8gaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLmxpbmVIZWlnaHQsIHRydWUpIDogJ0F1dG8nKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyksIGNvbnRlbnQgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQ29udGVudCcpICsgJ1wiPjx0ZXh0YXJlYSBpZD1cImNvbnRlbnRcIiByb3dzPVwiMlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIiBzdHlsZT1cImZvbnQtZmFtaWx5OiAnICsgbGF5ZXJEYXRhLmZvbnRGYWNlICsgJywgc2Fucy1zZXJpZlwiPicgKyBsYXllckRhdGEuY29udGVudCArICc8L3RleHRhcmVhPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ1RZUEVGQUNFJywgW2ZvbnRGYW1pbHksIHRleHRDb2xvciwgZm9udFNpemUsIHNwYWNpbmcsIGNvbnRlbnRdLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyRm9udCA9IHJlbmRlckZvbnQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9mb250LnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2luZGV4LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb2RlVGVtcGxhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29kZVRlbXBsYXRlICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2NvZGVUZW1wbGF0ZS50c1wiKTtcbmNvbnN0IHByb3BlcnRpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcHJvcGVydGllcyAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9wcm9wZXJ0aWVzLnRzXCIpO1xuY29uc3Qgc2hhZG93c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFkb3dzICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYWRvd3MudHNcIik7XG5jb25zdCBib3JkZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2JvcmRlcnMgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvYm9yZGVycy50c1wiKTtcbmNvbnN0IGZvbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZm9udCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9mb250LnRzXCIpO1xuY29uc3QgZXhwb3J0YWJsZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9leHBvcnRhYmxlICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2V4cG9ydGFibGUudHNcIik7XG5jb25zdCBmaWxsc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9maWxscyAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9maWxscy50c1wiKTtcbmZ1bmN0aW9uIGluc3BlY3RvcigpIHtcbiAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICghY29tbW9uXzEuc3RhdGUuY3VycmVudCAmJiAhY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnMgJiYgIWNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzW2NvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXhdKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBsYXllckRhdGEgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVyc1tjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4XTtcbiAgICBsZXQgaHRtbCA9IFtcbiAgICAgICAgJzxoMj4nICsgbGF5ZXJEYXRhLm5hbWUgKyAnPC9oMj4nLFxuICAgICAgICBwcm9wZXJ0aWVzXzEucmVuZGVyUHJvcGVydGllcyhsYXllckRhdGEpLFxuICAgICAgICBmaWxsc18xLnJlbmRlckZpbGxzKGxheWVyRGF0YSksXG4gICAgICAgIGZvbnRfMS5yZW5kZXJGb250KGxheWVyRGF0YSksXG4gICAgICAgIGJvcmRlcnNfMS5yZW5kZXJCb3JkZXJzKGxheWVyRGF0YSksXG4gICAgICAgIHNoYWRvd3NfMS5yZW5kZXJTaGFkb3dzKGxheWVyRGF0YSksXG4gICAgICAgIGNvZGVUZW1wbGF0ZV8xLnJlbmRlckNvZGVUZW1wbGF0ZShsYXllckRhdGEpLFxuICAgICAgICBleHBvcnRhYmxlXzEucmVuZGVyRXhwb3J0YWJsZShsYXllckRhdGEpLFxuICAgIF07XG4gICAgbGV0IGluc3BlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnNwZWN0b3InKTtcbiAgICBpbnNwZWN0b3IuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgaW5zcGVjdG9yLmlubmVySFRNTCA9IGh0bWwuam9pbignJyk7XG4gICAgLy8gc2VsZWN0IHByZXZpb3VzbHkgdXNlZCB0YWJcbiAgICBsZXQgbGkgPSBpbnNwZWN0b3IucXVlcnlTZWxlY3RvcignW2RhdGEtY29kZVR5cGU9JyArIGNvbW1vbl8xLnN0YXRlLmNvZGVUeXBlICsgJ10nKTtcbiAgICBpZiAobGkpIHtcbiAgICAgICAgbGkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0Jyk7XG4gICAgICAgIGluc3BlY3Rvci5xdWVyeVNlbGVjdG9yKFwiI1wiICsgbGkuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjY29kZS10YWIgbGknKS5mb3JFYWNoKGxpID0+IGxpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzO1xuICAgICAgICBsZXQgaWQgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJyk7XG4gICAgICAgIGNvbW1vbl8xLnN0YXRlLmNvZGVUeXBlID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2RlVHlwZScpO1xuICAgICAgICB0YXJnZXQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdsaS5zZWxlY3QnKS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3QnKTtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xuICAgICAgICAoX2EgPSBpbnNwZWN0b3IucXVlcnlTZWxlY3RvcignZGl2Lml0ZW0uc2VsZWN0JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3QnKTtcbiAgICAgICAgaW5zcGVjdG9yLnF1ZXJ5U2VsZWN0b3IoXCIjXCIgKyBpZCkuY2xhc3NMaXN0LmFkZCgnc2VsZWN0Jyk7XG4gICAgfSkpO1xufVxuZXhwb3J0cy5pbnNwZWN0b3IgPSBpbnNwZWN0b3I7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9pbmRleC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9wcm9wZXJ0aWVzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL3Byb3BlcnRpZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyUHJvcGVydGllcyhsYXllckRhdGEpIHtcbiAgICBsZXQgcG9zaXRpb24gPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1Bvc2l0aW9uJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnWCcpICsgJ1wiPjxpbnB1dCBpZD1cInBvc2l0aW9uLXhcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LngpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnWScpICsgJ1wiPjxpbnB1dCBpZD1cInBvc2l0aW9uLXlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LnkpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICBsZXQgc2l6ZSA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnU2l6ZScpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1dpZHRoJykgKyAnXCI+PGlucHV0IGlkPVwic2l6ZS13aWR0aFwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJlY3Qud2lkdGgpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnSGVpZ2h0JykgKyAnXCI+PGlucHV0IGlkPVwic2l6ZS1oZWlnaHRcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LmhlaWdodCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xuICAgIGxldCBvcGFjaXR5ID0gKHR5cGVvZiBsYXllckRhdGEub3BhY2l0eSA9PSAnbnVtYmVyJykgPyBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ09wYWNpdHknKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbD48aW5wdXQgaWQ9XCJvcGFjaXR5XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBNYXRoLnJvdW5kKGxheWVyRGF0YS5vcGFjaXR5ICogMTAwMDApIC8gMTAwICsgJyVcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpIDogJyc7XG4gICAgbGV0IHJhZGl1cyA9IChsYXllckRhdGEucmFkaXVzKSA/IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnUmFkaXVzJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwicmFkaXVzXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmFkaXVzWzBdKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpIDogJyc7XG4gICAgbGV0IHN0eWxlTmFtZSA9IChsYXllckRhdGEuc3R5bGVOYW1lKSA/IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnU3R5bGUnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbD48aW5wdXQgaWQ9XCJzdHlsZU5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGxheWVyRGF0YS5zdHlsZU5hbWUgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpIDogJyc7XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnUFJPUEVSVElFUycsIFtwb3NpdGlvbiwgc2l6ZSwgb3BhY2l0eSwgcmFkaXVzLCBzdHlsZU5hbWVdLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyUHJvcGVydGllcyA9IHJlbmRlclByb3BlcnRpZXM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9wcm9wZXJ0aWVzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYWRvd3MudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhZG93cy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJTaGFkb3dzKGxheWVyRGF0YSkge1xuICAgIGlmICghbGF5ZXJEYXRhLnNoYWRvd3MgfHwgIWxheWVyRGF0YS5zaGFkb3dzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHZhciBzaGFkb3dzID0gW107XG4gICAgZm9yIChsZXQgaSA9IGxheWVyRGF0YS5zaGFkb3dzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBzaGFkb3cgPSBsYXllckRhdGEuc2hhZG93c1tpXTtcbiAgICAgICAgc2hhZG93cy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbXMtZ3JvdXBcIj4nLCAnPGg0PicgKyBjb21tb25fMS5sb2NhbGl6ZShzaGFkb3cudHlwZSArICcgU2hhZG93JykgKyAnPC9oND4nLCAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdPZmZzZXQnKSArICc6XCI+JywgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdYJykgKyAnXCI+PGlucHV0IGlkPVwib2Zmc2V0LXhcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKHNoYWRvdy5vZmZzZXRYKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLCAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1knKSArICdcIj48aW5wdXQgaWQ9XCJvZmZzZXQteVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoc2hhZG93Lm9mZnNldFkpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsICc8L2Rpdj4nLCAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdFZmZlY3QnKSArICc6XCI+JywgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdCbHVyJykgKyAnXCI+PGlucHV0IGlkPVwib2Zmc2V0LXhcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKHNoYWRvdy5ibHVyUmFkaXVzKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLCAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1NwcmVhZCcpICsgJ1wiPjxpbnB1dCBpZD1cIm9mZnNldC15XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShzaGFkb3cuc3ByZWFkKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQ29sb3InKSArICc6XCI+Jywgc2hhcmVkXzEuY29sb3JJdGVtKHNoYWRvdy5jb2xvciksICc8L2Rpdj4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ1NIQURPV1MnLCBzaGFkb3dzLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyU2hhZG93cyA9IHJlbmRlclNoYWRvd3M7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFkb3dzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29tbW9uXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIGNvbG9ySXRlbShjb2xvcikge1xuICAgIHZhciBjb2xvck5hbWUgPSAoY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzKSA/IGNvbW1vbl8yLnByb2plY3QuY29sb3JOYW1lc1tjb2xvclsnYXJnYi1oZXgnXV0gOiAnJztcbiAgICBjb2xvck5hbWUgPSAoY29sb3JOYW1lKSA/ICcgZGF0YS1uYW1lPVwiJyArIGNvbG9yTmFtZSArICdcIicgOiAnJztcbiAgICByZXR1cm4gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbG9yXCInICsgY29sb3JOYW1lICsgJz4nLFxuICAgICAgICAnPGxhYmVsPjxlbT48aSBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6JyArIGNvbG9yWydjc3MtcmdiYSddICsgJztcIj48L2k+PC9lbT48L2xhYmVsPjxpbnB1dCBkYXRhLWNvbG9yPVwiJyArIGVuY29kZVVSSShKU09OLnN0cmluZ2lmeShjb2xvcikpICsgJ1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgY29sb3JbY29tbW9uXzEuc3RhdGUuY29sb3JGb3JtYXRdICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG59XG5leHBvcnRzLmNvbG9ySXRlbSA9IGNvbG9ySXRlbTtcbmZ1bmN0aW9uIHByb3BlcnR5VHlwZSh0aXRsZSwgY29udGVudCwgaXNDb2RlKSB7XG4gICAgdmFyIG5vcGFkZGluZyA9IGlzQ29kZSA/ICcgc3R5bGU9XCJwYWRkaW5nOjBcIicgOiAnJztcbiAgICByZXR1cm4gWyc8c2VjdGlvbj4nLFxuICAgICAgICAnPGgzPicgKyBjb21tb25fMi5sb2NhbGl6ZSh0aXRsZSkgKyAnPC9oMz4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbnRleHRcIicgKyBub3BhZGRpbmcgKyAnPicsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9zZWN0aW9uPidcbiAgICBdLmpvaW4oJycpO1xufVxuZXhwb3J0cy5wcm9wZXJ0eVR5cGUgPSBwcm9wZXJ0eVR5cGU7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9sYXllcnMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvbGF5ZXJzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBpbnRlcmZhY2VzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzICovIFwiLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzLnRzXCIpO1xuZXhwb3J0cy5NYXBBcnRib2FyZElEVG9JbmRleCA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIGxheWVycygpIHtcbiAgICBzcGVjTGF5ZXJzKCk7XG4gICAgZmxvd0xheWVycygpO1xufVxuZXhwb3J0cy5sYXllcnMgPSBsYXllcnM7XG5mdW5jdGlvbiBzcGVjTGF5ZXJzKCkge1xuICAgIGxldCBsYXllcnNIVE1MID0gW107XG4gICAgY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnMuZm9yRWFjaCgobGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChsYXllci50eXBlID09IGludGVyZmFjZXNfMS5TTVR5cGUuZ3JvdXAgfHwgbGF5ZXIudHlwZSA9PSBpbnRlcmZhY2VzXzEuU01UeXBlLmhvdHNwb3QpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB4ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC54KTtcbiAgICAgICAgbGV0IHkgPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LnkpO1xuICAgICAgICBsZXQgd2lkdGggPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LndpZHRoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QuaGVpZ2h0KTtcbiAgICAgICAgbGV0IGNsYXNzTmFtZXMgPSBbJ2xheWVyJ107XG4gICAgICAgIGNsYXNzTmFtZXMucHVzaCgnbGF5ZXItJyArIGxheWVyLm9iamVjdElEKTtcbiAgICAgICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT0gaW5kZXgpXG4gICAgICAgICAgICBjbGFzc05hbWVzLnB1c2goJ3NlbGVjdGVkJyk7XG4gICAgICAgIGxheWVyc0hUTUwucHVzaChbYFxuPGRpdiBpZD1cImxheWVyLSR7aW5kZXh9XCIgXG4gICAgY2xhc3M9XCIke2NsYXNzTmFtZXMuam9pbignICcpfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiIFxuICAgIHBlcmNlbnRhZ2Utd2lkdGg9XCIke2hlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKGxheWVyLnJlY3Qud2lkdGgsIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpfVwiIFxuICAgIHBlcmNlbnRhZ2UtaGVpZ2h0PVwiJHtoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShsYXllci5yZWN0LmhlaWdodCwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpfVwiIFxuICAgIGRhdGEtd2lkdGg9XCIke2hlbHBlcl8xLnVuaXRTaXplKGxheWVyLnJlY3Qud2lkdGgpfVwiIFxuICAgIGRhdGEtaGVpZ2h0PVwiJHtoZWxwZXJfMS51bml0U2l6ZShsYXllci5yZWN0LmhlaWdodCl9XCIgXG4gICAgc3R5bGU9XCJsZWZ0OiAke3h9cHg7IHRvcDogJHt5fXB4OyB3aWR0aDogJHt3aWR0aH1weDsgaGVpZ2h0OiAke2hlaWdodH1weDtcIlxuPlxuICAgIDxpIGNsYXNzPVwidGxcIj48L2k+PGkgY2xhc3M9XCJ0clwiPjwvaT48aSBjbGFzcz1cImJsXCI+PC9pPjxpIGNsYXNzPVwiYnJcIj48L2k+XG4gICAgPGIgY2xhc3M9XCJldCBoXCI+PC9iPjxiIGNsYXNzPVwiZXIgdlwiPjwvYj48YiBjbGFzcz1cImViIGhcIj48L2I+PGIgY2xhc3M9XCJlbCB2XCI+PC9iPlxuPC9kaXY+YF0uam9pbignJykpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYXllcnMnKS5pbm5lckhUTUwgPSBsYXllcnNIVE1MLmpvaW4oJycpO1xufVxuZnVuY3Rpb24gZmxvd0xheWVycygpIHtcbiAgICBleHBvcnRzLk1hcEFydGJvYXJkSURUb0luZGV4ID0gY29tbW9uXzEucHJvamVjdC5hcnRib2FyZHMucmVkdWNlKChwLCBjLCBpKSA9PiB7XG4gICAgICAgIHBbYy5vYmplY3RJRF0gPSBpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9LCB7ICdiYWNrJzogLTEgfSk7XG4gICAgbGV0IGxheWVyc0hUTUwgPSBbXTtcbiAgICBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVycy5maWx0ZXIobGF5ZXIgPT4gbGF5ZXIuZmxvdyAmJiBleHBvcnRzLk1hcEFydGJvYXJkSURUb0luZGV4W2xheWVyLmZsb3cudGFyZ2V0SWRdICE9PSB1bmRlZmluZWQpXG4gICAgICAgIC5mb3JFYWNoKChsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHggPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LngpO1xuICAgICAgICBsZXQgeSA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QueSk7XG4gICAgICAgIGxldCB3aWR0aCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3Qud2lkdGgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC5oZWlnaHQpO1xuICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IFsnZmxvdyddO1xuICAgICAgICBsYXllcnNIVE1MLnB1c2goW2BcbjxkaXYgY2xhc3M9XCIke2NsYXNzTmFtZXMuam9pbignICcpfVwiXG4gICAgZGF0YS1mbG93LXRhcmdldD1cIiR7bGF5ZXIuZmxvdy50YXJnZXRJZH1cIlxuICAgIHN0eWxlPVwibGVmdDogJHt4fXB4OyB0b3A6ICR7eX1weDsgd2lkdGg6ICR7d2lkdGh9cHg7IGhlaWdodDogJHtoZWlnaHR9cHg7XCJcbj48L2Rpdj5gXS5qb2luKCcnKSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3dzJykuaW5uZXJIVE1MID0gbGF5ZXJzSFRNTC5qb2luKCcnKTtcbn1cblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvbGF5ZXJzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvbm90ZXMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9ub3Rlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5mdW5jdGlvbiBub3RlcygpIHtcbiAgICB2YXIgbm90ZXNIVE1MID0gW107XG4gICAgY29tbW9uXzEuc3RhdGUuY3VycmVudC5ub3Rlcy5mb3JFYWNoKChub3RlLCBpbmRleCkgPT4ge1xuICAgICAgICBub3Rlc0hUTUwucHVzaCgnPGRpdiBjbGFzcz1cIm5vdGVcIiBkYXRhLWluZGV4PVwiJyArIChpbmRleCArIDEpICsgJ1wiIHN0eWxlPVwibGVmdDogJyArIGhlbHBlcl8xLnpvb21TaXplKG5vdGUucmVjdC54KSArICdweDsgdG9wOiAnICsgaGVscGVyXzEuem9vbVNpemUobm90ZS5yZWN0LnkpICsgJ3B4O1wiPjxkaXYgc3R5bGU9XCJ3aGl0ZS1zcGFjZTpub3dyYXA7ZGlzcGxheTpub25lO1wiPicgKyBub3RlLm5vdGUgKyAnPC9kaXY+PC9kaXY+Jyk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vdGVzJykuaW5uZXJIVE1MID0gbm90ZXNIVE1MLmpvaW4oJycpO1xufVxuZXhwb3J0cy5ub3RlcyA9IG5vdGVzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9ub3Rlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3NjcmVlbi50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9zY3JlZW4udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGZsb3dfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cy9mbG93ICovIFwiLi91aS9ldmVudHMvZmxvdy50c1wiKTtcbmZ1bmN0aW9uIHVwZGF0ZVNjcmVlbihyZXNldFNjcm9sbCA9IGZhbHNlKSB7XG4gICAgbGV0IGltYWdlRGF0YSA9IChjb21tb25fMS5zdGF0ZS5jdXJyZW50LmltYWdlQmFzZTY0KSA/IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaW1hZ2VCYXNlNjQgOiBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmltYWdlUGF0aCArICc/JyArIGNvbW1vbl8xLnRpbWVzdGFtcDtcbiAgICBsZXQgc2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NjcmVlbicpO1xuICAgIGxldCB2aWV3ZXJJbm5lciA9IHNjcmVlbi5wYXJlbnRFbGVtZW50O1xuICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgIHNjcmVlbi5zdHlsZS53aWR0aCA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpICsgJ3B4JztcbiAgICBzY3JlZW4uc3R5bGUuaGVpZ2h0ID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpICsgJ3B4JztcbiAgICBzY3JlZW4uc3R5bGUuYmFja2dyb3VuZCA9ICcjRkZGIHVybCgnICsgaW1hZ2VEYXRhICsgJykgbm8tcmVwZWF0JztcbiAgICBzY3JlZW4uc3R5bGUuYmFja2dyb3VuZFNpemUgPSBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKSArICdweCAnICsgaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpICsgJ3B4JztcbiAgICAvLyB2aWV3ZXIgc2l6ZVxuICAgIGxldCBtYXhTaXplID0gTWF0aC5tYXgoY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQsIHZpZXdlci5jbGllbnRXaWR0aCwgdmlld2VyLmNsaWVudEhlaWdodCkgKiA1O1xuICAgIGlmIChmbG93XzEuZmxvd01vZGUpIHtcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUud2lkdGggPSBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKSArICdweCc7XG4gICAgICAgIHZpZXdlcklubmVyLnN0eWxlLmhlaWdodCA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSArICdweCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5MZWZ0ID0gJzAnO1xuICAgICAgICBzY3JlZW4uc3R5bGUubWFyZ2luVG9wID0gJzAnO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpZXdlcklubmVyLnN0eWxlLndpZHRoID0gbWF4U2l6ZSArICdweCc7XG4gICAgICAgIHZpZXdlcklubmVyLnN0eWxlLmhlaWdodCA9IG1heFNpemUgKyAncHgnO1xuICAgICAgICBzY3JlZW4uc3R5bGUubWFyZ2luTGVmdCA9IC1oZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoIC8gMikgKyAncHgnO1xuICAgICAgICBzY3JlZW4uc3R5bGUubWFyZ2luVG9wID0gLWhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0IC8gMikgKyAncHgnO1xuICAgIH1cbiAgICAvLyBzZXQgc2Nyb2xsXG4gICAgaWYgKHJlc2V0U2Nyb2xsKSB7XG4gICAgICAgIHZpZXdlci5zY3JvbGxMZWZ0ID0gZmxvd18xLmZsb3dNb2RlID8gMCA6IChtYXhTaXplIC0gdmlld2VyLmNsaWVudFdpZHRoKSAvIDI7XG4gICAgICAgIGxldCBzdWl0SGlnaHQgPSBzY3JlZW4uY2xpZW50SGVpZ2h0ID4gdmlld2VyLmNsaWVudEhlaWdodCA/IHNjcmVlbi5jbGllbnRIZWlnaHQgOiB2aWV3ZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsVG9wID0gZmxvd18xLmZsb3dNb2RlID8gMCA6IChtYXhTaXplIC0gc3VpdEhpZ2h0KSAvIDI7XG4gICAgfVxufVxuZXhwb3J0cy51cGRhdGVTY3JlZW4gPSB1cGRhdGVTY3JlZW47XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL3NjcmVlbi50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3NsaWNlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9zbGljZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmZ1bmN0aW9uIHNsaWNlcygpIHtcbiAgICBpZiAoIWNvbW1vbl8xLnByb2plY3Quc2xpY2VzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHNsaWNlTGlzdEhUTUwgPSBbXTtcbiAgICBzbGljZUxpc3RIVE1MLnB1c2goJzx1bCBjbGFzcz1cImFzc2V0LWxpc3RcIj4nKTtcbiAgICBjb21tb25fMS5wcm9qZWN0LnNsaWNlcy5mb3JFYWNoKHNsaWNlTGF5ZXIgPT4ge1xuICAgICAgICBpZiAoc2xpY2VMYXllci5leHBvcnRhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBhc3NldCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoc2xpY2VMYXllci5leHBvcnRhYmxlKSkucG9wKCk7XG4gICAgICAgICAgICBzbGljZUxpc3RIVE1MLnB1c2goJzxsaSBpZD1cInNsaWNlLScgKyBzbGljZUxheWVyLm9iamVjdElEICsgJ1wiIGNsYXNzPVwic2xpY2UtbGF5ZXJcIiBkYXRhLW9iamVjdElkPVwiJyArIHNsaWNlTGF5ZXIub2JqZWN0SUQgKyAnXCI+JywgJzxwaWN0dXJlPjxpbWcgc3JjPVwiJyArICdhc3NldHMvJyArIGFzc2V0LnBhdGggKyAnXCIgYWx0PVwiXCI+PC9waWN0dXJlPicsICc8ZGl2PicsICc8aDM+JyArIHNsaWNlTGF5ZXIubmFtZSArICc8L2gzPicsICc8c21hbGw+JyArIGhlbHBlcl8xLnVuaXRTaXplKHNsaWNlTGF5ZXIucmVjdC53aWR0aCkgKyAnIMOXICcgKyBoZWxwZXJfMS51bml0U2l6ZShzbGljZUxheWVyLnJlY3QuaGVpZ2h0KSArICc8L3NtYWxsPicsICc8L2Rpdj4nLCAnPC9saT4nKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHNsaWNlTGlzdEhUTUwucHVzaCgnPC91bD4nKTtcbiAgICBpZiAoY29tbW9uXzEucHJvamVjdC5zbGljZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2xpY2VzJykuaW5uZXJIVE1MID0gc2xpY2VMaXN0SFRNTC5qb2luKCcnKTtcbiAgICB9XG59XG5leHBvcnRzLnNsaWNlcyA9IHNsaWNlcztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvc2xpY2VzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvdW5pdC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvdW5pdC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29tbW9uXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIHVuaXQoKSB7XG4gICAgbGV0IHVuaXRzRGF0YSA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ0RldmljZSBzd2l0Y2gnKSxcbiAgICAgICAgICAgIHVuaXRzOiBbXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBjb21tb25fMi5sb2NhbGl6ZSgnV2ViIFZpZXcnKSArICcgLSBweCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAxIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBjb21tb25fMi5sb2NhbGl6ZSgnaU9TIERldmljZXMnKSArICcgLSBwdCcsIHVuaXQ6ICdwdCcsIHNjYWxlOiAxIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiBjb21tb25fMi5sb2NhbGl6ZSgnQW5kcm9pZCBEZXZpY2VzJykgKyAnIC0gZHAvc3AnLCB1bml0OiAnZHAvc3AnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBjb21tb25fMi5sb2NhbGl6ZSgnQ29udmVydCB0byBwaXhlbHMnKSxcbiAgICAgICAgICAgIHVuaXRzOiBbXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnSU9TICcgKyBjb21tb25fMi5sb2NhbGl6ZSgnUG9pbnRzJykgKyAnIEAxeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAxIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnSU9TICcgKyBjb21tb25fMi5sb2NhbGl6ZSgnUmV0aW5hJykgKyAnIEAyeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAyIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnSU9TICcgKyBjb21tb25fMi5sb2NhbGl6ZSgnUmV0aW5hIEhEJykgKyAnIEAzeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAzIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBMRFBJIEAwLjc1eCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAuNzUgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIE1EUEkgQDF4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDEgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIEhEUEkgQDEuNXgnLCB1bml0OiAncHgnLCBzY2FsZTogMS41IH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBYSERQSSBAMngnLCB1bml0OiAncHgnLCBzY2FsZTogMiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgWFhIRFBJIEAzeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAzIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBYWFhIRFBJIEA0eCcsIHVuaXQ6ICdweCcsIHNjYWxlOiA0IH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ0NvbnZlcnQgdG8gb3RoZXJzJyksXG4gICAgICAgICAgICB1bml0czogW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NTUyBSZW0gOHB4JywgdW5pdDogJ3JlbScsIHNjYWxlOiAxIC8gOCB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NTUyBSZW0gMTBweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDEwIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQ1NTIFJlbSAxMnB4JywgdW5pdDogJ3JlbScsIHNjYWxlOiAxIC8gMTIgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDE0cHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyAxNCB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NTUyBSZW0gMTZweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDE2IH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnVWJ1bnR1IEdyaWQnLCB1bml0OiAnZ3UnLCBzY2FsZTogMSAvIDI3IH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgIF07XG4gICAgbGV0IHVuaXRIdG1sID0gW107XG4gICAgbGV0IHVuaXRMaXN0ID0gW107XG4gICAgbGV0IHVuaXRDdXJyZW50ID0gJyc7XG4gICAgbGV0IGhhc0N1cnJlbnQgPSAnJztcbiAgICB1bml0c0RhdGEuZm9yRWFjaChkYXRhID0+IHtcbiAgICAgICAgaWYgKGRhdGEubmFtZSlcbiAgICAgICAgICAgIHVuaXRMaXN0LnB1c2goJzxsaSBjbGFzcz1cInN1Yi10aXRsZVwiPicgKyBjb21tb25fMi5sb2NhbGl6ZShkYXRhLm5hbWUpICsgJzwvbGk+Jyk7XG4gICAgICAgIGRhdGEudW5pdHMuZm9yRWFjaCh1bml0ID0+IHtcbiAgICAgICAgICAgIHZhciBjaGVja2VkID0gJyc7XG4gICAgICAgICAgICBpZiAoIWhhc0N1cnJlbnQgJiYgdW5pdC51bml0ID09IGNvbW1vbl8xLnN0YXRlLnVuaXQpIHtcbiAgICAgICAgICAgICAgICBjaGVja2VkID0gJyBjaGVja2VkPVwiY2hlY2tlZFwiJztcbiAgICAgICAgICAgICAgICBoYXNDdXJyZW50ID0gY29tbW9uXzIubG9jYWxpemUodW5pdC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVuaXRMaXN0LnB1c2goJzxsaT48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJyZXNvbHV0aW9uXCIgZGF0YS1uYW1lPVwiJyArIGNvbW1vbl8yLmxvY2FsaXplKHVuaXQubmFtZSkgK1xuICAgICAgICAgICAgICAgICdcIiBkYXRhLXVuaXQ9XCInICsgdW5pdC51bml0ICtcbiAgICAgICAgICAgICAgICAnXCIgZGF0YS1zY2FsZT1cIicgKyB1bml0LnNjYWxlICsgJ1wiJyArIGNoZWNrZWQgK1xuICAgICAgICAgICAgICAgICc+PHNwYW4+JyArIGNvbW1vbl8yLmxvY2FsaXplKHVuaXQubmFtZSkgKyAnPC9zcGFuPjwvbGFiZWw+PC9saT4nKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgLy8gaWYgKCFoYXNDdXJyZW50KSB7XG4gICAgLy8gICAgIHVuaXRDdXJyZW50ID0gJzxsaT48bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJyZXNvbHV0aW9uXCIgZGF0YS1uYW1lPVwiJyArIGxvY2FsaXplKCdDdXN0b20nKSArXG4gICAgLy8gICAgICAgICAnICgnICsgc3RhdGUuc2NhbGUgKyAnLCAnICsgc3RhdGUudW5pdCArICcpXCIgZGF0YS11bml0PVwiJyArIHN0YXRlLnVuaXQgK1xuICAgIC8vICAgICAgICAgJ1wiIGRhdGEtc2NhbGU9XCInICsgc3RhdGUuc2NhbGUgK1xuICAgIC8vICAgICAgICAgJ1wiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+JyArIGxvY2FsaXplKCdDdXN0b20nKSArICcgKCcgKyBzdGF0ZS5zY2FsZSArICcsICcgKyBzdGF0ZS51bml0ICsgJyk8L3NwYW4+PC9sYWJlbD48L2xpPic7XG4gICAgLy8gICAgIGhhc0N1cnJlbnQgPSBsb2NhbGl6ZSgnQ3VzdG9tJykgKyAnICgnICsgc3RhdGUuc2NhbGUgKyAnLCAnICsgc3RhdGUudW5pdCArICcpJztcbiAgICAvLyB9XG4gICAgdW5pdEh0bWwucHVzaCgnPGRpdiBjbGFzcz1cIm92ZXJsYXlcIj48L2Rpdj4nLCAnPGgzPicgKyBjb21tb25fMi5sb2NhbGl6ZSgnVW5pdCBzd2l0Y2gnKSArXG4gICAgICAgICc8L2gzPicsICc8cD4nICsgaGFzQ3VycmVudCArICc8L3A+JywgJzx1bD4nLCB1bml0Q3VycmVudCwgdW5pdExpc3Quam9pbignJyksICc8L3VsPicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1bml0JykuaW5uZXJIVE1MID0gdW5pdEh0bWwuam9pbignJyk7XG59XG5leHBvcnRzLnVuaXQgPSB1bml0O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci91bml0LnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvem9vbS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvem9vbS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gem9vbSgpIHtcbiAgICB2YXIgem9vbVRleHQgPSBjb21tb25fMS5zdGF0ZS56b29tICogMTAwICsgJyUnLCBpbkRpc2FibGVkID0gKGNvbW1vbl8xLnN0YXRlLnpvb20gPD0gLjI1KSA/ICcgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnLCBvdXREaXNhYmxlZCA9IChjb21tb25fMS5zdGF0ZS56b29tID49IDQpID8gJyBkaXNhYmxlZD1cImRpc2FibGVkXCInIDogJyc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20nKS5pbm5lckhUTUwgPSBbXG4gICAgICAgICc8YnV0dG9uIGNsYXNzPVwiem9vbS1pblwiJyArIGluRGlzYWJsZWQgKyAnPjwvYnV0dG9uPicsXG4gICAgICAgICc8bGFiZWwgY2xhc3M9XCJ6b29tLXRleHRcIj4nICsgem9vbVRleHQgKyAnPC9sYWJlbD4nLFxuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInpvb20tb3V0XCInICsgb3V0RGlzYWJsZWQgKyAnPjwvYnV0dG9uPidcbiAgICBdLmpvaW4oJycpO1xufVxuZXhwb3J0cy56b29tID0gem9vbTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvem9vbS50cz8iKTsKCi8qKiovIH0pCgovKioqKioqLyB9KTs="></script>
</head>

<body id="app">
    <script>
        let data = '{{data}}';
        meaxure.render(data);
    </script>
		<p>WORKS ONLY IN CHROME</p>
		<script src="../actions.js"></script>
</body>

</html>