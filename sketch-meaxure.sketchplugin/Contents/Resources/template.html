<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <title>Spec Export - Sketch MeaXure</title>
    <link rel="stylesheet" href="data:text/css;base64,ICAgIC8qISBub3JtYWxpemUuY3NzIHY0LjEuMSB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9uZWNvbGFzL25vcm1hbGl6ZS5jc3MgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLG1haW4sbWVudSxuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9cHJvZ3Jlc3N7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9dGVtcGxhdGUsW2hpZGRlbl17ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LXRleHQtZGVjb3JhdGlvbi1za2lwOm9iamVjdHN9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lLXdpZHRoOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbTowO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9YixzdHJvbmd7Zm9udC13ZWlnaHQ6aW5oZXJpdH1iLHN0cm9uZ3tmb250LXdlaWdodDpib2xkZXJ9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW07bWFyZ2luOi42N2VtIDB9bWFya3tiYWNrZ3JvdW5kLWNvbG9yOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1Yntib3R0b206LTAuMjVlbX1zdXB7dG9wOi0wLjVlbX1pbWd7Ym9yZGVyLXN0eWxlOm5vbmV9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3g7aGVpZ2h0OjA7b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24saW5wdXQsc2VsZWN0LHRleHRhcmVhe2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1vcHRncm91cHtmb250LXdlaWdodDpib2xkfWJ1dHRvbixpbnB1dHtvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBbdHlwZT0iYnV0dG9uIl0sW3R5cGU9InJlc2V0Il0sW3R5cGU9InN1Ym1pdCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFt0eXBlPSJidXR0b24iXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0icmVzZXQiXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0ic3VibWl0Il06Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyLXN0eWxlOm5vbmU7cGFkZGluZzowfWJ1dHRvbjotbW96LWZvY3VzcmluZyxbdHlwZT0iYnV0dG9uIl06LW1vei1mb2N1c3JpbmcsW3R5cGU9InJlc2V0Il06LW1vei1mb2N1c3JpbmcsW3R5cGU9InN1Ym1pdCJdOi1tb3otZm9jdXNyaW5ne291dGxpbmU6MXB4IGRvdHRlZCBCdXR0b25UZXh0fWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOmluaGVyaXQ7ZGlzcGxheTp0YWJsZTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjA7d2hpdGUtc3BhY2U6bm9ybWFsfXRleHRhcmVhe292ZXJmbG93OmF1dG99W3R5cGU9ImNoZWNrYm94Il0sW3R5cGU9InJhZGlvIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1bdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sW3R5cGU9Im51bWJlciJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfVt0eXBlPSJzZWFyY2giXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO291dGxpbmUtb2Zmc2V0Oi0ycHh9W3R5cGU9InNlYXJjaCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLFt0eXBlPSJzZWFyY2giXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX06Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6aW5oZXJpdDtvcGFjaXR5Oi41NH06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Zm9udDppbmhlcml0fQoqIHsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYmFja2dyb3VuZDogIzIwMjEyMzsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC42NCk7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyLAo6Oi13ZWJraXQtcmVzaXplciB7CiAgICBiYWNrZ3JvdW5kOiAjMjAyMTIzOwp9CgpodG1sIHsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogMTAwdmg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9Cgpib2R5IHsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgbWluLXdpZHRoOiAxMDI0cHg7CiAgICBmb250LWZhbWlseTogSGVsdmV0aWNhTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGNvbG9yOiAjOTg5QTlDOwogICAgYmFja2dyb3VuZDogIzE5MTkxOTsKICAgIGxldHRlci1zcGFjaW5nOiAxcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9CgpoZWFkZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiA2MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAyMTU7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwp9CgpoZWFkZXIgLmhlYWRlci1jZW50ZXIsCmhlYWRlciAuaGVhZGVyLWxlZnQsCmhlYWRlciAuaGVhZGVyLXJpZ2h0IHsKICAgIHdpZHRoOiAyNDBweDsKICAgIGhlaWdodDogNjBweDsKICAgIGJhY2tncm91bmQ6ICMwRjBGMEY7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGJhY2tncm91bmQ6ICMwMDA7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuem9vbS13aWRnZXQgewogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiAxNjBweDsKfQoKaGVhZGVyIC5oZWFkZXItY2VudGVyIGgxIHsKICAgIGZsZXg6IDE7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlLApoZWFkZXIgLmhlYWRlci1jZW50ZXIgLnNob3ctbm90ZXMgewogICAgcGFkZGluZzogMjBweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgbGluZS1oZWlnaHQ6IDIwcHg7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlIC5zbGlkZWJveCwKaGVhZGVyIC5oZWFkZXItY2VudGVyIC5zaG93LW5vdGVzIC5zbGlkZWJveCB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsKfQoKaGVhZGVyIC5oZWFkZXItbGVmdCB7CiAgICBkaXNwbGF5OiBmbGV4Owp9Cgouem9vbS13aWRnZXQgewogICAgZGlzcGxheTogZmxleDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJvcmRlcjogMDsKICAgIGJhY2tncm91bmQ6ICMzNDg0RjU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi56b29tLXdpZGdldCBidXR0b246YWZ0ZXIsCi56b29tLXdpZGdldCBidXR0b246YmVmb3JlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogOXB4OwogICAgbGVmdDogNXB4OwogICAgY29udGVudDogIiI7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAxMHB4OwogICAgaGVpZ2h0OiAycHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmFmdGVyIHsKICAgIHRvcDogNXB4OwogICAgbGVmdDogOXB4OwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMTBweDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbjpkaXNhYmxlZCB7CiAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgY3Vyc29yOiBkZWZhdWx0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmFmdGVyLAouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kOiAjNjA2MjY0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uLnpvb20taW46YWZ0ZXIgewogICAgZGlzcGxheTogbm9uZTsKfQoKLnpvb20td2lkZ2V0IC56b29tLXRleHQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBsaW5lLWhlaWdodDogMjBweDsKICAgIGZsZXg6IDE7Cn0KCi51bml0LWJveCB7CiAgICBoZWlnaHQ6IDYwcHg7Cn0KCi51bml0LWJveCAub3ZlcmxheSB7CiAgICBjb250ZW50OiAiIjsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNjBweDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2MHB4KTsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC41Nik7CiAgICB6LWluZGV4OiAxOwp9CgoudW5pdC1ib3g6Zm9jdXMgLm92ZXJsYXkgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi51bml0LWJveDpmb2N1cyB7CiAgICBoZWlnaHQ6IGF1dG87CiAgICBvdXRsaW5lOiAwOwp9CgoudW5pdC1ib3ggaDMsCi51bml0LWJveCBwIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHggMjBweCAyMHB4IDU0cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGhlaWdodDogMTAwJTsKICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnVuaXQtYm94IGgzLAoudW5pdC1ib3g6Zm9jdXMgcCB7CiAgICBkaXNwbGF5OiBub25lOwp9CgoudW5pdC1ib3ggaDM6YmVmb3JlLAoudW5pdC1ib3ggcDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxOHB4OwogICAgbGVmdDogMThweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURBQUFBQXdBZ01BQUFBcWJCRVVBQUFBREZCTVZFVUFBQUJoWTJWZ1pHZGdZbVJ1YnhCQ0FBQUFBM1JTVGxNQTVFcFdiVnE0QUFBQUxVbEVRVlFvejJPZ091RDhEd1Rmb0J4MkVPY3ZsTVAvSHdTd2NzREVLSWVLSEVUd0V1WmdSQllpR3FrTkFGSlBOVDlTdzNkL0FBQUFBRWxGVGtTdVFtQ0MpIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyNHB4Owp9CgoudW5pdC1ib3ggdWwgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAxcHggMCAwIDI0MHB4OwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgd2lkdGg6IDI0MHB4OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjFweCk7CiAgICBvdmVyZmxvdzogYXV0bzsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgdHJhbnNpdGlvbjogYWxsIC4xNXMgZWFzZTsKICAgIHotaW5kZXg6IDI7Cn0KCi51bml0LWJveDpmb2N1cyBoMyB7CiAgICBjb2xvcjogIzNBM0EzQTsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgoudW5pdC1ib3g6Zm9jdXMgdWwgewogICAgbWFyZ2luOiAxcHggMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSwKLnVuaXQtYm94IGxhYmVsIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBwYWRkaW5nOiAxNHB4IDIwcHg7Cn0KCi51bml0LWJveCBsYWJlbCB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi51bml0LWJveCBsaTpob3ZlciBsYWJlbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLnBhZ2UtbGlzdCBsYWJlbCBzcGFuLAoudW5pdC1ib3ggbGFiZWwgc3BhbiB7CiAgICBmbGV4OiAxOwp9CgoucGFnZS1saXN0IGlucHV0LAoudW5pdC1ib3ggaW5wdXQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgoucGFnZS1saXN0IHNwYW46YmVmb3JlLAoudW5pdC1ib3ggc3BhbjpiZWZvcmUgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiAxNnB4OwogICAgaGVpZ2h0OiAxNnB4Owp9CgoucGFnZS1saXN0IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUsCi5wYWdlLWxpc3QgbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUsCi51bml0LWJveCBpbnB1dDpjaGVja2VkK3NwYW46YmVmb3JlLAoudW5pdC1ib3ggbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1FBQUFESUNBTUFBQUFwNHJUekFBQUFhVkJNVkVVQUFBQ1ltNXlZbTUwMGhQYURvTUtZdWNzMGhmYVltNTJabnA2Ym5aMDFoZmVZbkoyWm01NDBodmM4aXY4MWhQV1ltNTJZbkoyWm5KMDFoL2cyaWZtY25KdzRoL28xaGZZMWhmVTFoZlkxaGZVMWhmWTBoZmFabko0MWhmWTJoL2FZbkp3MGhmVTBoUGJwayt3QUFBQUFJblJTVGxNQW81TG1DQVAwbkRJVmVIRk5TZzZkaUdWWk5DY2lHdHZTdzdhcmozeHBWa1NFVHZRT21RQUFBUGxKUkVGVWVOcnQxTXR1d2pBUWhlRnhZaE55SVVCQ3dxWGNPdS8va0hXTWw2d3FSbFdsLzF0WXM1b2p6WkVzQUg3clVaWWJNWFpYMVZKc2ZhdDVTTmhxdERJOWwvK3l5dWlicHMvVE9kMXFsTSs3cUI3blpaaFBLZU1nQmxaNTgrR28wV2tXQzYrdXg3SFU2TnlMaWR6MmFua3ZYb3lFcTJiYklIWWFUYTVpNnE1Ukk4WTJaZmtRQUFBQUFBQUFBQUFBQUFBQTRLMTFVYXpGMk5NNVY0aXR3Wm1IaEwyTEt0TnpoZFlxdzNlZHo5TXQzV3FTejJ1ZDI5WExVTzlTUmkwR3FyeTVMcHhMZVJaZVhVOVR5cmg1TVpIYnJwYTM5V0lrREM3YkI3SFR1V1FRVTA4WGRmTE9QL3NWQVFBQUFBQUFBQUFBQUFENFl6ODRoZzhxbEdUWmVRQUFBQUJKUlU1RXJrSmdnZz09KTsKICAgIGJhY2tncm91bmQtc2l6ZTogNTBweCAxMDBweDsKfQoKLnBhZ2UtbGlzdCBsYWJlbDpob3ZlciBzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGxhYmVsOmhvdmVyIHNwYW46YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTUwcHg7Cn0KCi5wYWdlLWxpc3QgaW5wdXQ6Y2hlY2tlZCtzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwogICAgY29sb3I6ICMzQTNBM0E7Cn0KCm1haW4gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7Cn0KCi5pbnNwZWN0b3IsCi5uYXZiYXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgYm90dG9tOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAyNDBweDsKICAgIGJhY2tncm91bmQ6ICMyMzI1Mjc7CiAgICB6LWluZGV4OiA1Owp9CgouaW5zcGVjdG9yIHsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7CiAgICByaWdodDogLTI0MHB4OwogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IuYWN0aXZlIHsKICAgIHJpZ2h0OiAwOwp9CgoubmF2YmFyIHsKICAgIGxlZnQ6IC0yNDBweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7Cn0KCi5uYXZiYXIub24gewogICAgbGVmdDogMDsKfQoKLm5hdmJhciBuYXYgewogICAgd2lkdGg6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwMjA0Owp9CgoubmF2YmFyIHNlY3Rpb24gewogICAgZmxleDogMTsKfQoKLnRhYiB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAxMDAlOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLnRhYiBsaSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGhlaWdodDogNjBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLnRhYiBsaS5jdXJyZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMzI1Mjc7Cn0KCi50YWIgbGk6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDQwcHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQVkxQk1WRVVBQUFCZlltVFkyTmpZMk5oZ1lHUGEydHBkWUdOZllHSFoyZGxnWUdSZlgyTFkyTmhmWUdQWjJkbGRYMlBiMjl2VjFkWFIwZEZkWVdOZ1lHUGIyOXZVMU5SZFhWMWFZV1ZkWFdOWVdHSmJZR0xYMTlmWDE5ZmEydHJYMTlmWTJOaGdZbVR1ZlhsaUFBQUFIM1JTVGxNQTgvTGpacS9tcnpISG5wM1Z5SUpxUlF2N1ZWUWJDMGNzR2pyU1g0bDY1RjBQOVFBQUF2RkpSRUZVZU5ydDNObHU0a0FVUmRIckNUTVlNOFpBR0tyKy95dWJTa2RjUkp5M09sSTZ2ZGNiajF2SVBsRWtyZ0VBQUFBQUFBQ0FVbmp5NVhNbThjbnJaMElJSVlRUVFuNVh5RE5KeUF0Q0NQblhRbjdOdzA0SUlZNkhueEJDekhqWUNTR0VFRUlJK1pFaEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRDhIT0VibGxIOEJpSGpJVFlpZDRpTklJUVFRZ2pKRStLbWk4VmFFK0tPOC9sQkhUSXRRMWlJUTk2TEdPZmlrTGQ3UjJpMEljZDdSMnkxSVc5VnVMdElRMDZUZUZkTFF6Ykw0RitJS0dTWVJmOUNWQ0ZONmxodXBDRnQ2cGdOMHBCRjZxamVUQmt5VHgyVGt5bERicW1qbkVwM3BFOGR4Vkc2STVlUXJLV0RXS2VPN1VFNmlPdVFyS1RMZnRqNkMwc1ZNaTFUeDlWRUlUNGdzVGRWaUEvSTBsUWhQaUF6VTRac3p1SERSUmd5ZFBGRHJRbnhBVkUvSTdNWXM1ZUVUejRnRC92Yy8zendBWG5ZcVVLdTN0R1lLS1QzanRaRVZ0NnhNSkhhTytZbXNuNWtsQmNUOEFGSml0b0VmRUNTYW1vaTcwWDgxQjFOd0Fja3VabUFEMGhTOU9aRUhjMmJxWnk2K0ZkN01wbGxTTXJGMURSOFFJcjUwWFNhVk5Hc05pYlVwb3EySGt6b2VtNXVVOVBxdTdaL053QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvak8zbThuMXZjbXRRbGlaV0IxamJXS1hzVnNQK1R2a0pYdS9rQ0N6MjZhUTdjNkUxdUhUMm1RT3FlUDFRbzJnUTEzaXY4b3YzazNFcnd2NDlTTkZoNjdFTzlRbFIrOTR1ZU9VKzdxQTg4dGF1YThrdU1uSjhsdUdGMHZMYmhaZnpDeTdWWGdoR01ZNnZsRE1TUlcrcUN5elNmeGlZaTdmRWpySkx1N2lpTnk3dUFoT2RYSm5IcDNzNU00NWpEaGJWbDBjMFZsZVpSaFJXbFpGSEZGWVhtR1VaYldOSTdhV1Z4V0MvTFUxaVZINjJ2STUxRTJpejZGNkVxOWh4Tld5NnVPSTN2SmFCNmY2Vy80UVJ4d3NzN1BzN2VzNjNkdlg3V1hEN25iQ1lYY0wyYTY3dVhyWC9kNnlXMjRzdTJFbWZHVjVTUk9lTkJzVEdOcjRwQjFNWTFVOXBuQmxJdlhrTVlXMXlXejJUVldXVmJQZm1NeXdhN3VpNk5yZFlBQUFBQUFBQUFBQUFBQUFBQUR3NUE5NlhEYVdlSHFwK3dBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdCAtNTBweCAwOwogICAgYmFja2dyb3VuZC1zaXplOiAxMDBweCAxNTBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi50YWIgbGkuY3VycmVudDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAwOwp9CgoudGFiIGxpLmljb24tc2xpY2VzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC01MHB4Owp9CgoudGFiIGxpLmljb24tY29sb3JzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC0xMDBweDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDE2cHg7Cn0KCiNpbnNwZWN0b3IgLmNvZGUtaXRlbS5zZWxlY3QgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAudGFiIGxpIHsKICAgIGhlaWdodDogNDBweDsKfQoKI2luc3BlY3RvciAudGFiIGxpOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQW4xQk1WRVVBQUFCZ1ltVFoyZG5mMzkvYjI5dGtaV1puYUdoZ1ltUmdZMlRaMmRscGFXL1oyZG5aMmRuYTJ0cm41K2RnWW1SZ1ltUmdZbVhCd2NIWTJOaGhZMlhaMmRsaFkyVmtaR2hrWldoZ1ltWFoyZGxnWW1SaFltVmhaR1haMmRuWjJkbmIyOXRpWkdaaFltWGEydHJiMjl2WjJkbGdZbVZnWTJUYTJ0cmIyOXRoWkdiYjI5dloyZGxnWW1UWjJkbmEydHJhMnRwaFkyWGUzdDdZMk5oZ1ltUmwreHcvQUFBQU0zUlNUbE1BOFBJZUx6QWdlOWZXRE9lSGZBejE2T0VHN1lmZWJDa1p1cm5Cc1Z2R3NUYzNqbkJUcDZmTFhVVkZKNzZaajVwb1VSVmFXN1Q1QUFBRkhrbEVRVlI0QWUzZHlWTHp5aElFNEpSczBDQVBzanpQTm1BYk1IUFYrei9iL1lXSSt4dHc2eXhPTlJHSHlHL1Z3UzVEbGJTMG9NQXZRMFJFUkVSRVJFUkU5Q0IxTWxpWWE1MGNKa0twczRhRlFPc3NZS0VodGRvd2NLbTFJbGk0a1ZvM01QQ3F0VjVob1NXMUdqQXcwRm9UV0pqOVFOZW5QOUgxaHNPTGxHYXdNTGs4YjJUWWRkU1BYQXMrRGJRMGdGZXorcTRianR3cnZNcnN1dTZVYStrU0Z0YWhnNVQ2c0xBSUhMUVV3RVFtZFdhd2tHdWRxZjk3M2FqckU2MDErQzMzK2hJVzJqOXdyMGZxWnRkMXFSUEN3a0xyQkRCeGJKNTNMYVVIV0JoZm5EZlMwaHhldFkzdmRmZklYY0dydFpSdTRkUENzT3RPUXlrZDRWTlBTMk5ZYUNXbFczejFadGoxUVZ4YTRxdUpaZGNUS1czdzFaMlVWckFRYTJtTHIrNE51MTdJdTQ2ajYwOHdVT2k3MUd2WE4vTHVlWU5QbXEzTXJ1dGJmZmU0eFNmalFXN1k5UmY1a0Z5Ly9VMlJ5SWNtREl6MFF6eWEvRTBSYThXbzY4L3kxKzd1SkVVRkZoNzEvN3I3K3pKRkZKLzh5SzdyZncyZkV6bTFnb1dEbnVvOXhucnFBQk03cVRHOGhZVzkxb2lYc1BGMm5UaFN0Sm93TW9saVBhczN1SUNoelhQNFBjVUdwcmFQM2U4cHRyRFdlVmw1VEZGSlI0ZlRGRmRiK05GODZrc3BlOXJBbC9GVjREZEZwYmlaZVV4UktaYlRmNWVDaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlxQlcyNE5zZ0dNQTdFWUZ2cXZwYmd4VCtnelNUck9rN3lFV2NYL2dPMHV5THREMEh1UWhVSTY5QnFoejloczhnVlk3ZzBrZVE5bXdZaHNtNjNhaHlOSDEwSkpyMnVrRzhpQ1pWamd1WWt4TXpQem1nSjZhZWNyVGtsSjhjQXozbEpVZG5MVitzT2pDV0x2U0xRL29UVzBCbkJXek45WnRwQVZ0dE9lTUpwaUk5NHdxbU5sSnFkOXJ5NmRDRW9hMldvalRTVDRjTEQzdUNPdWpJcDhPRC9aNmdGS2wrT3N4aHFDSG5uNGcwWUdhaTU1K0lYdnB0U09YYWEwTXFrZWxrT2N3c0o4dGhDanVKT0NRd2MxQ0hHSFpDY1FoaEpsQ0hBUFJiWFlmaUZGN0R4S2lyVHQyUmZVTzh0YVNyTmJxd0liVmdRbXY5d2lmQ2psVEVDV2FNQm90QnpEQUlnekFJZzlqSnhDR0RtVndkY3RqWmljTU9admJxc0llZFJsL082amRnWmhMb1djRUVoaHE3VEw3SmRnMFltdXh6L1NiZlQwQkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUlBUZlVkek9NbmhXTEtjNVBMc2JpdlRoMTMzUC81YUVXL2xqQmErVzFYSVhyKzZrZEEyZjdyVVV3YWNpa3ovNkhYaFU5UFNQSUlWUEwxSzZnVThqTFMzaDFZUDgwWVpYVTcrRFZlbDdMVWdscVBZSytCVU9uNDd3TE9nOWp1Rkg4MmsyVEhZM0haUTI3VlVXRHRjdkhaZ2FYMDNqdzM2Wm9yU041bmszWG94U1dEbyt5SWYxN1YxcktCWGJxb3puV3VrdWx2ZURubjdvUnJCekU0ckRRd0VqcjRFNnpGUFRHOUJoWjNrRE91eTkvc2x4WmJpQmlVbXVUcjB0YkR5TFU5S0JqVWQxaWxQWTZJVGlFaDVoSXczVUpSakR5SXM0dFdCa3BFNERXTm1KMHhGRzl1bzBocFdWdUdTd01sZVhIR1l5Y1ZuQlNrOWREakFqUHhCRWZ5Skk5Z09qbGF0TEQyWVNjV3JBU0t4T2w3QXlFNmMyakV6VktZS1ZsamlGYi9hN3NQM3RSYmtUdDFYaC81WFI3T1cza0Jxck4xaEl0Y1o4NHJja2xlekZaMGtxK1FnbWJxVE9BeXk4YXAwNWJBeWx4cTNYdTcyeWhJMXJjVXY4di85cURDTkZJazUzc0ZIRTZuUVAvNytCWjdCeXJ5NVQySG4yL1lsWTg3WGJIY05Pa2Zoc2VpV04vVGE5MHNqOC8zT0Z5MXpQdUlLdFl5THZrdWRXYXkyVkZteU5ZMzBYUDBaWGk2NTlqa3FubFlTcjlyRTYzK3lHMlhvRGEra2dEZzdSdURxLzd1UGVZZ3NpSWlJaUlpSWlJaUlpSWlJaUlpS2lmL1kvamxGR2VjS0FVbk1BQUFBQVNVVk9SSzVDWUlJPSk7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5zZWxlY3QgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpOwp9CgojaW5zcGVjdG9yIC50YWIgbGkuc2VsZWN0OmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXg6IDA7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWFuZHJvaWQtcGFuZWw6YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb24teTogLTUwcHg7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWlvcy1wYW5lbDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi15OiAtMTAwcHg7Cn0KCi5zY3JlZW4tdmlld2VyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpOwogICAgYmFja2dyb3VuZDogIzE5MTkxOSB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQVFNQUFBQkp0T2kzQUFBQUJsQk1WRVVBQUFBQUFBQ2xaN25QQUFBQUFuUlNUbE1BVXZQMi9lQUFBQUFSU1VSQlZBalhZNkFTWUQ2QVRsQUhBQUR5NWdNTjBmQ3FGd0FBQUFCSlJVNUVya0pnZ2c9PSk7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDsKICAgIG92ZXJmbG93OiBhdXRvOwp9Cgouc2NyZWVuLXZpZXdlciAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBub25lOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgd2lkdGg6IDEwMHZ3OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7CiAgICB0b3A6IDYwcHg7CiAgICBsZWZ0OiAwOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgei1pbmRleDogMjsKICAgIGN1cnNvcjogbm9uZTsKfQoKLnNjcmVlbi12aWV3ZXIubW92aW5nLXNjcmVlbiAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnNjcmVlbi12aWV3ZXItaW5uZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCi5zY3JlZW4gewogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDUwJTsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5zY3JlZW4uZmxvdyB7CiAgICBsZWZ0OiAwOwogICAgdG9wOiAwOwp9CgojZmxvd3MgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCiNmbG93cyAuZmxvdyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUE2MjM7CiAgICBvcGFjaXR5OiAwOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CgojZmxvd3Muc2hvdy1mbG93cyAuZmxvdyB7CiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuNXM7CiAgICBhbmltYXRpb24tbmFtZTogZmxvd1RpcDsKfQoKQGtleWZyYW1lcyBmbG93VGlwIHsKICAgIDAlIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQoKICAgIDUwJSB7CiAgICAgICAgb3BhY2l0eTogMC41OwogICAgfQoKICAgIDEwMCUgewogICAgICAgIG9wYWNpdHk6IDA7CiAgICB9Cn0KCi5sYXllciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ob3ZlciwKLnNlbGVjdGVkIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNFRTY3MjM7Cn0KCi5oYXMtc2xpY2UgewogICAgYm9yZGVyOiAxcHggZGFzaGVkICNFRTY3MjM7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgODUsIDAsIC4zMik7Cn0KCi5sYXllciBiLAoubGF5ZXIgaSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm9yZGVyOiAxcHggc29saWQgI0VFNjcyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBkaXNwbGF5OiBub25lOwp9CgoubGF5ZXIgYiB7CiAgICB3aWR0aDogM3B4OwogICAgaGVpZ2h0OiAzcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9Cgouc2VsZWN0ZWQgaSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLmRpc3RhbmNlLmggZGl2W2RhdGEtd2lkdGhdOmJlZm9yZSwKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciwKLnNlbGVjdGVkOmJlZm9yZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGxlZnQ6IDUwJTsKICAgIHRvcDogLTIzcHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtd2lkdGgpOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICBoZWlnaHQ6IDEycHg7CiAgICBsaW5lLWhlaWdodDogMTJweDsKICAgIHBhZGRpbmc6IDRweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB6LWluZGV4OiAxOwp9CgoucGVyY2VudGFnZS1tb2RlIC5kaXN0YW5jZS5oIGRpdltkYXRhLXdpZHRoXTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyLAoucGVyY2VudGFnZS1tb2RlIC5zZWxlY3RlZDpiZWZvcmUgewogICAgY29udGVudDogYXR0cihwZXJjZW50YWdlLXdpZHRoKTsKfQoKLnNlbGVjdGVkLmhpZGRlbjphZnRlciwKLnNlbGVjdGVkLmhpZGRlbjpiZWZvcmUgewogICAgZGlzcGxheTogbm9uZTsKfQoKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtaGVpZ2h0KTsKICAgIGxlZnQ6IGF1dG87CiAgICByaWdodDogMDsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKGNhbGMoMTAwJSArIDNweCkpIHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyIHsKICAgIGNvbnRlbnQ6IGF0dHIocGVyY2VudGFnZS1oZWlnaHQpOwp9CgoubGF5ZXIgLnRsIHsKICAgIHRvcDogLTNweDsKICAgIGxlZnQ6IC0zcHg7Cn0KCi5sYXllciAudHIgewogICAgdG9wOiAtM3B4OwogICAgcmlnaHQ6IC0zcHg7Cn0KCi5sYXllciAuYmwgewogICAgYm90dG9tOiAtM3B4OwogICAgbGVmdDogLTNweDsKfQoKLmxheWVyIC5iciB7CiAgICBib3R0b206IC0zcHg7CiAgICByaWdodDogLTNweDsKfQoKLmhvdmVyIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MTliZjk7Cn0KCi5zZWxlY3RlZCB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjRUU2NzIzOwp9CgoucnVsZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXI6IDFweCBkYXNoZWQgIzQxOWJmOTsKfQoKLnJ1bGVyLmggewogICAgYm9yZGVyLWxlZnQ6IDA7CiAgICBib3JkZXItcmlnaHQ6IDA7Cn0KCi5ydWxlci52IHsKICAgIGJvcmRlci10b3A6IDA7CiAgICBib3JkZXItYm90dG9tOiAwOwp9CgouZGlzdGFuY2UsCi5kaXN0YW5jZSBkaXYsCi5kaXN0YW5jZSBkaXY6YmVmb3JlLAouZGlzdGFuY2U6YWZ0ZXIsCi5kaXN0YW5jZTpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwp9CgouZGlzdGFuY2UudiwKLmRpc3RhbmNlLnYgZGl2IHsKICAgIHdpZHRoOiAxcHg7Cn0KCi5kaXN0YW5jZS5oLAouZGlzdGFuY2UuaCBkaXYgewogICAgaGVpZ2h0OiAxcHg7Cn0KCi5kaXN0YW5jZS52IGRpdiB7CiAgICB0b3A6IDA7CiAgICBib3R0b206IDA7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaCBkaXYgewogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYmFja2dyb3VuZDogI0VFNjcyMzsKfQoKLmRpc3RhbmNlLnY6YWZ0ZXIsCi5kaXN0YW5jZS52OmJlZm9yZSB7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMDsKICAgIGxlZnQ6IC0ycHg7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiAxcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaDphZnRlciwKLmRpc3RhbmNlLmg6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgdG9wOiAtMnB4OwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxcHg7CiAgICBoZWlnaHQ6IDVweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7Cn0KCi5kaXN0YW5jZS52OmFmdGVyIHsKICAgIHRvcDogYXV0bzsKICAgIGJvdHRvbTogMDsKfQoKLmRpc3RhbmNlLmg6YWZ0ZXIgewogICAgbGVmdDogYXV0bzsKICAgIHJpZ2h0OiAwOwp9Cgoubm90ZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBtYXJnaW46IC0xMnB4IDAgMCAtMTJweDsKICAgIHdpZHRoOiAyNHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgYmFja2dyb3VuZDogI0Y1QTYyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDAgM3B4IHJnYmEoMCwgMCwgMCwgLjI0KTsKfQoKLm5vdGU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1pbmRleCk7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBsaW5lLWhlaWdodDogMjBweDsKfQoKLm5vdGU6aG92ZXIgewogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC42NCk7Cn0KCi5ub3RlIGRpdiB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDUwJTsKICAgIGxlZnQ6IDMwcHg7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBwYWRkaW5nOiA4cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC41KTsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7CiAgICBjb2xvcjogIzIyMjsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgIHotaW5kZXg6IDI7Cn0KCi5ub3RlIGRpdjpiZWZvcmUgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAtN3B4OwogICAgdG9wOiA1MCU7CiAgICB3aWR0aDogOHB4OwogICAgaGVpZ2h0OiAxNHB4OwogICAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBY0NBTUFBQUJmNzg4b0FBQUFObEJNVkVVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEUjBkRUFBQUFBQUFBQUFBQUFBQUFBQUFETnpjMEFBQUFBQUFEYTJ0cms1T1QvLy8vNWF1RkZBQUFBRVhSU1RsTUFBZ1lLRWh5ZE5Da1lEaU9mTGllV2p6NE1VajRBQUFCclNVUkJWQmpUWlpGYkRvQWdFQU5WRkhtSU92ZS9yRVJqV0dqL3BzbkNianYxZ2c3bkdUcGNGbXRVZEE0TXU3UW1NTHpHR01Id2x2TU5oczl5QVkzRDdxa2FtY1lIci83NXlzMUlNUmVQTmJid3NSbzZvby9xdDdyWTZPaHhlcjRHcEJGcXlGcURGdFdxZkFENGRRcmxXRG1TaEFBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogOHB4IDE0cHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5zbGlkZWJveCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLnNsaWRlYm94IGlucHV0IHsKICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoKLnNsaWRlYm94IGxhYmVsIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGJhY2tncm91bmQ6ICM4OTg5ODk7CiAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIC4zKTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2U7Cn0KCi5zbGlkZWJveCBsYWJlbDphZnRlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMnB4OwogICAgbGVmdDogMnB4OwogICAgd2lkdGg6IDE2cHg7CiAgICBoZWlnaHQ6IDE2cHg7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgI0Y4RjlGNiAwLCAjRjVGNUY1IDEwMCUpOwogICAgYm94LXNoYWRvdzogMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAuMyk7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjE1cyBlYXNlOwp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbCB7CiAgICBiYWNrZ3JvdW5kOiAjMzQ4NEY1Owp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbDphZnRlciB7CiAgICBsZWZ0OiAyMnB4Owp9CgouaW5zcGVjdG9yIHsKICAgIG92ZXJmbG93OiBhdXRvOwp9CgouaW5zcGVjdG9yIGgyLAouaW5zcGVjdG9yIGgzIHsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBmb250LXdlaWdodDogNDAwOwp9CgouaW5zcGVjdG9yIGgyIHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouaW5zcGVjdG9yIGgzIHsKICAgIGhlaWdodDogMzJweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAzMnB4OwogICAgcGFkZGluZzogMCAxNnB4OwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDAsIDQsIDksIC4zMikgMCwgcmdiYSgwLCAyLCA0LCAwKSAxMDAlKTsKfQoKLmluc3BlY3RvciAuY29udGV4dCB7CiAgICBwYWRkaW5nOiAxNnB4Owp9CgouaW5zcGVjdG9yIC5jb2xvciwKLmluc3BlY3RvciAuaXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luOiAwIDAgOHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtW2RhdGEtbGFiZWxdOmJlZm9yZSB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtbGFiZWwpOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogNzBweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGhlaWdodDogMjRweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4Owp9CgouaW5zcGVjdG9yIC5jb2xvcjpsYXN0LWNoaWxkLAouaW5zcGVjdG9yIC5pdGVtOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouaW5zcGVjdG9yIC5pdGVtIGRpdiwKLmluc3BlY3RvciAuaXRlbSBsYWJlbCB7CiAgICBmbGV4OiAxOwp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsIHsKICAgIHBhZGRpbmc6IDAgNHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsOmZpcnN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgNHB4IDAgMDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpsYXN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgMCAwIDRweDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpvbmx5LWNoaWxkIHsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLml0ZW0gbGFiZWxbZGF0YS1sYWJlbF06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLWxhYmVsKTsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIGlucHV0LAouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDNweCA0cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KTsKICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgIGJvcmRlcjogMDsKICAgIGxpbmUtaGVpZ2h0OiAxOHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBvdXRsaW5lOiAwOwogICAgcmVzaXplOiBub25lOwp9CgouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIG1pbi13aWR0aDogMTAwJTsKICAgIGhlaWdodDogYXV0bzsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5jb250ZXh0IGg0IHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICBwb3NpdGlvbjogMDsKICAgIG1hcmdpbjogMCAwIDE2cHg7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmNvbnRleHQgaDQ6YmVmb3JlIHsKICAgIG1hcmdpbjogMCAxMHB4IDAgMDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYm9yZGVyLXJhZGl1czogMXB4OwogICAgYmFja2dyb3VuZDogIzM0ODRGNTsKfQoKLmNvbnRleHQgLmNvbG9ycyB7CiAgICBtYXJnaW46IDAgMCA4cHg7Cn0KCi5jb250ZXh0IC5jb2xvcnM6bGFzdC1jaGlsZCwKLmNvbnRleHQgLml0ZW1zLWdyb3VwOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouY29udGV4dCAuaXRlbXMtZ3JvdXAgewogICAgbWFyZ2luOiAwIDAgMjRweDsKfQoKLmluc3BlY3RvciAuY29sb3IgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yW2RhdGEtbmFtZV06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLW5hbWUpOwogICAgZm9udC1zaXplOiAxMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogMCAwIDAgMjRweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIC5jb2xvciBsYWJlbCwKLmluc3BlY3RvciAuY29sb3IgbGFiZWwgZW0sCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpOwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDZweCA2cHg7CiAgICBib3JkZXItcmFkaXVzOiAycHggMCAwIDJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouaW5zcGVjdG9yIC5pdGVtIC5jb2xvciBpbnB1dCB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGlucHV0IHsKICAgIHBhZGRpbmctbGVmdDogMzJweDsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLmdyYWRpZW50IC5jb2xvciBsYWJlbDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxMnB4OwogICAgbGVmdDogMTFweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAyOwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3IgbGFiZWw6YWZ0ZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA4cHg7CiAgICBsZWZ0OiA4cHg7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiA4cHg7CiAgICBoZWlnaHQ6IDhweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAzOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3JbZGF0YS1uYW1lXSBsYWJlbDpiZWZvcmUgewogICAgaGVpZ2h0OiA0MnB4Owp9CgouZ3JhZGllbnQgLmNvbG9yOmxhc3QtY2hpbGQgbGFiZWw6YmVmb3JlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5uYXZiYXIgc2VjdGlvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBvdmVyZmxvdzogYXV0bzsKfQoKLmFydGJvYXJkLWxpc3QsCi5hc3NldC1saXN0LAouY29sb3ItbGlzdCB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLmFydGJvYXJkLWxpc3QgbGkgewogICAgcGFkZGluZzogMTZweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5hcnRib2FyZC1saXN0IGxpOmhvdmVyLAouYXNzZXQtbGlzdCBsaTpob3ZlciwKLmNvbG9yLWxpc3QgbGk6aG92ZXIgewogICAgYmFja2dyb3VuZDogIzE5MUExRTsKfQoKLmFydGJvYXJkLWxpc3QgbGkuYWN0aXZlIHsKICAgIGJhY2tncm91bmQ6ICM0NTQ3NDg7Cn0KCi5hcnRib2FyZC1saXN0Lm5vLXByZXZpZXcgLnByZXZpZXctaW1nIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5wcmV2aWV3LWltZyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiA0NHB4OwogICAgaGVpZ2h0OiA0NHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMzIpOwp9CgoucHJldmlldy1pbWc6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcgJzsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5wcmV2aWV3LWltZyBpbWcgewogICAgbWF4LXdpZHRoOiA0NHB4OwogICAgbWF4LWhlaWdodDogNDRweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CgoucGFnZXMtc2VsZWN0LAouZmxvdy1zdGFydHMgLnRpdGxlIHsKICAgIHBhZGRpbmc6IDI0cHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5wYWdlcy1zZWxlY3QgaDMsCi5mbG93LXN0YXJ0cyAudGl0bGUgaDMgewogICAgbWFyZ2luOiAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjRkZGOwp9CgoucGFnZXMtc2VsZWN0IGgzIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnBhZ2UtbGlzdCBlbSwKLnBhZ2VzLXNlbGVjdCBoMyBlbSwKLmZsb3ctc3RhcnRzIC50aXRsZSBoMyBlbSB7CiAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICBmb250LXNpemU6IDEwcHg7CiAgICBjb2xvcjogIzk4OUE5QzsKfQoKLnBhZ2VzLXNlbGVjdCBoMzphZnRlciB7CiAgICBjb250ZW50OiAiIjsKICAgIG1hcmdpbjogMCAwIDAgNHB4OwogICAgd2lkdGg6IDEycHg7CiAgICBoZWlnaHQ6IDZweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQU1BZ01BQUFBRlhwWG1BQUFBQ1ZCTVZFVUFBQUJpWkdaZ1ltVGhZMW1IQUFBQUFuUlNUbE1BZ0pzclRoZ0FBQUExU1VSQlZBalhGY2t4QVFBZ0RNVEFaNmtJMUtBSE5Zam9BaXBKc21TNDdFYzMwM1hLblF5M0FrSVJtNVVVVUFJaEVSSWhFZm9xbVJmcGNxY0ZjQUFBQUFCSlJVNUVya0pnZ2c9PSkgbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDZweDsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBtYXJnaW46IC0zMnB4IDAgMDsKICAgIHBhZGRpbmc6IDhweDsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICB3aWR0aDogMTgwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgYm94LXNoYWRvdzogMCAycHggMTBweCAwIHJnYmEoMCwgMCwgMCwgLjgpOwp9CgoucGFnZXMtc2VsZWN0OmZvY3VzIHsKICAgIG91dGxpbmU6IDA7Cn0KCi5wYWdlcy1zZWxlY3Q6Zm9jdXMgLnBhZ2UtbGlzdCB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IGxhYmVsIHsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5wYWdlcy1zZWxlY3QgLnBhZ2UtbGlzdCBsYWJlbCwKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHNwYW4gewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5wYWdlLWxpc3Qgc3BhbjpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IDhweDsKfQoKLmV4cG9ydGFibGUgewogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMTkxQTFFOwogICAgYm9yZGVyOiAxcHggc29saWQgIzJEMkYzMTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLmV4cG9ydGFibGUgbGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZzogMCA4cHg7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBsaW5lLWhlaWdodDogMzJweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjIyOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgouZXhwb3J0YWJsZSBsaSBhIHsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgb3V0bGluZTogMDsKfQoKLmV4cG9ydGFibGUgbGk6bGFzdC1jaGlsZCB7CiAgICBib3JkZXI6IDA7Cn0KCi5leHBvcnRhYmxlIGltZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvcGFjaXR5OiAwOwp9CgouYXNzZXQtbGlzdCBsaSwKLmNvbG9yLWxpc3QgbGkgewogICAgcGFkZGluZzogMjRweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jb2xvci1saXN0IGxpIHsKICAgIGN1cnNvcjogZGVmYXVsdDsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSwKLmNvbG9yLWxpc3QgbGkgZW0gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB3aWR0aDogMzJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0QTRBNEE7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApOwogICAgYmFja2dyb3VuZC1zaXplOiA4cHggOHB4OwogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCA0cHggNHB4OwogICAgYm9yZGVyLXJhZGl1czogMnB4Owp9CgouY29sb3ItbGlzdCBsaSBlbSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKSwgbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5jb2xvci1saXN0IGxpIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAwOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYsCi5hc3NldC1saXN0IGxpIGRpdiwKLmNvbG9yLWxpc3QgbGkgZGl2IHsKICAgIHBhZGRpbmc6IDAgMCAwIDE2cHg7CiAgICBmbGV4OiAxOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYgewogICAgcGFkZGluZzogNnB4IDAgNHB4IDE2cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgaGVpZ2h0OiAxMDAlOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSBpbWcgewogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIG1heC13aWR0aDogMjhweDsKICAgIG1heC1oZWlnaHQ6IDI4cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YWZ0ZXIgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IDA7Cn0KCi5hcnRib2FyZC1saXN0IGgzLAouYXNzZXQtbGlzdCBoMywKLmNvbG9yLWxpc3QgaDMgewogICAgbWFyZ2luOiAwIDAgNHB4OwogICAgcGFkZGluZzogMDsKICAgIGNvbG9yOiAjRkZGOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKfQoKLmFydGJvYXJkLWxpc3Qgc21hbGwsCi5hc3NldC1saXN0IHNtYWxsLAouY29sb3ItbGlzdCBzbWFsbCB7CiAgICBmb250LXNpemU6IDEwcHg7Cn0KCi5hcnRib2FyZC1saXN0IGxpLmFjdGl2ZSBzbWFsbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmVtcHR5IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMzAlOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLm1lc3NhZ2UgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICBtYXgtd2lkdGg6IDMyMHB4OwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC45Nik7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBjb2xvcjogI0ZGRjsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMzIpOwogICAgei1pbmRleDogOTsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5jdXJzb3IgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAtOHB4IDAgMCAtOHB4OwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICB3aWR0aDogMTZweDsKICAgIGhlaWdodDogMTdweDsKICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAxN3B4OwogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWlDQU1BQUFBSmJDdk5BQUFCVmxCTVZFVUFBQUFHQmdZQkFRRUJBUUVBQUFBQUFBQUFBQUFuSnljQUFBQTNOemNEQXdNTkRRMEFBQUFBQUFBQUFBQWhJU0ViR3hzWUdCZ1BEdzhDQWdJREF3TUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQXZMeThVRkJRQ0FnSUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQStQajVCUVVFL1B6OHpNek1DQWdJREF3TURBd01DQWdJQkFRRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE3T3pzQUFBQUFBQUFBQUFBQUFBRC8vLzhBQUFCaFlXRWRIUjM2K3ZwVlZWWDkvZjMyOXZiejgvUGIyOXVCZ1lGMGRIUmpZMk1zTEN6MzkvZnQ3ZTNyNit2UjBkRnhjWEZTVWxKTlRVM1gxOWZLeXNxNHVMaDNkM2RYVjFkSlNVbEdSa1pFUkVUdjcrL282T2pqNCtPOHZMeTF0YlcwdExTbnA2ZW1wcWFUazVPS2lvcUdob1p0YlcxbloyZGNYRnhQVDAvRHc4UEN3c0t3c0xDdXJxNnBxYW1ob2FHWm1abU5qWTE2ZW5wZVhsNUpuRzd4QUFBQVBIUlNUbE1BL2ZqOUIxRUMvamYrL3Z3OEV3NysvZno4NXQyNm1wUm9ZeVg5L09MTW9IbEtNaUwrL2YzOThlblkwY0MxdExHb2pvdUdWaDRaL3FweVF5N1VHL3ZMQUFBQ0hVbEVRVlE0VDMzUVZWZGJVUkJBNGJrM1Fqd1FJSWE3dTlUMlFEd1F4eDJLMStYL3YvUWhselJwV04ydjUxdG5abzFJUzRFUng0YjhKNGVwYWh0KzVjSHBpS3pHUmZ6bXhINTVSMGZ0c2VFUlp3dUlxR0dZNnhMVExLU05vVGxWN1cwV1k3WjhxalJoZmxneEFEclVPTWpjYXJRSmpHZ1ppcUhlY0JmQXVCNENmYjFOd0tjSHdKME9kZ0tjNmpXdzFTMHk1ckxYZ2QxOEFJcUdkdFZCR2RqcHRpK3I5c1RyWXFrckJTUzFIK0JFejRHam5vam12bnV0UVE3OUFueFRMOEN4Rm9Da3FYblltYWtENThBa2tQRVlBRFVQUUZWREdhak9XbXNPYXhib1U0RG5FRUJOODBEZmdvajRvZzcvcHUwUWVOUTA4TnhaMzJRUEVwNDFjUzZycXZsdXFUOEZYNE1KSVBjRWtIUURuOVFoNjVyUDdsZTFXL2RwS1ZFQWNyYUFySHBUUUU3MW52Wk81MFRXakF4QVJVOWVBYUd3aUV0dkFSSlRuUUNwTktUUElGRUV1TkNvaUN3WW53R0tXWUNLRzdiR29iSUxjSzArRWZIUGV2Y2FmejRGb2JvTFc5c0E5eG9RRWRtWTZTaThnTjlCU0RaQXJhZCt4dmY2NndWc2JUZUJNeU5pSFhySXM5Y01PaXh3cDZNVzhFOVBXbUJuRzQ0c2NPRmRsSmRpK3RNQ1hRMlFjRS9IRzhENVZqOENrTytBeHltbzdIS29Edm1iZmQ1ekE1QW9RZVljQ3FXc0xTek5CZVp0UDJndVovTzNBTEV2V2xNb3Zla3NRN0pIL3NrNTZLNkRtamtRVEhNOCtDK1FvZjZyZzh2THF3ZU51bXpITis3dU5oRFdlaXNpTVZOMW9BM1lSMTB1bjgrMUtTSVNpSS9aMjhEci9RSFBhNkVtOERmd2ZBQUFBQUJKUlU1RXJrSmdnZz09Jyk7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgY3Vyc29yOiBub25lOwogICAgei1pbmRleDogMTsKfQoKLmN1cnNvci5zaG93IHsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgouY3Vyc29yLm1vdmluZyB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBaUNBTUFBQUFKYkN2TkFBQUJNbEJNVkVVQUFBQUFBQUEyTmpZc0xDd0NBZ0lBQUFBQUFBQU1EQXdCQVFFQ0FnSUJBUUVDQWdJQkFRRUJBUUVBQUFBQUFBQUFBQUE1T1RrZ0lDQUlDQWdBQUFBY0hCd0NBZ0lBQUFBQUFBQUFBQUFBQUFBQUFBQkRRME04UER3eE1URTBORFFWRlJVQ0FnSUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUER3OERBd01BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFELy8vOEFBQUJoWVdFY0hCejYrdnIzOS9kTVRFenM3T3k4dkx5NHVMaFdWbFlxS2lvb0tDajA5UFR3OFBDMXRiV25wNmQyZG5aWldWbjgvUHpwNmVuajQrUGQzZDNhMnRyTnpjMnRyYTJwcWFtbXBxYUtpb3FBZ0lCemMzTndjSEJtWm1aZFhWMVRVMU5IUjBjK1BqN1cxdGJSMGRIR3hzYkF3TUNhbXBxU2twS1BqNCtHaG9aeWNuSnNiR3drSkNUeTkxd2lBQUFBTm5SU1RsTUFQUDcrL1pjTi9QbnI0ODdLdjdRbEV2NysvZno3MWprMkdBY0UvdjcrL2Z6enBhQ1VrR1paUVRFc0lBbjgyNnVFZzNKdFhGR3J5T3hJQUFBQmtFbEVRVlI0QWVYUzFYTGJRQmpGOFJYSURIYk5kaUJwT0NuRE9hNGtnMk93dzl3MktVUGYveFc2czhxMnNUWFQ2WDErdDk5L05Kb3pLKzZsUjhabVJQekRacHhjM3NnOXkyU2V6M2FObCttVXN4MjNUanB6eGJKdG1uYXFNUjA4Wk84bUd1Tm40SkE4QVU3NVlpWGw1SVNXNVNYd2dUd0FVR0lmY0F1TTN0aHBvUm5zQUpobkM4RGNZMGdXajNIQm1nNXFQQWR3MW5NQmZKOUFhaTRBUTFhRmxsekVOTmNEMmpTRXN1T2tFdnlJRUIxazQ0WHJFaWNJNmJDaWd0WG9JYnpGTjVEMlBNQWJBRzRMMGltM1ZWRDJBUXlPSUYzbGdlWTg4TU9DOUpYQkVFa2YycnNId0h0TFJ1cDc0OWp0aWt2VFFVOEhmbGtvci9oSkIwMFpkSFV3S0t3S0pSTFA3MEZSaCs3dWJYRE9MUkhZNEdVNHdFRTBJN1ExZm9QeVZoNG1RZUNheTFueHgxT2VxV0M4SzZNRjRNckNtSy9GWC9XMFBRS0NnZnI3Z0xkL1pEdmlya2lhWDNEWFJURTM4MXd6SEVGcDVVdkhRUGVKbU5GSW1sRDhXT0pYSDM1U3pGcFpHbmJhN2VGUHJsZUsxeU16RVFvY0J0YUVXSStSNGFDK1ZhMFlScldtL2ptN1V4Zi81emVFeFd2WmdobFRTZ0FBQUFCSlJVNUVya0pnZ2c9PScpOwp9">
    <script src="data:text/javascript;base64,LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7Ci8qKioqKiovIAkJfQovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlpOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbDogZmFsc2UsCi8qKioqKiovIAkJCWV4cG9ydHM6IHt9Ci8qKioqKiovIAkJfTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmwgPSB0cnVlOwovKioqKioqLwovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQovKioqKioqLwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7Ci8qKioqKiovIAkJaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykgewovKioqKioqLyAJCWlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAkJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdAovKioqKioqLyAJLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zCi8qKioqKiovIAkvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7Ci8qKioqKiovIAkJaWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTsKLyoqKioqKi8gCQlpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlOwovKioqKioqLyAJCXZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTsKLyoqKioqKi8gCQlPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpOwovKioqKioqLyAJCXJldHVybiBuczsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlcwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7Ci8qKioqKiovIAkJdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwovKioqKioqLyAJCXJldHVybiBnZXR0ZXI7Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07Ci8qKioqKiovCi8qKioqKiovIAkvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7Ci8qKioqKiovCi8qKioqKiovCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9ICIuL3VpL2luZGV4LnRzIik7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovICh7CgovKioqLyAiLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbi8vIENvcHlyaWdodCAyMDIwIEplYmJzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIE1JVFxuLy8gbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFNNVHlwZTtcbihmdW5jdGlvbiAoU01UeXBlKSB7XG4gICAgU01UeXBlW1widGV4dFwiXSA9IFwidGV4dFwiO1xuICAgIFNNVHlwZVtcInN5bWJvbFwiXSA9IFwic3ltYm9sXCI7XG4gICAgU01UeXBlW1wic2xpY2VcIl0gPSBcInNsaWNlXCI7XG4gICAgU01UeXBlW1wic2hhcGVcIl0gPSBcInNoYXBlXCI7XG4gICAgU01UeXBlW1wiZ3JvdXBcIl0gPSBcImdyb3VwXCI7XG4gICAgU01UeXBlW1wiaG90c3BvdFwiXSA9IFwiaG90c3BvdFwiO1xufSkoU01UeXBlID0gZXhwb3J0cy5TTVR5cGUgfHwgKGV4cG9ydHMuU01UeXBlID0ge30pKTtcbjtcbnZhciBzaGFkb3dUeXBlO1xuKGZ1bmN0aW9uIChzaGFkb3dUeXBlKSB7XG4gICAgc2hhZG93VHlwZVtcIm91dGVyXCJdID0gXCJPdXRlclwiO1xuICAgIHNoYWRvd1R5cGVbXCJpbm5lclwiXSA9IFwiSW5uZXJcIjtcbn0pKHNoYWRvd1R5cGUgPSBleHBvcnRzLnNoYWRvd1R5cGUgfHwgKGV4cG9ydHMuc2hhZG93VHlwZSA9IHt9KSk7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvY29tbW9uLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9jb21tb24udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3RhdGUgPSB7XG4gICAgem9vbTogMSxcbiAgICB1bml0OiAncHgnLFxuICAgIHNjYWxlOiAxLFxuICAgIGFydGJvYXJkSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBjb2xvckZvcm1hdDogJ2NvbG9yLWhleCcsXG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxuICAgIGNvZGVUeXBlOiAnY3NzJyxcbn07XG5leHBvcnRzLkkxOE4gPSB7fTtcbmV4cG9ydHMubGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuZXhwb3J0cy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGxvY2FsaXplKHN0cikge1xuICAgIHJldHVybiAoZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ10gJiYgZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ11bc3RyXSkgPyBleHBvcnRzLkkxOE5bZXhwb3J0cy5sYW5nXVtzdHJdIDogc3RyO1xufVxuZXhwb3J0cy5sb2NhbGl6ZSA9IGxvY2FsaXplO1xuZXhwb3J0cy5wcm9qZWN0ID0ge307XG5mdW5jdGlvbiBpbml0KGRhdGEpIHtcbiAgICBleHBvcnRzLnN0YXRlLnNjYWxlID0gMTtcbiAgICBleHBvcnRzLnN0YXRlLmNvbG9yRm9ybWF0ID0gZGF0YS5jb2xvckZvcm1hdDtcbiAgICBleHBvcnRzLnN0YXRlLnVuaXQgPSBkYXRhLnVuaXQ7XG4gICAgZXhwb3J0cy5JMThOID0gZGF0YS5sYW5ndWFnZXMgfHwge307XG4gICAgZXhwb3J0cy5wcm9qZWN0ID0gZGF0YTtcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvY29tbW9uLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvYWxpZ25FbGVtZW50LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFZGdlO1xuKGZ1bmN0aW9uIChFZGdlKSB7XG4gICAgRWRnZVtFZGdlW1widnRvcFwiXSA9IDMyXSA9IFwidnRvcFwiO1xuICAgIEVkZ2VbRWRnZVtcInZib3R0b21cIl0gPSAxNl0gPSBcInZib3R0b21cIjtcbiAgICBFZGdlW0VkZ2VbXCJ2bWlkZGxlXCJdID0gOF0gPSBcInZtaWRkbGVcIjtcbiAgICBFZGdlW0VkZ2VbXCJobGVmdFwiXSA9IDRdID0gXCJobGVmdFwiO1xuICAgIEVkZ2VbRWRnZVtcImhyaWdodFwiXSA9IDJdID0gXCJocmlnaHRcIjtcbiAgICBFZGdlW0VkZ2VbXCJoY2VudGVyXCJdID0gMV0gPSBcImhjZW50ZXJcIjtcbn0pKEVkZ2UgPSBleHBvcnRzLkVkZ2UgfHwgKGV4cG9ydHMuRWRnZSA9IHt9KSk7XG5mdW5jdGlvbiBhbGlnbkVsZW1lbnQob3B0aW9ucykge1xuICAgIGxldCBmcm9tUmVjdCA9IG9wdGlvbnMuZnJvbVJlY3QgfHwgb3B0aW9ucy50YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IGZyb20gPSBvcHRpb25zLmZyb21FZGdlO1xuICAgIGxldCB0byA9IG9wdGlvbnMudG9FZGdlO1xuICAgIGxldCBmcm9tSGFzViA9ICEhKDBiMTExMDAwICYgZnJvbSk7XG4gICAgbGV0IHRvSGFzViA9ICEhKDBiMTExMDAwICYgdG8pO1xuICAgIGxldCBmcm9tSGFzSCA9ICEhKDBiMDAwMTExICYgZnJvbSk7XG4gICAgbGV0IHRvSGFzSCA9ICEhKDBiMDAwMTExICYgdG8pO1xuICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgaWYgKGZyb21IYXNIICYmIHRvSGFzSCkge1xuICAgICAgICBvZmZzZXRYID0gb3B0aW9ucy50b1JlY3QueCAtIGZyb21SZWN0Lng7IC8vIGxlZnQtdG8tbGVmdCBvZmZzZXRcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLmhjZW50ZXIpXG4gICAgICAgICAgICBvZmZzZXRYIC09IGZyb21SZWN0LndpZHRoIC8gMjtcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLmhyaWdodClcbiAgICAgICAgICAgIG9mZnNldFggLT0gZnJvbVJlY3Qud2lkdGg7XG4gICAgICAgIGlmICh0byAmIEVkZ2UuaGNlbnRlcilcbiAgICAgICAgICAgIG9mZnNldFggKz0gb3B0aW9ucy50b1JlY3Qud2lkdGggLyAyO1xuICAgICAgICBpZiAodG8gJiBFZGdlLmhyaWdodClcbiAgICAgICAgICAgIG9mZnNldFggKz0gb3B0aW9ucy50b1JlY3Qud2lkdGg7XG4gICAgfVxuICAgIGlmIChmcm9tSGFzViAmJiB0b0hhc1YpIHtcbiAgICAgICAgb2Zmc2V0WSA9IG9wdGlvbnMudG9SZWN0LnkgLSBmcm9tUmVjdC55OyAvLyB0b3AtdG8tdG9wIG9mZnNldFxuICAgICAgICBpZiAoZnJvbSAmIEVkZ2Uudm1pZGRsZSlcbiAgICAgICAgICAgIG9mZnNldFkgLT0gZnJvbVJlY3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgaWYgKGZyb20gJiBFZGdlLnZib3R0b20pXG4gICAgICAgICAgICBvZmZzZXRZIC09IGZyb21SZWN0LmhlaWdodDtcbiAgICAgICAgaWYgKHRvICYgRWRnZS52bWlkZGxlKVxuICAgICAgICAgICAgb2Zmc2V0WSArPSBvcHRpb25zLnRvUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICBpZiAodG8gJiBFZGdlLnZib3R0b20pXG4gICAgICAgICAgICBvZmZzZXRZICs9IG9wdGlvbnMudG9SZWN0LmhlaWdodDtcbiAgICB9XG4gICAgb3B0aW9ucy5zY3JvbGxlci5zY3JvbGxUb3AgLT0gb2Zmc2V0WTtcbiAgICBvcHRpb25zLnNjcm9sbGVyLnNjcm9sbExlZnQgLT0gb2Zmc2V0WDtcbn1cbmV4cG9ydHMuYWxpZ25FbGVtZW50ID0gYWxpZ25FbGVtZW50O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9hbGlnbkVsZW1lbnQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9hcnRib2FyZHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5jb25zdCBuYXZpZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9uYXZpZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzXCIpO1xuZnVuY3Rpb24gYXJ0Ym9hcmRzRXZlbnRzKCkge1xuICAgIGxldCBhcnRib2FyZHNMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkcycpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShhcnRib2FyZHNMaXN0LCAnZm9jdXNpbicsICcuYXJ0Ym9hcmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gaGVscGVyXzEuZ2V0SW5kZXgodGhpcyk7XG4gICAgICAgIG5hdmlnYXRlXzEuZ290b0FydGJvYXJkKGluZGV4KTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoYXJ0Ym9hcmRzTGlzdCwgJ2NsaWNrJywgJy5hcnRib2FyZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgaW5kZXggPSBoZWxwZXJfMS5nZXRJbmRleCh0aGlzKTtcbiAgICAgICAgbmF2aWdhdGVfMS5nb3RvQXJ0Ym9hcmQoaW5kZXgpO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShhcnRib2FyZHNMaXN0LCAnY2hhbmdlJywgJ2lucHV0W25hbWU9cGFnZV0nLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHBPYmplY3RJRCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlLWxpc3QgaW5wdXRbbmFtZT1wYWdlXTpjaGVja2VkJykudmFsdWU7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlcy1zZWxlY3QgaDMnKVxuICAgICAgICAgICAgLmlubmVySFRNTCA9IHRoaXMucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuJykuaW5uZXJIVE1MO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYXJ0Ym9hcmQtbGlzdCBsaScpLmZvckVhY2goKGxpKSA9PiB7XG4gICAgICAgICAgICBpZiAocE9iamVjdElEID09ICdhbGwnIHx8IGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlLWlkJykgPT0gcE9iamVjdElEKSB7XG4gICAgICAgICAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWdlcy1zZWxlY3QnKS5ibHVyKCk7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5hcnRib2FyZHNFdmVudHMgPSBhcnRib2FyZHNFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2FydGJvYXJkcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZGVsZWdhdGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGV2ZW50RGVsZWdhdGUocGFyZW50LCB0eXBlLCB0YXJnZXQsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJlbnQgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChwYXJlbnQpLmZvckVhY2goZWwgPT4gZWwuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB3cmFwcGVkTGlzdGVuZXIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB3cmFwcGVkTGlzdGVuZXIpO1xuICAgIGZ1bmN0aW9uIHdyYXBwZWRMaXN0ZW5lcihldmVudCkge1xuICAgICAgICBsZXQgdGFyZ2V0RWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IHBhcmVudEVsZW1lbnQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgICAgICB3aGlsZSAodGFyZ2V0RWxlbWVudCAhPT0gcGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldEVsZW1lbnQubWF0Y2hlcyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0YXJnZXRFbGVtZW50LCAuLi5hcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhcmdldEVsZW1lbnQgPSB0YXJnZXRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmV2ZW50RGVsZWdhdGUgPSBldmVudERlbGVnYXRlO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9kZWxlZ2F0ZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZGlzdGFuY2UudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuZnVuY3Rpb24gZGlzdGFuY2UoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09IGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ICYmICFjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdClcbiAgICAgICAgcmV0dXJuO1xuICAgIHZhciBzZWxlY3RlZFJlY3QgPSBnZXRSZWN0KGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXgpLCB0YXJnZXRSZWN0ID0gY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgfHwgZ2V0UmVjdChjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCksIHRvcERhdGEsIHJpZ2h0RGF0YSwgYm90dG9tRGF0YSwgbGVmdERhdGEsIHggPSBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueCArIHNlbGVjdGVkUmVjdC53aWR0aCAvIDIpLCB5ID0gaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnkgKyBzZWxlY3RlZFJlY3QuaGVpZ2h0IC8gMik7XG4gICAgbGV0IHNlbGVjdGVkWDIgPSBzZWxlY3RlZFJlY3QueCArIHNlbGVjdGVkUmVjdC53aWR0aDtcbiAgICBsZXQgc2VsZWN0ZWRZMiA9IHNlbGVjdGVkUmVjdC55ICsgc2VsZWN0ZWRSZWN0LmhlaWdodDtcbiAgICBsZXQgdGFyZ2V0WDIgPSB0YXJnZXRSZWN0LnggKyB0YXJnZXRSZWN0LndpZHRoO1xuICAgIGxldCB0YXJnZXRZMiA9IHRhcmdldFJlY3QueSArIHRhcmdldFJlY3QuaGVpZ2h0O1xuICAgIGlmICghaGVscGVyXzIuZ2V0SW50ZXJzZWN0aW9uKHNlbGVjdGVkUmVjdCwgdGFyZ2V0UmVjdCkpIHtcbiAgICAgICAgaWYgKHNlbGVjdGVkUmVjdC55ID4gdGFyZ2V0WTIpIHsgLy90b3BcbiAgICAgICAgICAgIHRvcERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRZMiksXG4gICAgICAgICAgICAgICAgaDogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnkgLSB0YXJnZXRZMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHNlbGVjdGVkUmVjdC55IC0gdGFyZ2V0WTIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHNlbGVjdGVkUmVjdC55IC0gdGFyZ2V0WTIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkWDIgPCB0YXJnZXRSZWN0LngpIHsgLy9yaWdodFxuICAgICAgICAgICAgcmlnaHREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkWDIpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0UmVjdC54IC0gc2VsZWN0ZWRYMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHRhcmdldFJlY3QueCAtIHNlbGVjdGVkWDIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHRhcmdldFJlY3QueCAtIHNlbGVjdGVkWDIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRZMiA8IHRhcmdldFJlY3QueSkgeyAvL2JvdHRvbVxuICAgICAgICAgICAgYm90dG9tRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkWTIpLFxuICAgICAgICAgICAgICAgIGg6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFJlY3QueSAtIHNlbGVjdGVkWTIpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZSh0YXJnZXRSZWN0LnkgLSBzZWxlY3RlZFkyKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKCh0YXJnZXRSZWN0LnkgLSBzZWxlY3RlZFkyKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZFJlY3QueCA+IHRhcmdldFgyKSB7IC8vbGVmdFxuICAgICAgICAgICAgbGVmdERhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0WDIpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnggLSB0YXJnZXRYMiksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKHNlbGVjdGVkUmVjdC54IC0gdGFyZ2V0WDIpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoKHNlbGVjdGVkUmVjdC54IC0gdGFyZ2V0WDIpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uoc2VsZWN0ZWRSZWN0LCB0YXJnZXRSZWN0KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlLnRvcCAhPSAwKSB7IC8vdG9wXG4gICAgICAgICAgICB0b3BEYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogKGRpc3RhbmNlLnRvcCA+IDApID8gaGVscGVyXzEuem9vbVNpemUodGFyZ2V0UmVjdC55KSA6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC55KSxcbiAgICAgICAgICAgICAgICBoOiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS50b3ApKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoTWF0aC5hYnMoZGlzdGFuY2UudG9wKSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS50b3ApLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3RhbmNlLnJpZ2h0ICE9IDApIHsgLy9yaWdodFxuICAgICAgICAgICAgcmlnaHREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IChkaXN0YW5jZS5yaWdodCA+IDApID8gaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRYMikgOiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRYMiksXG4gICAgICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgICAgICB3OiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5yaWdodCkpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShNYXRoLmFicyhkaXN0YW5jZS5yaWdodCkpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoTWF0aC5hYnMoZGlzdGFuY2UucmlnaHQpLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzdGFuY2UuYm90dG9tICE9IDApIHsgLy9ib3R0b21cbiAgICAgICAgICAgIGJvdHRvbURhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiAoZGlzdGFuY2UuYm90dG9tID4gMCkgPyBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFkyKSA6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFkyKSxcbiAgICAgICAgICAgICAgICBoOiBoZWxwZXJfMS56b29tU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5ib3R0b20pKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoTWF0aC5hYnMoZGlzdGFuY2UuYm90dG9tKSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5ib3R0b20pLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3RhbmNlLmxlZnQgIT0gMCkgeyAvL2xlZnRcbiAgICAgICAgICAgIGxlZnREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IChkaXN0YW5jZS5sZWZ0ID4gMCkgPyBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRSZWN0LngpIDogaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LngpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUoTWF0aC5hYnMoZGlzdGFuY2UubGVmdCkpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShNYXRoLmFicyhkaXN0YW5jZS5sZWZ0KSksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShNYXRoLmFicyhkaXN0YW5jZS5sZWZ0KSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRvcERhdGEpIHtcbiAgICAgICAgbGV0IHRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RkJyk7XG4gICAgICAgIHRkLnN0eWxlLmxlZnQgPSB0b3BEYXRhLnggKyAncHgnO1xuICAgICAgICB0ZC5zdHlsZS50b3AgPSB0b3BEYXRhLnkgKyAncHgnO1xuICAgICAgICB0ZC5zdHlsZS5oZWlnaHQgPSB0b3BEYXRhLmggKyAncHgnO1xuICAgICAgICB0ZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCB0ZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZCBkaXYnKTtcbiAgICAgICAgdGREaXYuc2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcsIHRvcERhdGEuZGlzdGFuY2UpO1xuICAgICAgICB0ZERpdi5zZXRBdHRyaWJ1dGUoJ3BlcmNlbnRhZ2UtaGVpZ2h0JywgdG9wRGF0YS5wZXJjZW50YWdlRGlzdGFuY2UpO1xuICAgIH1cbiAgICBpZiAocmlnaHREYXRhKSB7XG4gICAgICAgIGxldCByZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZCcpO1xuICAgICAgICByZC5zdHlsZS5sZWZ0ID0gcmlnaHREYXRhLnggKyAncHgnO1xuICAgICAgICByZC5zdHlsZS50b3AgPSByaWdodERhdGEueSArICdweCc7XG4gICAgICAgIHJkLnN0eWxlLndpZHRoID0gcmlnaHREYXRhLncgKyAncHgnO1xuICAgICAgICByZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCByZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZCBkaXYnKTtcbiAgICAgICAgcmREaXYuc2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJywgcmlnaHREYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgcmREaXYuc2V0QXR0cmlidXRlKCdwZXJjZW50YWdlLXdpZHRoJywgcmlnaHREYXRhLnBlcmNlbnRhZ2VEaXN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChib3R0b21EYXRhKSB7XG4gICAgICAgIGxldCBiZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNiZCcpO1xuICAgICAgICBiZC5zdHlsZS5sZWZ0ID0gYm90dG9tRGF0YS54ICsgJ3B4JztcbiAgICAgICAgYmQuc3R5bGUudG9wID0gYm90dG9tRGF0YS55ICsgJ3B4JztcbiAgICAgICAgYmQuc3R5bGUuaGVpZ2h0ID0gYm90dG9tRGF0YS5oICsgJ3B4JztcbiAgICAgICAgYmQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBsZXQgYmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmQgZGl2Jyk7XG4gICAgICAgIGJkRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnLCBib3R0b21EYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgYmREaXYuc2V0QXR0cmlidXRlKCdwZXJjZW50YWdlLWhlaWdodCcsIGJvdHRvbURhdGEucGVyY2VudGFnZURpc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGxlZnREYXRhKSB7XG4gICAgICAgIGxldCBsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsZCcpO1xuICAgICAgICBsZC5zdHlsZS5sZWZ0ID0gbGVmdERhdGEueCArICdweCc7XG4gICAgICAgIGxkLnN0eWxlLnRvcCA9IGxlZnREYXRhLnkgKyAncHgnO1xuICAgICAgICBsZC5zdHlsZS53aWR0aCA9IGxlZnREYXRhLncgKyAncHgnO1xuICAgICAgICBsZC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGxldCBsZERpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsZCBkaXYnKTtcbiAgICAgICAgbGREaXYuc2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJywgbGVmdERhdGEuZGlzdGFuY2UpO1xuICAgICAgICBsZERpdi5zZXRBdHRyaWJ1dGUoJ3BlcmNlbnRhZ2Utd2lkdGgnLCBsZWZ0RGF0YS5wZXJjZW50YWdlRGlzdGFuY2UpO1xuICAgIH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKVxuICAgICAgICAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG59XG5leHBvcnRzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG5mdW5jdGlvbiBoaWRlRGlzdGFuY2UoKSB7XG4gICAgdmFyIF9hO1xuICAgIFsnI3RkJywgJyNyZCcsICcjYmQnLCAnI2xkJ10uZm9yRWFjaChzID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9KTtcbiAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xufVxuZXhwb3J0cy5oaWRlRGlzdGFuY2UgPSBoaWRlRGlzdGFuY2U7XG5mdW5jdGlvbiBnZXRSZWN0KGluZGV4KSB7XG4gICAgdmFyIGxheWVyID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnNbaW5kZXhdO1xuICAgIHJldHVybiBsYXllci5yZWN0O1xufVxuZnVuY3Rpb24gZ2V0RGlzdGFuY2Uoc2VsZWN0ZWQsIHRhcmdldCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRvcDogKHNlbGVjdGVkLnkgLSB0YXJnZXQueSksXG4gICAgICAgIHJpZ2h0OiAodGFyZ2V0LnggKyB0YXJnZXQud2lkdGggLSBzZWxlY3RlZC54IC0gc2VsZWN0ZWQud2lkdGgpLFxuICAgICAgICBib3R0b206ICh0YXJnZXQueSArIHRhcmdldC5oZWlnaHQgLSBzZWxlY3RlZC55IC0gc2VsZWN0ZWQuaGVpZ2h0KSxcbiAgICAgICAgbGVmdDogKHNlbGVjdGVkLnggLSB0YXJnZXQueClcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9kaXN0YW5jZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2RyYWdFeHBvcnRhYmxlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZHJhZ0V4cG9ydGFibGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBkcmFnRXhwb3J0YWJsZUV2ZW50cygpIHtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgJ2RyYWdzdGFydCcsICcuZXhwb3J0YWJsZSBpbWcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIGxldCByZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGxlZnQgPSBldmVudC5wYWdlWCAtIHJlY3QubGVmdCAtIHRoaXMub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICBsZXQgdG9wID0gZXZlbnQucGFnZVkgLSByZWN0LnRvcCAtIHRoaXMub2Zmc2V0SGVpZ2h0IC8gMjtcbiAgICAgICAgdGhpcy5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7XG4gICAgICAgIHRoaXMuc3R5bGUudG9wID0gdG9wICsgJ3B4JztcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoZG9jdW1lbnQuYm9keSwgJ2RyYWdlbmQnLCAnLmV4cG9ydGFibGUgaW1nJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc3R5bGUubGVmdCA9ICcwJztcbiAgICAgICAgdGhpcy5zdHlsZS50b3AgPSAnMCc7XG4gICAgICAgIHRoaXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kcmFnRXhwb3J0YWJsZUV2ZW50cyA9IGRyYWdFeHBvcnRhYmxlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2Zsb3cudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2Zsb3cudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBzY3JlZW5fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zY3JlZW4gKi8gXCIuL3VpL3JlbmRlci9zY3JlZW4udHNcIik7XG5jb25zdCB0YWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdGFiICovIFwiLi91aS9ldmVudHMvdGFiLnRzXCIpO1xuY29uc3QgYWxpZ25FbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FsaWduRWxlbWVudCAqLyBcIi4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50c1wiKTtcbmV4cG9ydHMuZmxvd01vZGUgPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBmbG93RXZlbnRzKCkge1xuICAgIGZsb3dNb2RlU3dpdGNoRXZlbnRzKCk7XG4gICAgZmxvd0NsaWNrRXZlbnRzKCk7XG59XG5leHBvcnRzLmZsb3dFdmVudHMgPSBmbG93RXZlbnRzO1xuZnVuY3Rpb24gZmxvd0NsaWNrRXZlbnRzKCkge1xuICAgIGxldCBmbG93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93cycpO1xuICAgIGZsb3dzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGhlbHBlcl8xLnJlbW92ZVNlbGVjdGVkKCk7XG4gICAgICAgIHRhYl8xLmhpZGVOYXZCYXIoKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IGhlbHBlcl8xLmdldEV2ZW50VGFyZ2V0KGZsb3dzLCBldmVudCwgJy5mbG93Jyk7XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICBmbG93cy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWZsb3dzJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBmbG93cy5jbGFzc0xpc3QuYWRkKCdzaG93LWZsb3dzJyk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpZCA9IHRhcmdldC5kYXRhc2V0LmZsb3dUYXJnZXQ7XG4gICAgICAgIGlmIChpZCA9PSAnYmFjaycpIHtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEuaGlzdG9yeUJhY2tVbnRpbEFub3RoZXJBcnRib2FyZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmF2aWdhdGVfMS5nb3RvQXJ0Ym9hcmQoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZmxvd01vZGVTd2l0Y2hFdmVudHMoKSB7XG4gICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3ctbW9kZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgc2V0Rmxvd01vZGUoKHRoaXMgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCk7XG4gICAgLy8gICAgIHVwZGF0ZVVSTEhhc2goKTtcbiAgICAvLyB9KVxufVxuZnVuY3Rpb24gc2V0Rmxvd01vZGUoZW5hYmxlZCkge1xuICAgIGV4cG9ydHMuZmxvd01vZGUgPSBlbmFibGVkO1xuICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NyZWVuJyk7XG4gICAgbGV0IGN1cnJlbnRSZWN0ID0gc2NyZWVuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vbGV0IGlucHV0Rmxvd01vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvdy1tb2RlJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAvLyBzZXQgY2hlY2tlZCB3b24ndCB0cmlnZ2UgY2hhbmdlIGV2ZW50XG4gICAgLy9pbnB1dEZsb3dNb2RlLmNoZWNrZWQgPSBlbmFibGVkO1xuICAgIGxldCBoaWRlT25GTG93ID0gW1xuICAgICAgICAnI2xheWVycycsXG4gICAgICAgICcjdW5pdCcsXG4gICAgICAgICcuaGVhZGVyLWxlZnQgW2RhdGEtaWQ9XCJzbGljZXNcIl0nLFxuICAgICAgICAnLmhlYWRlci1sZWZ0IFtkYXRhLWlkPVwiY29sb3JzXCJdJyxcbiAgICAgICAgJy5oZWFkZXItcmlnaHQnLFxuICAgICAgICAnI2FydGJvYXJkcyAuZmxvdy1zdGFydHMnLFxuICAgIF07XG4gICAgbGV0IHNob3dPbkZsb3cgPSBbXG4gICAgICAgICcjZmxvd3MnLFxuICAgICAgICAnI2FydGJvYXJkcyAuZmxvdy1zdGFydHMnLFxuICAgIF07XG4gICAgY29uc3QgaGlkZU9uRkxvd0Rpc3BsYXkgPSBleHBvcnRzLmZsb3dNb2RlID8gJ25vbmUnIDogJyc7XG4gICAgY29uc3Qgc2hvd09uRkxvd0Rpc3BsYXkgPSBleHBvcnRzLmZsb3dNb2RlID8gJycgOiAnbm9uZSc7XG4gICAgaGlkZU9uRkxvdy5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHMpO1xuICAgICAgICBpZiAoZWwpXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gaGlkZU9uRkxvd0Rpc3BsYXk7XG4gICAgfSk7XG4gICAgc2hvd09uRmxvdy5mb3JFYWNoKHMgPT4ge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHMpO1xuICAgICAgICBpZiAoZWwpXG4gICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gc2hvd09uRkxvd0Rpc3BsYXk7XG4gICAgfSk7XG4gICAgaWYgKGV4cG9ydHMuZmxvd01vZGUpIHtcbiAgICAgICAgc2NyZWVuLmNsYXNzTGlzdC5hZGQoJ2Zsb3cnKTtcbiAgICAgICAgaGVscGVyXzEucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICAgICAgdGFiXzEuaGlkZU5hdkJhcigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2NyZWVuLmNsYXNzTGlzdC5yZW1vdmUoJ2Zsb3cnKTtcbiAgICAgICAgdGFiXzEuc2hvd05hdkJhcigpO1xuICAgIH1cbiAgICBzY3JlZW5fMS51cGRhdGVTY3JlZW4oKTtcbiAgICBhbGlnbkVsZW1lbnRfMS5hbGlnbkVsZW1lbnQoe1xuICAgICAgICBzY3JvbGxlcjogdmlld2VyLFxuICAgICAgICB0YXJnZXQ6IHNjcmVlbixcbiAgICAgICAgdG9SZWN0OiBjdXJyZW50UmVjdCxcbiAgICAgICAgZnJvbUVkZ2U6IGFsaWduRWxlbWVudF8xLkVkZ2UuaGNlbnRlciB8IGFsaWduRWxlbWVudF8xLkVkZ2UudnRvcCxcbiAgICAgICAgdG9FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhjZW50ZXIgfCBhbGlnbkVsZW1lbnRfMS5FZGdlLnZ0b3BcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2V0Rmxvd01vZGUgPSBzZXRGbG93TW9kZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvZmxvdy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5sZXQgc2hvdWxkQmFja1RvQW5vdGhlciA9IGZhbHNlO1xuZnVuY3Rpb24gaGFzaENoYW5nZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICBpZiAoc2hvdWxkQmFja1RvQW5vdGhlcikge1xuICAgICAgICAgICAgbGV0IGN1cnJlbnRJbmRleCA9IG5hdmlnYXRlXzEucGFyc2VVUkxIYXNoKCkuYXJ0Ym9hcmRJbmRleDtcbiAgICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPT0gY29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleCkge1xuICAgICAgICAgICAgICAgIGhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3VsZEJhY2tUb0Fub3RoZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuYXZpZ2F0ZV8xLm5hdmlnYXRlQnlVUkxIYXNoKCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmhhc2hDaGFuZ2VFdmVudHMgPSBoYXNoQ2hhbmdlRXZlbnRzO1xuZnVuY3Rpb24gc2V0U2hvdWxkQmFja1RvQW5vdGhlcih2YWx1ZSkge1xuICAgIHNob3VsZEJhY2tUb0Fub3RoZXIgPSB2YWx1ZTtcbn1cbmV4cG9ydHMuc2V0U2hvdWxkQmFja1RvQW5vdGhlciA9IHNldFNob3VsZEJhY2tUb0Fub3RoZXI7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9oZWxwZXIudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvaGVscGVyLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5mdW5jdGlvbiBnZXRFdmVudFRhcmdldChldmVudE5vZGUsIGV2ZW50LCBzZWxlY3Rvcikge1xuICAgIGxldCBjdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGV2ZW50Tm9kZSkge1xuICAgICAgICBpZiAoY3VycmVudC5tYXRjaGVzKHNlbGVjdG9yKSlcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5nZXRFdmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0O1xuZnVuY3Rpb24gZ2V0SW5kZXgoZWxlbWVudCkge1xuICAgIHJldHVybiBwYXJzZUludChlbGVtZW50LmRhdGFzZXQuaW5kZXgpO1xufVxuZXhwb3J0cy5nZXRJbmRleCA9IGdldEluZGV4O1xuZnVuY3Rpb24gbW91c2VvdXRMYXllcigpIHtcbiAgICB2YXIgX2E7XG4gICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhvdmVyJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdob3ZlcicpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuZXhwb3J0cy5tb3VzZW91dExheWVyID0gbW91c2VvdXRMYXllcjtcbmZ1bmN0aW9uIHNlbGVjdGVkTGF5ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGF5ZXItJyArIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXgpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5leHBvcnRzLnNlbGVjdGVkTGF5ZXIgPSBzZWxlY3RlZExheWVyO1xuZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWQoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsYXllci0nICsgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCkuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcnVsZXJzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zcGVjdG9yJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xufVxuZXhwb3J0cy5yZW1vdmVTZWxlY3RlZCA9IHJlbW92ZVNlbGVjdGVkO1xuZnVuY3Rpb24gc2NhbGVTaXplKGxlbmd0aCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGxlbmd0aCAvIGNvbW1vbl8xLnN0YXRlLnNjYWxlICogMTApIC8gMTA7XG59XG5leHBvcnRzLnNjYWxlU2l6ZSA9IHNjYWxlU2l6ZTtcbmZ1bmN0aW9uIGdldEludGVyc2VjdGlvbihhLCBiKSB7XG4gICAgbGV0IHgxID0gTWF0aC5tYXgoYS54LCBiLngpO1xuICAgIGxldCB5MSA9IE1hdGgubWF4KGEueSwgYi55KTtcbiAgICBsZXQgeDIgPSBNYXRoLm1pbihhLnggKyBhLndpZHRoLCBiLnggKyBiLndpZHRoKTtcbiAgICBsZXQgeTIgPSBNYXRoLm1pbihhLnkgKyBhLmhlaWdodCwgYi55ICsgYi5oZWlnaHQpO1xuICAgIGxldCB3aWR0aCA9IHgyIC0geDE7XG4gICAgbGV0IGhlaWdodCA9IHkyIC0geTE7XG4gICAgaWYgKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApIHtcbiAgICAgICAgLy8gbm8gaW50ZXJzZWN0aW9uXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHgxLFxuICAgICAgICB5OiB5MSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufVxuZXhwb3J0cy5nZXRJbnRlcnNlY3Rpb24gPSBnZXRJbnRlcnNlY3Rpb247XG5mdW5jdGlvbiBjbGlja0VsZW1lbnQoZWxlbWVudCkge1xuICAgIGxldCBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJNb3VzZUV2ZW50c1wiKTtcbiAgICBlLmluaXRFdmVudChcImNsaWNrXCIsIHRydWUsIHRydWUpO1xuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcbn1cbmV4cG9ydHMuY2xpY2tFbGVtZW50ID0gY2xpY2tFbGVtZW50O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9oZWxwZXIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2luZGV4LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBhcnRib2FyZHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYXJ0Ym9hcmRzICovIFwiLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzXCIpO1xuY29uc3QgZHJhZ0V4cG9ydGFibGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZHJhZ0V4cG9ydGFibGUgKi8gXCIuL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50c1wiKTtcbmNvbnN0IGxheWVyRXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xheWVyRXZlbnRzICovIFwiLi91aS9ldmVudHMvbGF5ZXJFdmVudHMudHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3pvb20gKi8gXCIuL3VpL2V2ZW50cy96b29tLnRzXCIpO1xuY29uc3QgdW5pdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91bml0ICovIFwiLi91aS9ldmVudHMvdW5pdC50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vdGVzICovIFwiLi91aS9ldmVudHMvbm90ZXMudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW5zcGVjdG9yICovIFwiLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzXCIpO1xuY29uc3QgdGFiXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RhYiAqLyBcIi4vdWkvZXZlbnRzL3RhYi50c1wiKTtcbmNvbnN0IHNsaWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zbGljZXMgKi8gXCIuL3VpL2V2ZW50cy9zbGljZXMudHNcIik7XG5jb25zdCBwYW5Nb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bhbk1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzXCIpO1xuY29uc3QgcGVyY2VudGFnZU1vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGVyY2VudGFnZU1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50c1wiKTtcbmNvbnN0IHpvb21fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4va2V5Ym9hcmQvem9vbSAqLyBcIi4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHNcIik7XG5jb25zdCBmbG93XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuY29uc3QgaGFzaENoYW5nZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oYXNoQ2hhbmdlICovIFwiLi91aS9ldmVudHMvaGFzaENoYW5nZS50c1wiKTtcbmNvbnN0IHN3aXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9rZXlib2FyZC9zd2l0Y2ggKi8gXCIuL3VpL2V2ZW50cy9rZXlib2FyZC9zd2l0Y2gudHNcIik7XG5mdW5jdGlvbiBldmVudHMoKSB7XG4gICAgbGF5ZXJFdmVudHNfMS5sYXllckV2ZW50cygpO1xuICAgIGFydGJvYXJkc18xLmFydGJvYXJkc0V2ZW50cygpO1xuICAgIHpvb21fMS56b29tRXZlbnRzKCk7XG4gICAgdW5pdF8xLnVuaXRFdmVudHMoKTtcbiAgICBub3Rlc18xLm5vdGVFdmVudHMoKTtcbiAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3JFdmVudHMoKTtcbiAgICB0YWJfMS50YWJFdmVudHMoKTtcbiAgICBzbGljZXNfMS5zbGljZUV2ZW50cygpO1xuICAgIHBhbk1vZGVfMS5wYW5Nb2RlRXZlbnRzKCk7XG4gICAgcGVyY2VudGFnZU1vZGVfMS5wZXJjZW50YWdlTW9kZUV2ZW50cygpO1xuICAgIHpvb21fMi5rZXlib2FyZFpvb21FdmVudHMoKTtcbiAgICBkcmFnRXhwb3J0YWJsZV8xLmRyYWdFeHBvcnRhYmxlRXZlbnRzKCk7XG4gICAgZmxvd18xLmZsb3dFdmVudHMoKTtcbiAgICBzd2l0Y2hfMS5rZXlib2FyZFN3aXRjaEV2ZW50cygpO1xuICAgIGhhc2hDaGFuZ2VfMS5oYXNoQ2hhbmdlRXZlbnRzKCk7XG59XG5leHBvcnRzLmV2ZW50cyA9IGV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9pbnNwZWN0b3IudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbG9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2NvbG9ycyAqLyBcIi4vdWkvcmVuZGVyL2NvbG9ycy50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBpbnNwZWN0b3JFdmVudHMoKSB7XG4gICAgbGV0IGZvcm1hdHMgPSBbJ2NvbG9yLWhleCcsICdhcmdiLWhleCcsICdjc3MtcmdiYScsICdjc3MtaHNsYScsICd1aS1jb2xvciddO1xuICAgIGxldCBpbnNwZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zcGVjdG9yJyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKGluc3BlY3RvciwgJ2NsaWNrJywgJy5jb2xvciBsYWJlbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IGZvcm1hdHMuaW5kZXhPZihjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdCk7XG4gICAgICAgIGxldCBuZXh0ID0gKGN1cnJlbnQgKyAxKSAlIGZvcm1hdHMubGVuZ3RoO1xuICAgICAgICBjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdCA9IGZvcm1hdHNbbmV4dF07XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jb2xvciBpbnB1dCcpLmZvckVhY2goKGkpID0+IHtcbiAgICAgICAgICAgIGxldCBjb2xvcnMgPSBKU09OLnBhcnNlKGRlY29kZVVSSShpLmRhdGFzZXQuY29sb3IpKTtcbiAgICAgICAgICAgIGkudmFsdWUgPSBjb2xvcnNbY29tbW9uXzEuc3RhdGUuY29sb3JGb3JtYXRdO1xuICAgICAgICB9KTtcbiAgICAgICAgY29sb3JzXzEuY29sb3JzKCk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKGluc3BlY3RvciwgJ2RibGNsaWNrJywgJ2lucHV0LCB0ZXh0YXJlYScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5pbnNwZWN0b3JFdmVudHMgPSBpbnNwZWN0b3JFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2luc3BlY3Rvci50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2tleWJvYXJkL3N3aXRjaC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9rZXlib2FyZC9zd2l0Y2gudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBrZXlib2FyZFN3aXRjaEV2ZW50cygpIHtcbiAgICAvKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgIHN3aXRjaCAoU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC53aGljaCkpIHtcbiAgICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3ctbW9kZScpXG4gICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctbm90ZXMnKVxuICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICB9XG4gICAgIH0pO1xuICAgICAgICAgKi9cbn1cbmV4cG9ydHMua2V5Ym9hcmRTd2l0Y2hFdmVudHMgPSBrZXlib2FyZFN3aXRjaEV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMva2V5Ym9hcmQvc3dpdGNoLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi96b29tICovIFwiLi91aS9ldmVudHMvem9vbS50c1wiKTtcbmZ1bmN0aW9uIGtleWJvYXJkWm9vbUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgLy8gY29udHJvbCBvciBjb21tYW5kIGtleVxuICAgICAgICBpZiAoIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50Lm1ldGFLZXkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgICAgIGNhc2UgMTg3OlxuICAgICAgICAgICAgICAgIGlmIChjb21tb25fMS5zdGF0ZS56b29tIDwgNClcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyXzEuY2xpY2tFbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy56b29tLW91dCcpKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgMTg5OlxuICAgICAgICAgICAgICAgIGlmIChjb21tb25fMS5zdGF0ZS56b29tID4gLjI1KVxuICAgICAgICAgICAgICAgICAgICBoZWxwZXJfMS5jbGlja0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpvb20taW4nKSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBjYXNlIDQ4OlxuICAgICAgICAgICAgICAgIHpvb21fMS56b29tUmVuZGVyKDEpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5rZXlib2FyZFpvb21FdmVudHMgPSBrZXlib2FyZFpvb21FdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9sYXllckV2ZW50cy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2xheWVyRXZlbnRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGluc3BlY3Rvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2luc3BlY3RvciAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9pbmRleC50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBwYW5Nb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bhbk1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzXCIpO1xuZnVuY3Rpb24gbGF5ZXJFdmVudHMoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAocGFuTW9kZV8xLnBhbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChoZWxwZXJfMS5nZXRFdmVudFRhcmdldChkb2N1bWVudC5ib2R5LCBldmVudCwgJ2hlYWRlciwgI2luc3BlY3RvciwgLm5hdmJhcicpKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGljZS1sYXllcicpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWNlLWxheWVyJykpID9cbiAgICAgICAgICAgICAgICB0YXJnZXQgOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXllci0nICsgdGFyZ2V0LmRhdGFzZXQub2JqZWN0aWQpO1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KHNlbGVjdGVkKTtcbiAgICAgICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgICAgICBoZWxwZXJfMS5zZWxlY3RlZExheWVyKCk7XG4gICAgICAgICAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3IoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoZWxwZXJfMS5yZW1vdmVTZWxlY3RlZCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChwYW5Nb2RlXzEucGFuTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaGVscGVyXzEubW91c2VvdXRMYXllcigpO1xuICAgICAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2NyZWVuLXZpZXdlcicpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NjcmVlbi12aWV3ZXItaW5uZXInKSkge1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSBnZXRFZGdlUmVjdChldmVudCk7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRpc3RhbmNlXzEuZGlzdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG1vdXNlb3ZlckxheWVyKCk7XG4gICAgICAgICAgICBkaXN0YW5jZV8xLmRpc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5sYXllckV2ZW50cyA9IGxheWVyRXZlbnRzO1xuZnVuY3Rpb24gbW91c2VvdmVyTGF5ZXIoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ICYmIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT0gY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVyLScgKyBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCk7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hvdmVyJyk7XG4gICAgbGV0IHJ2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J2Jyk7XG4gICAgcnYuc3R5bGUubGVmdCA9IHRhcmdldC5vZmZzZXRMZWZ0ICsgJ3B4JztcbiAgICBydi5zdHlsZS53aWR0aCA9IHRhcmdldC5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgbGV0IHJoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JoJyk7XG4gICAgcmguc3R5bGUudG9wID0gdGFyZ2V0Lm9mZnNldFRvcCArICdweCc7XG4gICAgcmguc3R5bGUuaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodCArICdweCc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnJztcbn1cbmZ1bmN0aW9uIGdldEVkZ2VSZWN0KGV2ZW50KSB7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgcmVjdCA9IHNjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgeCA9IChldmVudC5wYWdlWCAtIHJlY3QubGVmdCkgLyBjb21tb25fMS5zdGF0ZS56b29tO1xuICAgIGxldCB5ID0gKGV2ZW50LnBhZ2VZIC0gcmVjdC50b3ApIC8gY29tbW9uXzEuc3RhdGUuem9vbTtcbiAgICBsZXQgd2lkdGggPSAxMDtcbiAgICBsZXQgaGVpZ2h0ID0gMTA7XG4gICAgbGV0IHhTY29wZSA9ICh4ID49IDAgJiYgeCA8PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKTtcbiAgICBsZXQgeVNjb3BlID0gKHkgPj0gMCAmJiB5IDw9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAvLyBsZWZ0IGFuZCB0b3BcbiAgICBpZiAoeCA8PSAwICYmIHkgPD0gMCkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gLTEwO1xuICAgIH1cbiAgICAvLyByaWdodCBhbmQgdG9wXG4gICAgZWxzZSBpZiAoeCA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoICYmIHkgPD0gMCkge1xuICAgICAgICB4ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICB9XG4gICAgLy8gcmlnaHQgYW5kIGJvdHRvbVxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIHggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICB5ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8vIGxlZnQgYW5kIGJvdHRvbVxuICAgIGVsc2UgaWYgKHggPD0gMCAmJiB5ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIHggPSAtMTA7XG4gICAgICAgIHkgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgLy8gdG9wXG4gICAgZWxzZSBpZiAoeSA8PSAwICYmIHhTY29wZSkge1xuICAgICAgICB4ID0gMDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgIH1cbiAgICAvLyByaWdodFxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5U2NvcGUpIHtcbiAgICAgICAgeCA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGg7XG4gICAgICAgIHkgPSAwO1xuICAgICAgICBoZWlnaHQgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgLy8gYm90dG9tXG4gICAgZWxzZSBpZiAoeSA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCAmJiB4U2NvcGUpIHtcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIHkgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgIH1cbiAgICAvLyBsZWZ0XG4gICAgZWxzZSBpZiAoeCA8PSAwICYmIHlTY29wZSkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgaGVpZ2h0ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIGlmICh4U2NvcGUgJiYgeVNjb3BlKSB7XG4gICAgICAgIHggPSAwO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9sYXllckV2ZW50cy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvbmF2aWdhdGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBsYXllcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9sYXllcnMgKi8gXCIuL3VpL3JlbmRlci9sYXllcnMudHNcIik7XG5jb25zdCBub3Rlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL25vdGVzICovIFwiLi91aS9yZW5kZXIvbm90ZXMudHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzY3JlZW5fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zY3JlZW4gKi8gXCIuL3VpL3JlbmRlci9zY3JlZW4udHNcIik7XG5jb25zdCBmbG93XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuY29uc3QgaGVscGVyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGhhc2hDaGFuZ2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGFzaENoYW5nZSAqLyBcIi4vdWkvZXZlbnRzL2hhc2hDaGFuZ2UudHNcIik7XG5mdW5jdGlvbiBnb3RvQXJ0Ym9hcmQocGFyYSwgdXBkYXRlSGFzaCA9IHRydWUpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGhhc2hDaGFuZ2VfMS5zZXRTaG91bGRCYWNrVG9Bbm90aGVyKGZhbHNlKTtcbiAgICBsZXQgaW5kZXg7XG4gICAgaWYgKHR5cGVvZiBwYXJhID09ICdudW1iZXInKSB7XG4gICAgICAgIGluZGV4ID0gcGFyYTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGluZGV4ID0gbGF5ZXJzXzEuTWFwQXJ0Ym9hcmRJRFRvSW5kZXhbcGFyYV07XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIGhlbHBlcl8xLm1lc3NhZ2UoY29tbW9uXzEubG9jYWxpemUoJ1RhcmdldCBhcnRib2FyZCBub3QgZXhwb3J0ZWQuJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb21tb25fMS5zdGF0ZS5hcnRib2FyZEluZGV4ID09IGluZGV4KVxuICAgICAgICByZXR1cm47XG4gICAgLy8gY2xlYXIgZmxvd3MgYW5pbWF0aW9uIGJlZm9yZSBzd2l0Y2hcbiAgICBsZXQgZmxvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvd3MnKTtcbiAgICBmbG93cy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93LWZsb3dzJyk7XG4gICAgaGVscGVyXzIucmVtb3ZlU2VsZWN0ZWQoKTtcbiAgICBjb21tb25fMS5zdGF0ZS5hcnRib2FyZEluZGV4ID0gaW5kZXg7XG4gICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICBjb21tb25fMS5zdGF0ZS5jdXJyZW50ID0gY29tbW9uXzEucHJvamVjdC5hcnRib2FyZHNbY29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleF07XG4gICAgc2NyZWVuXzEudXBkYXRlU2NyZWVuKHRydWUpO1xuICAgIGxheWVyc18xLmxheWVycygpO1xuICAgIG5vdGVzXzEubm90ZXMoKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZlJykuZm9yRWFjaChlID0+IGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcnRib2FyZC0nICsgaW5kZXgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgKF9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N0YXJ0cG9pbnQtJyArIGluZGV4KSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGlmICh1cGRhdGVIYXNoKVxuICAgICAgICB1cGRhdGVVUkxIYXNoKCk7XG4gICAgZG9jdW1lbnQudGl0bGUgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50Lm5hbWUgKyAnIC0gU2tldGNoIE1lYVh1cmUnO1xufVxuZXhwb3J0cy5nb3RvQXJ0Ym9hcmQgPSBnb3RvQXJ0Ym9hcmQ7XG5mdW5jdGlvbiBuYXZpZ2F0ZUJ5VVJMSGFzaCh1cGRhdGVIYXNoID0gdHJ1ZSkge1xuICAgIGxldCBzZXR0aW5nID0gcGFyc2VVUkxIYXNoKCk7XG4gICAgZ290b0FydGJvYXJkKHNldHRpbmcuYXJ0Ym9hcmRJbmRleCwgZmFsc2UpO1xuICAgIGlmIChmbG93XzEuZmxvd01vZGUgIT09IHNldHRpbmcuZmxvd01vZGUpIHtcbiAgICAgICAgZmxvd18xLnNldEZsb3dNb2RlKHNldHRpbmcuZmxvd01vZGUpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlSGFzaClcbiAgICAgICAgdXBkYXRlVVJMSGFzaCgpO1xufVxuZXhwb3J0cy5uYXZpZ2F0ZUJ5VVJMSGFzaCA9IG5hdmlnYXRlQnlVUkxIYXNoO1xuZnVuY3Rpb24gdXBkYXRlVVJMSGFzaCgpIHtcbiAgICBsZXQgaGFzaCA9IGdldFVSTEhhc2goKTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT0gaGFzaClcbiAgICAgICAgcmV0dXJuO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcbn1cbmV4cG9ydHMudXBkYXRlVVJMSGFzaCA9IHVwZGF0ZVVSTEhhc2g7XG5mdW5jdGlvbiBoaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkKCkge1xuICAgIGhhc2hDaGFuZ2VfMS5zZXRTaG91bGRCYWNrVG9Bbm90aGVyKHRydWUpO1xuICAgIGhpc3RvcnkuYmFjaygpO1xufVxuZXhwb3J0cy5oaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkID0gaGlzdG9yeUJhY2tVbnRpbEFub3RoZXJBcnRib2FyZDtcbmZ1bmN0aW9uIGdldFVSTEhhc2goKSB7XG4gICAgcmV0dXJuIGAjJHtmbG93XzEuZmxvd01vZGUgPyAncCcgOiAnYXJ0Ym9hcmQnfSR7Y29tbW9uXzEuc3RhdGUuYXJ0Ym9hcmRJbmRleH1gO1xufVxuZXhwb3J0cy5nZXRVUkxIYXNoID0gZ2V0VVJMSGFzaDtcbmZ1bmN0aW9uIHBhcnNlVVJMSGFzaCgpIHtcbiAgICBsZXQgcmVzdWx0ID0ge1xuICAgICAgICBmbG93TW9kZTogZmFsc2UsXG4gICAgICAgIGFydGJvYXJkSW5kZXg6IDAsXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiAgI1tzfHBdW2luZGV4XVxuICAgICAgczogc3BlY2lmaWNhdGlvbiBtb2RlXG4gICAgICBwOiBwcm90b3R5cGUgbW9kZSAgc1xuICAgICAgaW5kZXg6IGFydGJvYXJkIGluZGV4XG4gICAgICovXG4gICAgbGV0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICByZXN1bHQuZmxvd01vZGUgPSBoYXNoLnN1YnN0cigxLCAxKSA9PT0gJ3AnO1xuICAgIGxldCBpbmRleCA9IE51bWJlcihoYXNoLnN1YnN0cig5KSk7XG4gICAgaWYgKGlzTmFOKGluZGV4KSlcbiAgICAgICAgaW5kZXggPSBOdW1iZXIoaGFzaC5zdWJzdHIoOSkpO1xuICAgIGlmIChpc05hTihpbmRleCkpXG4gICAgICAgIGluZGV4ID0gMDtcbiAgICByZXN1bHQuYXJ0Ym9hcmRJbmRleCA9IGluZGV4O1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnRzLnBhcnNlVVJMSGFzaCA9IHBhcnNlVVJMSGFzaDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvbmF2aWdhdGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9ub3Rlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL25vdGVzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgZGlzdGFuY2VfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGlzdGFuY2UgKi8gXCIuL3VpL2V2ZW50cy9kaXN0YW5jZS50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBub3RlRXZlbnRzKCkge1xuICAgIGxldCBub3RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3RlcycpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG93LW5vdGVzJylcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXM7XG4gICAgICAgIG5vdGVzLnN0eWxlLmRpc3BsYXkgPSB0YXJnZXQuY2hlY2tlZCA/ICcnIDogJ25vbmUnO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShub3RlcywgJ21vdXNlbW92ZScsICcubm90ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgIGxldCBub3RlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdkaXYnKTtcbiAgICAgICAgbm90ZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGlmIChub3RlLmNsaWVudFdpZHRoID4gMTYwKSB7XG4gICAgICAgICAgICBub3RlLnN0eWxlLndpZHRoID0gJzE2MHB4JztcbiAgICAgICAgICAgIG5vdGUuc3R5bGUud2hpdGVTcGFjZSA9ICdub3JtYWwnO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICAgIG5vdGVzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIG5vdGVzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3RlIGRpdicpLmZvckVhY2goKGRpdikgPT4gZGl2LnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5ub3RlRXZlbnRzID0gbm90ZUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvbm90ZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuZXhwb3J0cy5wYW5Nb2RlID0gZmFsc2U7XG5mdW5jdGlvbiBwYW5Nb2RlRXZlbnRzKCkge1xuICAgIGxldCBtb3ZpbmcgPSBmYWxzZTtcbiAgICBsZXQgbW92ZURhdGE7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMzIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKS5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJykuY2xhc3NMaXN0LmFkZCgnbW92aW5nLXNjcmVlbicpO1xuICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgIGV4cG9ydHMucGFuTW9kZSA9IHRydWU7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDMyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZycpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZy1zY3JlZW4nKTtcbiAgICAgICAgZXhwb3J0cy5wYW5Nb2RlID0gZmFsc2U7XG4gICAgICAgIG1vdmluZyA9IGZhbHNlO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBldmVudCA9PiB7XG4gICAgICAgIGxldCBjdXJzb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJyk7XG4gICAgICAgIGN1cnNvci5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WCArICdweCc7XG4gICAgICAgIGN1cnNvci5zdHlsZS50b3AgPSBldmVudC5jbGllbnRZICsgJ3B4JztcbiAgICAgICAgaWYgKCFtb3ZpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsTGVmdCA9IChtb3ZlRGF0YS54IC0gZXZlbnQuY2xpZW50WCkgKyBtb3ZlRGF0YS5zY3JvbGxMZWZ0O1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsVG9wID0gKG1vdmVEYXRhLnkgLSBldmVudC5jbGllbnRZKSArIG1vdmVEYXRhLnNjcm9sbFRvcDtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoIWV4cG9ydHMucGFuTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGN1cnNvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKTtcbiAgICAgICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgICAgIGN1cnNvci5jbGFzc0xpc3QuYWRkKCdtb3ZpbmcnKTtcbiAgICAgICAgbW92ZURhdGEgPSB7XG4gICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WSxcbiAgICAgICAgICAgIHNjcm9sbExlZnQ6IHZpZXdlci5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsVG9wOiB2aWV3ZXIuc2Nyb2xsVG9wLFxuICAgICAgICB9O1xuICAgICAgICBtb3ZpbmcgPSB0cnVlO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT4ge1xuICAgICAgICBpZiAoIWV4cG9ydHMucGFuTW9kZSB8fCAhbW92aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY3Vyc29yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpO1xuICAgICAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICAgICAgdmlld2VyLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZy1zY3JlZW4nKTtcbiAgICAgICAgY3Vyc29yLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmluZycpO1xuICAgICAgICBtb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMucGFuTW9kZUV2ZW50cyA9IHBhbk1vZGVFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL3Bhbk1vZGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3BlcmNlbnRhZ2VNb2RlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBwZXJjZW50YWdlTW9kZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAxOClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ3BlcmNlbnRhZ2UtbW9kZScpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAxOClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3BlcmNlbnRhZ2UtbW9kZScpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5wZXJjZW50YWdlTW9kZUV2ZW50cyA9IHBlcmNlbnRhZ2VNb2RlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3NsaWNlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9zbGljZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgaGVscGVyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGRlbGVnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2RlbGVnYXRlICovIFwiLi91aS9ldmVudHMvZGVsZWdhdGUudHNcIik7XG5mdW5jdGlvbiBzbGljZUV2ZW50cygpIHtcbiAgICBsZXQgc2xpY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWNlcycpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShzbGljZXMsICdtb3VzZW92ZXInLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxheWVyLScgKyB0aGlzLmRhdGFzZXQub2JqZWN0aWQpXG4gICAgICAgICAgICAuZm9yRWFjaChkaXYgPT4gZGl2LmNsYXNzTGlzdC5hZGQoJ2hhcy1zbGljZScpKTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoc2xpY2VzLCAnbW91c2VvdXQnLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhhcy1zbGljZScpXG4gICAgICAgICAgICAuZm9yRWFjaChkaXYgPT4gZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1zbGljZScpKTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoc2xpY2VzLCAnY2xpY2snLCAnbGknLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGxheWVyY2xzID0gJy5sYXllci0nICsgdGhpcy5kYXRhc2V0Lm9iamVjdGlkO1xuICAgICAgICBsZXQgaW5zdGFuY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChsYXllcmNscyk7XG4gICAgICAgIGxldCBpbnN0YW5jZSA9IGluc3RhbmNlc1swXTtcbiAgICAgICAgaWYgKCFpbnN0YW5jZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoZWxwZXJfMi5tZXNzYWdlKGNvbW1vbl8xLmxvY2FsaXplKCdUaGUgc2xpY2Ugbm90IGluIGN1cnJlbnQgYXJ0Ym9hcmQuJykpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvZmZzZXRzID0gaW5zdGFuY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgICAgICBsZXQgc2Nyb2xscyA9IHtcbiAgICAgICAgICAgIGxlZnQ6IHZpZXdlci5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgdG9wOiB2aWV3ZXIuc2Nyb2xsVG9wLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgc2l6ZXMgPSB7XG4gICAgICAgICAgICB3aWR0aDogaW5zdGFuY2UuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGluc3RhbmNlLmNsaWVudEhlaWdodFxuICAgICAgICB9O1xuICAgICAgICBsZXQgdmlld2VyU2l6ZXMgPSB7XG4gICAgICAgICAgICB3aWR0aDogdmlld2VyLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWV3ZXIuY2xpZW50SGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIHZpZXdlci5zY3JvbGxMZWZ0ID0gKG9mZnNldHMubGVmdCArIHNjcm9sbHMubGVmdCkgLSAoKHZpZXdlclNpemVzLndpZHRoIC0gc2l6ZXMud2lkdGgpIC8gMik7XG4gICAgICAgIHZpZXdlci5zY3JvbGxUb3AgPSAob2Zmc2V0cy50b3AgKyBzY3JvbGxzLnRvcCAtIDYwKSAtICgodmlld2VyU2l6ZXMuaGVpZ2h0IC0gc2l6ZXMuaGVpZ2h0KSAvIDIpO1xuICAgICAgICBoZWxwZXJfMS5jbGlja0VsZW1lbnQoaW5zdGFuY2UpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zbGljZUV2ZW50cyA9IHNsaWNlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9zbGljZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy90YWIudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvdGFiLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIHRhYkV2ZW50cygpIHtcbiAgICBsZXQgdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1sZWZ0IC50YWInKTtcbiAgICBsZXQgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh0YWIsICdjbGljaycsICdsaScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRhYi5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCcpO1xuICAgICAgICBpZiAodGhpcyA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICBsZXQgaWQgPSB0aGlzLmRhdGFzZXQuaWQ7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgICAgICBuYXZiYXIuY2xhc3NMaXN0LmFkZCgnb24nKTtcbiAgICAgICAgbmF2YmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24nKS5mb3JFYWNoKChzZWMpID0+IHNlYy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTtcbiAgICAgICAgbmF2YmFyLnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9KTtcbn1cbmV4cG9ydHMudGFiRXZlbnRzID0gdGFiRXZlbnRzO1xuZnVuY3Rpb24gaGlkZU5hdkJhcigpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbGVmdCAudGFiJyk7XG4gICAgKF9hID0gdGFiLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgbGV0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbn1cbmV4cG9ydHMuaGlkZU5hdkJhciA9IGhpZGVOYXZCYXI7XG5mdW5jdGlvbiBzaG93TmF2QmFyKCkge1xuICAgIGxldCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbi1hcnRib2FyZHMnKTtcbiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgIGxldCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XG4gICAgbmF2YmFyLmNsYXNzTGlzdC5hZGQoJ29uJyk7XG59XG5leHBvcnRzLnNob3dOYXZCYXIgPSBzaG93TmF2QmFyO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy90YWIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy91bml0LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy91bml0LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBsYXllcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9sYXllcnMgKi8gXCIuL3VpL3JlbmRlci9sYXllcnMudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9pbnNwZWN0b3IgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHNcIik7XG5jb25zdCBzbGljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zbGljZXMgKi8gXCIuL3VpL3JlbmRlci9zbGljZXMudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gdW5pdEV2ZW50cygpIHtcbiAgICBsZXQgdW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1bml0Jyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHVuaXQsICdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1yZXNvbHV0aW9uXScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IHVuaXQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1yZXNvbHV0aW9uXTpjaGVja2VkJyk7XG4gICAgICAgIGNvbW1vbl8xLnN0YXRlLnVuaXQgPSBjaGVja2VkLmRhdGFzZXQudW5pdDtcbiAgICAgICAgY29tbW9uXzEuc3RhdGUuc2NhbGUgPSBOdW1iZXIoY2hlY2tlZC5kYXRhc2V0LnNjYWxlKTtcbiAgICAgICAgbGF5ZXJzXzEubGF5ZXJzKCk7XG4gICAgICAgIGluc3BlY3Rvcl8xLmluc3BlY3RvcigpO1xuICAgICAgICB1bml0LmJsdXIoKTtcbiAgICAgICAgdW5pdC5xdWVyeVNlbGVjdG9yKCdwJykuaW5uZXJUZXh0ID0gY2hlY2tlZC5kYXRhc2V0Lm5hbWU7XG4gICAgICAgIHNsaWNlc18xLnNsaWNlcygpO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh1bml0LCAnY2xpY2snLCAnaDMsIC5vdmVybGF5JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHVuaXQuYmx1cigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy51bml0RXZlbnRzID0gdW5pdEV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvdW5pdC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3pvb20udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3pvb20udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IHNjcmVlbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL3NjcmVlbiAqLyBcIi4vdWkvcmVuZGVyL3NjcmVlbi50c1wiKTtcbmNvbnN0IGxheWVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2xheWVycyAqLyBcIi4vdWkvcmVuZGVyL2xheWVycy50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvbm90ZXMgKi8gXCIuL3VpL3JlbmRlci9ub3Rlcy50c1wiKTtcbmNvbnN0IHpvb21fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci96b29tICovIFwiLi91aS9yZW5kZXIvem9vbS50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuY29uc3QgYWxpZ25FbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FsaWduRWxlbWVudCAqLyBcIi4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50c1wiKTtcbmZ1bmN0aW9uIHpvb21FdmVudHMoKSB7XG4gICAgbGV0IHpvb21lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tJyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHpvb21lciwgJ2NsaWNrJywgJy56b29tLWluOm5vdChkaXNhYmxlZCksIC56b29tLW91dDpub3QoZGlzYWJsZWQpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnem9vbS1pbicpKSB7XG4gICAgICAgICAgICB6b29tUmVuZGVyKGNvbW1vbl8xLnN0YXRlLnpvb20gLSAuMjUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgem9vbVJlbmRlcihjb21tb25fMS5zdGF0ZS56b29tICsgLjI1KTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuem9vbUV2ZW50cyA9IHpvb21FdmVudHM7XG5mdW5jdGlvbiB6b29tUmVuZGVyKHZhbCkge1xuICAgIGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgY3VycmVudFJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjcmVlblBvaW50ID0gc2NyZWVuUG9pbnRPblZpZXdlckNlbnRlcih2aWV3ZXIsIHNjcmVlbik7XG4gICAgbGV0IHNjcmVlblBvaW50MiA9IHtcbiAgICAgICAgeDogc2NyZWVuUG9pbnQueCAqIHZhbCAvIGNvbW1vbl8xLnN0YXRlLnpvb20sXG4gICAgICAgIHk6IHNjcmVlblBvaW50LnkgKiB2YWwgLyBjb21tb25fMS5zdGF0ZS56b29tLFxuICAgIH07XG4gICAgY29tbW9uXzEuc3RhdGUuem9vbSA9IHZhbDtcbiAgICB6b29tXzEuem9vbSgpO1xuICAgIHNjcmVlbl8xLnVwZGF0ZVNjcmVlbigpO1xuICAgIGFsaWduRWxlbWVudF8xLmFsaWduRWxlbWVudCh7XG4gICAgICAgIHNjcm9sbGVyOiB2aWV3ZXIsXG4gICAgICAgIHRhcmdldDogc2NyZWVuLFxuICAgICAgICB0b1JlY3Q6IGN1cnJlbnRSZWN0LFxuICAgICAgICBmcm9tRWRnZTogYWxpZ25FbGVtZW50XzEuRWRnZS5obGVmdCB8IGFsaWduRWxlbWVudF8xLkVkZ2UudnRvcCxcbiAgICAgICAgdG9FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhsZWZ0IHwgYWxpZ25FbGVtZW50XzEuRWRnZS52dG9wLFxuICAgIH0pO1xuICAgIHZpZXdlci5zY3JvbGxMZWZ0ICs9IHNjcmVlblBvaW50Mi54IC0gc2NyZWVuUG9pbnQueDtcbiAgICB2aWV3ZXIuc2Nyb2xsVG9wICs9IHNjcmVlblBvaW50Mi55IC0gc2NyZWVuUG9pbnQueTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbGF5ZXJzLCAjbm90ZXMnKS5mb3JFYWNoKGUgPT4gZS5pbm5lckhUTUwgPSAnJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxheWVyc18xLmxheWVycygpO1xuICAgICAgICBub3Rlc18xLm5vdGVzKCk7XG4gICAgfSwgMTUwKTtcbn1cbmV4cG9ydHMuem9vbVJlbmRlciA9IHpvb21SZW5kZXI7XG5mdW5jdGlvbiBzY3JlZW5Qb2ludE9uVmlld2VyQ2VudGVyKHZpZXdlciwgc2NyZWVuKSB7XG4gICAgbGV0IHZpZXdlclJlY3QgPSB2aWV3ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjcmVlblJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHZpZXdlckNlbnRlciA9IHtcbiAgICAgICAgeDogdmlld2VyUmVjdC54ICsgdmlld2VyUmVjdC53aWR0aCAvIDIsXG4gICAgICAgIHk6IHZpZXdlclJlY3QueSArIHZpZXdlclJlY3QuaGVpZ2h0IC8gMixcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZpZXdlckNlbnRlci54IC0gc2NyZWVuUmVjdC54LFxuICAgICAgICB5OiB2aWV3ZXJDZW50ZXIueSAtIHNjcmVlblJlY3QueSxcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy96b29tLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZW5kZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyICovIFwiLi91aS9yZW5kZXIvaW5kZXgudHNcIik7XG53aW5kb3cubWVheHVyZSA9IHtcbiAgICByZW5kZXI6IHJlbmRlcl8xLnJlbmRlcixcbn07XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9hcnRib2FyZHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiBhcnRib2FyZHMoKSB7XG4gICAgbGV0IGFydGJvYXJkTGlzdEhUTUwgPSBbXTtcbiAgICBsZXQgcGFnZXNTZWxlY3QgPSBbXTtcbiAgICBsZXQgZmxvd1N0YXJ0cyA9IFtdO1xuICAgIGxldCBwYWdlc0RhdGEgPSB7fTtcbiAgICBhcnRib2FyZExpc3RIVE1MLnB1c2goJzx1bCBjbGFzcz1cImFydGJvYXJkLWxpc3RcIj4nKTtcbiAgICBjb21tb25fMS5wcm9qZWN0LmFydGJvYXJkcy5mb3JFYWNoKChhcnRib2FyZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFwYWdlc0RhdGFbYXJ0Ym9hcmQucGFnZU9iamVjdElEXSkge1xuICAgICAgICAgICAgcGFnZXNEYXRhW2FydGJvYXJkLnBhZ2VPYmplY3RJRF0gPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogYXJ0Ym9hcmQucGFnZU5hbWUsXG4gICAgICAgICAgICAgICAgb2JqZWN0SUQ6IGFydGJvYXJkLnBhZ2VPYmplY3RJRCxcbiAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBwYWdlc0RhdGFbYXJ0Ym9hcmQucGFnZU9iamVjdElEXS5jb3VudCsrO1xuICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IChjb21tb25fMi5zdGF0ZS5hcnRib2FyZEluZGV4ID09IGluZGV4KSA/ICcgYWN0aXZlJyA6ICcnO1xuICAgICAgICBsZXQgaW1hZ2VEYXRhID0gYXJ0Ym9hcmQuaW1hZ2VCYXNlNjQgPyBhcnRib2FyZC5pbWFnZUJhc2U2NCA6IGFydGJvYXJkLmltYWdlUGF0aCArICc/JyArIGNvbW1vbl8xLnRpbWVzdGFtcDtcbiAgICAgICAgbGV0IGFydGJvYXJkTGlCb2R5ID0gYDxwaWN0dXJlIGNsYXNzPVwicHJldmlldy1pbWdcIiBkYXRhLW5hbWU9XCIke2FydGJvYXJkLm5hbWV9XCI+YCArXG4gICAgICAgICAgICBgPGltZyBhbHQ9XCIke2FydGJvYXJkLm5hbWV9XCIgc3JjPVwiJHtpbWFnZURhdGF9XCI+YCArXG4gICAgICAgICAgICBgPC9waWN0dXJlPmAgK1xuICAgICAgICAgICAgYDxkaXY+YCArXG4gICAgICAgICAgICBgPGgzPiR7YXJ0Ym9hcmQubmFtZX08L2gzPmAgK1xuICAgICAgICAgICAgYDxzbWFsbD4ke2FydGJvYXJkLnBhZ2VOYW1lfTwvc21hbGw+YCArXG4gICAgICAgICAgICBgPC9kaXY+YDtcbiAgICAgICAgYXJ0Ym9hcmRMaXN0SFRNTC5wdXNoKGA8bGkgaWQ9XCJhcnRib2FyZC0ke2luZGV4fVwiIHRhYmluZGV4PVwiJHtpbmRleH1cIiBjbGFzcz1cImFydGJvYXJkJHtjbGFzc05hbWVzfVwiIGRhdGEtcGFnZS1pZD1cIiR7YXJ0Ym9hcmQucGFnZU9iamVjdElEfVwiIGRhdGEtaWQ9XCIke2FydGJvYXJkLm9iamVjdElEfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiID5gICtcbiAgICAgICAgICAgIGFydGJvYXJkTGlCb2R5ICtcbiAgICAgICAgICAgIGA8L2xpPmApO1xuICAgICAgICBpZiAoYXJ0Ym9hcmQuZmxvd1N0YXJ0UG9pbnQpXG4gICAgICAgICAgICBmbG93U3RhcnRzLnB1c2goYDxsaSBpZD1cInN0YXJ0cG9pbnQtJHtpbmRleH1cIiBjbGFzcz1cImFydGJvYXJkJHtjbGFzc05hbWVzfVwiIGRhdGEtcGFnZS1pZD1cIiR7YXJ0Ym9hcmQucGFnZU9iamVjdElEfVwiIGRhdGEtaWQ9XCIke2FydGJvYXJkLm9iamVjdElEfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiID5gICtcbiAgICAgICAgICAgICAgICBhcnRib2FyZExpQm9keSArXG4gICAgICAgICAgICAgICAgYDwvbGk+YCk7XG4gICAgfSk7XG4gICAgYXJ0Ym9hcmRMaXN0SFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIHBhZ2VzU2VsZWN0LnB1c2goJzxkaXYgY2xhc3M9XCJwYWdlcy1zZWxlY3RcIiB0YWJpbmRleD1cIjBcIj4nLCBgPGgzPiR7Y29tbW9uXzEubG9jYWxpemUoJ0FsbCBhcnRib2FyZHMnKX0gPGVtPigke2NvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzLmxlbmd0aH0pPC9lbT48L2gzPmAsICc8dWwgY2xhc3M9XCJwYWdlLWxpc3RcIj4nLCBgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBhZ2VcIiB2YWx1ZT1cImFsbFwiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+JHtjb21tb25fMS5sb2NhbGl6ZSgnQWxsIGFydGJvYXJkcycpfSA8ZW0+KCR7Y29tbW9uXzEucHJvamVjdC5hcnRib2FyZHMubGVuZ3RofSk8L2VtPjwvc3Bhbj48L2xhYmVsPjwvbGk+YCk7XG4gICAgT2JqZWN0LmtleXMocGFnZXNEYXRhKS5mb3JFYWNoKG9iamVjdElEID0+IHtcbiAgICAgICAgbGV0IGFydGJvYXJkID0gcGFnZXNEYXRhW29iamVjdElEXTtcbiAgICAgICAgcGFnZXNTZWxlY3QucHVzaChgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBhZ2VcIiB2YWx1ZT1cIiR7YXJ0Ym9hcmQub2JqZWN0SUR9XCI+PHNwYW4+JHthcnRib2FyZC5uYW1lfSA8ZW0+KCR7YXJ0Ym9hcmQuY291bnR9KTwvZW0+PC9zcGFuPjwvbGFiZWw+PC9saT5gKTtcbiAgICB9KTtcbiAgICBwYWdlc1NlbGVjdC5wdXNoKCc8L3VsPicpO1xuICAgIHBhZ2VzU2VsZWN0LnB1c2goJzwvZGl2PicpO1xuICAgIGlmIChmbG93U3RhcnRzLmxlbmd0aCkge1xuICAgICAgICBmbG93U3RhcnRzLnVuc2hpZnQoJzxkaXYgY2xhc3M9XCJmbG93LXN0YXJ0c1wiPicsICc8ZGl2IGNsYXNzPVwidGl0bGVcIj4nLCBgPGgzPiR7Y29tbW9uXzEubG9jYWxpemUoJ1N0YXJ0IHBvaW50cycpfSA8ZW0+KCR7Zmxvd1N0YXJ0cy5sZW5ndGh9KTwvZW0+PC9oMz5gLCAnPC9kaXY+JywgJzx1bCBjbGFzcz1cImFydGJvYXJkLWxpc3RcIj4nKTtcbiAgICAgICAgZmxvd1N0YXJ0cy5wdXNoKCc8L3VsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkcycpLmlubmVySFRNTCA9IFtmbG93U3RhcnRzLmpvaW4oJycpLCBwYWdlc1NlbGVjdC5qb2luKCcnKSwgYXJ0Ym9hcmRMaXN0SFRNTC5qb2luKCcnKV0uam9pbignJyk7XG59XG5leHBvcnRzLmFydGJvYXJkcyA9IGFydGJvYXJkcztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvY29sb3JzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2NvbG9ycy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gY29sb3JzKCkge1xuICAgIGlmICghY29tbW9uXzIucHJvamVjdC5jb2xvcnMpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIWNvbW1vbl8yLnByb2plY3QuY29sb3JOYW1lcylcbiAgICAgICAgY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzID0ge307XG4gICAgdmFyIGNvbG9yTGlzdEhUTUwgPSBbXTtcbiAgICBjb2xvckxpc3RIVE1MLnB1c2goJzx1bCBjbGFzcz1cImNvbG9yLWxpc3RcIj4nKTtcbiAgICBjb21tb25fMi5wcm9qZWN0LmNvbG9ycy5mb3JFYWNoKChjb2xvciwgaW5kZXgpID0+IHtcbiAgICAgICAgY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzW2NvbG9yLmNvbG9yWydhcmdiLWhleCddXSA9IGNvbG9yLm5hbWU7XG4gICAgICAgIGNvbG9yTGlzdEhUTUwucHVzaCgnPGxpIGlkPVwiY29sb3ItJyArIGluZGV4ICsgJ1wiIGRhdGEtY29sb3I9XCInICsgZW5jb2RlVVJJKEpTT04uc3RyaW5naWZ5KGNvbG9yLmNvbG9yKSkgKyAnXCI+JywgJzxlbT48aSBzdHlsZT1cImJhY2tncm91bmQ6JyArIGNvbG9yLmNvbG9yWydjc3MtcmdiYSddICsgJ1wiPjwvaT48L2VtPicsICc8ZGl2PicsICc8aDM+JyArIGNvbG9yLm5hbWUgKyAnPC9oMz4nLCAnPHNtYWxsPicgKyBjb2xvci5jb2xvcltjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdF0gKyAnPC9zbWFsbD4nLCAnPC9kaXY+JywgJzwvbGk+Jyk7XG4gICAgfSk7XG4gICAgY29sb3JMaXN0SFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIGlmIChjb21tb25fMi5wcm9qZWN0LmNvbG9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb2xvcnMnKS5pbm5lckhUTUwgPSBjb2xvckxpc3RIVE1MLmpvaW4oJycpO1xuICAgIH1cbn1cbmV4cG9ydHMuY29sb3JzID0gY29sb3JzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9jb2xvcnMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9oZWxwZXIudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaGVscGVyLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIHpvb21TaXplKHNpemUpIHtcbiAgICByZXR1cm4gc2l6ZSAqIGNvbW1vbl8xLnN0YXRlLnpvb20gLyBjb21tb25fMS5wcm9qZWN0LnJlc29sdXRpb247XG59XG5leHBvcnRzLnpvb21TaXplID0gem9vbVNpemU7XG5mdW5jdGlvbiBwZXJjZW50YWdlU2l6ZShzaXplLCBzaXplMikge1xuICAgIHJldHVybiAoTWF0aC5yb3VuZChzaXplIC8gc2l6ZTIgKiAxMDAwKSAvIDEwKSArIFwiJVwiO1xufVxuZXhwb3J0cy5wZXJjZW50YWdlU2l6ZSA9IHBlcmNlbnRhZ2VTaXplO1xuZnVuY3Rpb24gdW5pdFNpemUodmFsdWUsIGlzVGV4dCkge1xuICAgIC8vIGxvZ2ljIHBvaW50XG4gICAgbGV0IHB0ID0gdmFsdWUgLyBjb21tb25fMS5wcm9qZWN0LnJlc29sdXRpb247XG4gICAgLy8gY29udmVydCB0byBkaXNwbGF5IHZhbHVlXG4gICAgbGV0IHN6ID0gTWF0aC5yb3VuZChwdCAqIGNvbW1vbl8xLnN0YXRlLnNjYWxlICogMTAwKSAvIDEwMDtcbiAgICBsZXQgdW5pdHMgPSBjb21tb25fMS5zdGF0ZS51bml0LnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgdW5pdCA9IHVuaXRzWzBdO1xuICAgIGlmICh1bml0cy5sZW5ndGggPiAxICYmIGlzVGV4dCkge1xuICAgICAgICB1bml0ID0gdW5pdHNbMV07XG4gICAgfVxuICAgIHJldHVybiBzeiArIHVuaXQ7XG59XG5leHBvcnRzLnVuaXRTaXplID0gdW5pdFNpemU7XG5sZXQgbXNnVGltZW91dDtcbmZ1bmN0aW9uIG1lc3NhZ2UobXNnKSB7XG4gICAgbGV0IG1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVzc2FnZScpO1xuICAgIG1lc3NhZ2UuaW5uZXJUZXh0ID0gbXNnO1xuICAgIG1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdpbmhlcml0JztcbiAgICBpZiAobXNnVGltZW91dCkge1xuICAgICAgICBjbGVhclRpbWVvdXQobXNnVGltZW91dCk7XG4gICAgICAgIG1zZ1RpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIG1zZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IG1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJywgMTAwMCk7XG59XG5leHBvcnRzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9oZWxwZXIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luZGV4LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgYXJ0Ym9hcmRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FydGJvYXJkcyAqLyBcIi4vdWkvcmVuZGVyL2FydGJvYXJkcy50c1wiKTtcbmNvbnN0IHNsaWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zbGljZXMgKi8gXCIuL3VpL3JlbmRlci9zbGljZXMudHNcIik7XG5jb25zdCBjb2xvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29sb3JzICovIFwiLi91aS9yZW5kZXIvY29sb3JzLnRzXCIpO1xuY29uc3QgdW5pdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91bml0ICovIFwiLi91aS9yZW5kZXIvdW5pdC50c1wiKTtcbmNvbnN0IHpvb21fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vem9vbSAqLyBcIi4vdWkvcmVuZGVyL3pvb20udHNcIik7XG5jb25zdCBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vdWkvZXZlbnRzL2luZGV4LnRzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cy9uYXZpZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyKGRhdGEpIHtcbiAgICBjb21tb25fMS5pbml0KGRhdGEpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKS5pbm5lckhUTUwgPSBbXG4gICAgICAgICc8aGVhZGVyPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyLWxlZnRcIj4nLFxuICAgICAgICAnPHVsIGNsYXNzPVwidGFiXCI+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tYXJ0Ym9hcmRzIGN1cnJlbnRcIiBkYXRhLWlkPVwiYXJ0Ym9hcmRzXCI+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1zbGljZXNcIiBkYXRhLWlkPVwic2xpY2VzXCI+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1jb2xvcnNcIiBkYXRhLWlkPVwiY29sb3JzXCI+PC9saT4nLFxuICAgICAgICAnPC91bD4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJoZWFkZXItY2VudGVyXCI+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJ6b29tXCIgY2xhc3M9XCJ6b29tLXdpZGdldFwiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiZmxvdy1tb2RlXCI+JyxcbiAgICAgICAgYDxsYWJlbCBmb3I9XCJ0ZXh0LW1vZGVcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdISUdITElHSFQnKX08L2xhYmVsPmAsXG4gICAgICAgICc8aW5wdXQgaWQ9XCJzZWFyY2gtbW9kZVwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInRleHQtbW9kZVwiPicsXG4gICAgICAgICc8bGFiZWwgZm9yPVwidGV4dC1tb2RlXCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8aDE+PC9oMT4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInNob3ctbm90ZXNcIj4nLFxuICAgICAgICBgPGxhYmVsIGZvcj1cInNob3ctbm90ZXNcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdOT1RFUycpfTwvbGFiZWw+YCxcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJzbGlkZWJveFwiIHRpdGxlPVwiJHtjb21tb25fMS5sb2NhbGl6ZSgnS2V5Ym9hcmQgc2hvcnRjdXQnKX06IG5cIj5gLFxuICAgICAgICAnPGlucHV0IGlkPVwic2hvdy1ub3Rlc1wiIHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJzaG93LW5vdGVzXCIgY2hlY2tlZD1cImNoZWNrZWRcIj4nLFxuICAgICAgICAnPGxhYmVsIGZvcj1cInNob3ctbm90ZXNcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyLXJpZ2h0XCI+PGRpdiBpZD1cInVuaXRcIiBjbGFzcz1cInVuaXQtYm94XCIgdGFiaW5kZXg9XCIwXCI+WEhEUEkgQDJ4IChkcC9zcCk8L2Rpdj48L2Rpdj4nLFxuICAgICAgICAnPC9oZWFkZXI+JyxcbiAgICAgICAgJzxtYWluPicsXG4gICAgICAgICc8YXNpZGUgY2xhc3M9XCJuYXZiYXIgb25cIj4nLFxuICAgICAgICAnPHNlY3Rpb24gaWQ9XCJhcnRib2FyZHNcIj48L3NlY3Rpb24+JyxcbiAgICAgICAgYDxzZWN0aW9uIGlkPVwic2xpY2VzXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjxkaXYgY2xhc3M9XCJlbXB0eVwiPiR7Y29tbW9uXzEubG9jYWxpemUoJ05vIHNsaWNlcyBhZGRlZCEnKX08L2Rpdj48L3NlY3Rpb24+YCxcbiAgICAgICAgYDxzZWN0aW9uIGlkPVwiY29sb3JzXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjxkaXYgY2xhc3M9XCJlbXB0eVwiPiR7Y29tbW9uXzEubG9jYWxpemUoJ05vIGNvbG9ycyBhZGRlZCEnKX08L2Rpdj48L3NlY3Rpb24+YCxcbiAgICAgICAgJzwvYXNpZGU+JyxcbiAgICAgICAgJzxzZWN0aW9uIGNsYXNzPVwic2NyZWVuLXZpZXdlclwiPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwic2NyZWVuLXZpZXdlci1pbm5lclwiPicsXG4gICAgICAgICc8ZGl2IGlkPVwic2NyZWVuXCIgY2xhc3M9XCJzY3JlZW5cIj4nLFxuICAgICAgICAnPGRpdiBpZD1cInJ1bGVyc1wiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPicsXG4gICAgICAgICc8ZGl2IGlkPVwicnZcIiBjbGFzcz1cInJ1bGVyIHZcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cInJoXCIgY2xhc3M9XCJydWxlciBoXCI+PC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwiZmxvd3NcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cImxheWVyc1wiPjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwibm90ZXNcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cInRkXCIgY2xhc3M9XCJkaXN0YW5jZSB2XCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PGRpdiBkYXRhLWhlaWdodD1cIjNcIj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cInJkXCIgY2xhc3M9XCJkaXN0YW5jZSBoXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PGRpdiBkYXRhLXdpZHRoPVwiXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJiZFwiIGNsYXNzPVwiZGlzdGFuY2UgdlwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS1oZWlnaHQ9XCJcIj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cImxkXCIgY2xhc3M9XCJkaXN0YW5jZSBoXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmU7XCI+PGRpdiBkYXRhLXdpZHRoPVwiXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cIm92ZXJsYXlcIj48L2Rpdj4nLFxuICAgICAgICAnPC9zZWN0aW9uPicsXG4gICAgICAgICc8YXNpZGUgaWQ9XCJpbnNwZWN0b3JcIiBjbGFzcz1cImluc3BlY3RvclwiPjwvYXNpZGU+JyxcbiAgICAgICAgJzwvbWFpbj4nLFxuICAgICAgICAnPGRpdiBpZD1cIm1lc3NhZ2VcIiBjbGFzcz1cIm1lc3NhZ2VcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cImN1cnNvclwiIGNsYXNzPVwiY3Vyc29yXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPjwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xuICAgIHpvb21fMS56b29tKCk7XG4gICAgdW5pdF8xLnVuaXQoKTtcbiAgICBhcnRib2FyZHNfMS5hcnRib2FyZHMoKTtcbiAgICBzbGljZXNfMS5zbGljZXMoKTtcbiAgICBjb2xvcnNfMS5jb2xvcnMoKTtcbiAgICBldmVudHNfMS5ldmVudHMoKTtcbiAgICBuYXZpZ2F0ZV8xLm5hdmlnYXRlQnlVUkxIYXNoKGZhbHNlKTtcbn1cbmV4cG9ydHMucmVuZGVyID0gcmVuZGVyO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbmRleC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9ib3JkZXJzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2JvcmRlcnMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyQm9yZGVycyhsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5ib3JkZXJzIHx8ICFsYXllckRhdGEuYm9yZGVycy5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgYm9yZGVycyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSBsYXllckRhdGEuYm9yZGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgYm9yZGVyID0gbGF5ZXJEYXRhLmJvcmRlcnNbaV07XG4gICAgICAgIGJvcmRlcnMucHVzaCgnPGRpdiBjbGFzcz1cIml0ZW1zLWdyb3VwXCI+JywgJzxoND4nICsgY29tbW9uXzEubG9jYWxpemUoYm9yZGVyLnBvc2l0aW9uICsgJyBCb3JkZXInKSArICc8L2g0PicsICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1dlaWdodCcpICsgJzpcIj4nLCAnPGxhYmVsPjxpbnB1dCBpZD1cImZvbnQtZmFtaWx5XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShib3JkZXIudGhpY2tuZXNzKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLCAnPGxhYmVsPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgICAgICBib3JkZXJzLnB1c2goJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZShib3JkZXIuZmlsbFR5cGUpICsgJzpcIj4nKTtcbiAgICAgICAgaWYgKGJvcmRlci5maWxsVHlwZS50b0xvd2VyQ2FzZSgpID09IFwiY29sb3JcIikge1xuICAgICAgICAgICAgYm9yZGVycy5wdXNoKHNoYXJlZF8xLmNvbG9ySXRlbShib3JkZXIuY29sb3IpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGJvcmRlcnMucHVzaCgnPGRpdiBjbGFzcz1cImNvbG9ycyBncmFkaWVudFwiPicpO1xuICAgICAgICAgICAgYm9yZGVyLmdyYWRpZW50LmNvbG9yU3RvcHMuZm9yRWFjaChncmFkaWVudCA9PiBib3JkZXJzLnB1c2goc2hhcmVkXzEuY29sb3JJdGVtKGdyYWRpZW50LmNvbG9yKSkpO1xuICAgICAgICAgICAgYm9yZGVycy5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgfVxuICAgICAgICBib3JkZXJzLnB1c2goJzwvZGl2PicpO1xuICAgICAgICBib3JkZXJzLnB1c2goJzwvZGl2PicpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdCT1JERVJTJywgYm9yZGVycy5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlckJvcmRlcnMgPSByZW5kZXJCb3JkZXJzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvYm9yZGVycy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9jb2RlVGVtcGxhdGUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9jb2RlVGVtcGxhdGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBoZWxwZXJfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2V2ZW50cy9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckNvZGVUZW1wbGF0ZShsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5jc3MgfHwgIWxheWVyRGF0YS5jc3MubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIHRhYiA9IFsnPHVsIGNsYXNzPVwidGFiXCIgaWQ9XCJjb2RlLXRhYlwiID4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1jc3MtcGFuZWxcIiBkYXRhLWlkPVwiY3NzLXBhbmVsXCIgZGF0YS1jb2RlVHlwZT1cImNzc1wiPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tYW5kcm9pZC1wYW5lbFwiIGRhdGEtaWQ9XCJhbmRyb2lkLXBhbmVsXCIgZGF0YS1jb2RlVHlwZT1cImFuZHJvaWRcIiA+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1pb3MtcGFuZWxcIiBkYXRhLWlkPVwiaW9zLXBhbmVsXCIgZGF0YS1jb2RlVHlwZT1cImlvc1wiID48L2xpPicsXG4gICAgICAgICc8L3VsPidcbiAgICBdLmpvaW4oJycpO1xuICAgIHZhciBjc3MgPSBbXG4gICAgICAgICc8ZGl2IGlkPVwiY3NzLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsXG4gICAgICAgICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIicgKyAobGF5ZXJEYXRhLmNzcy5sZW5ndGggKyAxKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArIGxheWVyRGF0YS5jc3Muam9pbihcIlxcclxcblwiKSArICc8L3RleHRhcmVhPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xuICAgIHZhciBhbmRyb2lkID0gW107XG4gICAgaWYgKGxheWVyRGF0YS50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgIGFuZHJvaWQucHVzaCgnPGRpdiBpZD1cImFuZHJvaWQtcGFuZWxcIiAgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIiZsdDtUZXh0Vmlld1xcclxcblwiICsgZ2V0QW5kcm9pZFdpdGhIZWlnaHQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICBcImFuZHJvaWQ6dGV4dD1cXFwiXCIgKyBsYXllckRhdGEuY29udGVudCArIFwiXFxcIlxcclxcblwiICsgXCJhbmRyb2lkOnRleHRDb2xvcj1cXFwiXCIgKyBsYXllckRhdGEuY29sb3JbXCJhcmdiLWhleFwiXSArIFwiXFxcIlxcclxcblwiICtcbiAgICAgICAgICAgIFwiYW5kcm9pZDp0ZXh0U2l6ZT1cXFwiXCIgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEuZm9udFNpemUsIHRydWUpICsgXCJcXFwiXFxyXFxuXCIgKyBcIi8mZ3Q7XCIgKyAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzaGFwZVwiKSB7XG4gICAgICAgIGFuZHJvaWQucHVzaCgnPGRpdiBpZD1cImFuZHJvaWQtcGFuZWxcIiBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiJmx0O1ZpZXdcXHJcXG5cIiArIGdldEFuZHJvaWRXaXRoSGVpZ2h0KGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgZ2V0QW5kcm9pZFNoYXBlQmFja2dyb3VuZChsYXllckRhdGEpICtcbiAgICAgICAgICAgIFwiLyZndDtcIiArICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXllckRhdGEudHlwZSA9PSBcInNsaWNlXCIpIHtcbiAgICAgICAgYW5kcm9pZC5wdXNoKCc8ZGl2IGlkPVwiYW5kcm9pZC1wYW5lbFwiIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCImbHQ7SW1hZ2VWaWV3XFxyXFxuXCIgKyBnZXRBbmRyb2lkV2l0aEhlaWdodChsYXllckRhdGEpICtcbiAgICAgICAgICAgIGdldEFuZHJvaWRJbWFnZVNyYyhsYXllckRhdGEpICsgXCIvJmd0O1wiICtcbiAgICAgICAgICAgICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICB2YXIgaW9zID0gW107XG4gICAgaWYgKGxheWVyRGF0YS50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgIGlvcy5wdXNoKCc8ZGl2IGlkPVwiaW9zLXBhbmVsXCIgIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCJVSUxhYmVsICpsYWJlbCA9IFtbVUlMYWJlbCBhbGxvY10gaW5pdF07XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJsYWJlbC5mcmFtZSA9IENHUmVjdE1ha2UoXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC55KSArIFwiXFwsIFwiICtcbiAgICAgICAgICAgIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC53aWR0aCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgXCIpO1xcclxcblwiICtcbiAgICAgICAgICAgIFwibGFiZWwudGV4dCA9IFxcQFxcXCJcIiArIGxheWVyRGF0YS5jb250ZW50ICsgXCJcXFwiO1xcclxcblwiICtcbiAgICAgICAgICAgIFwibGFiZWwuZm9udCA9IFtVSUZvbnQgZm9udFdpdGhOYW1lOlxcQFxcXCJcIiArIGxheWVyRGF0YS5mb250RmFjZSArIFwiXFxcIiBzaXplOlwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5mb250U2l6ZSkgKyBcIl07XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJsYWJlbC50ZXh0Q29sb3IgPSBbVUlDb2xvciBjb2xvcldpdGhSZWQ6XCIgKyBsYXllckRhdGEuY29sb3IucmdiLnIgKyBcIi8yNTUuMCBncmVlbjpcIiArIGxheWVyRGF0YS5jb2xvci5yZ2IuZyArIFwiLzI1NS4wIGJsdWU6XCIgKyBsYXllckRhdGEuY29sb3IucmdiLmIgKyBcIi8yNTUuMCBhbHBoYTpcIiArIGxheWVyRGF0YS5jb2xvci5hbHBoYSArIFwiLzI1NS4wXTtcXHJcXG5cIiArXG4gICAgICAgICAgICAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzaGFwZVwiKSB7XG4gICAgICAgIGlvcy5wdXNoKCc8ZGl2IGlkPVwiaW9zLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIlVJVmlldyAqdmlldyA9IFtbVUlWaWV3IGFsbG9jXSBpbml0XTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcInZpZXcuZnJhbWUgPSBDR1JlY3RNYWtlKFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LngpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueSkgKyBcIlxcLCBcIiArXG4gICAgICAgICAgICBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3Qud2lkdGgpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QuaGVpZ2h0KSArIFwiKTtcXHJcXG5cIiArXG4gICAgICAgICAgICBnZXRJT1NTaGFwZUJhY2tncm91bmQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzbGljZVwiKSB7XG4gICAgICAgIGlvcy5wdXNoKCc8ZGl2IGlkPVwiaW9zLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIlVJSW1hZ2VWaWV3ICppbWFnZVZpZXcgPSBbW1VJSW1hZ2VWaWV3IGFsbG9jXSBpbml0XTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcImltYWdlVmlldy5mcmFtZSA9IENHUmVjdE1ha2UoXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC55KSArIFwiXFwsIFwiICtcbiAgICAgICAgICAgIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC53aWR0aCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgXCIpO1xcclxcblwiICtcbiAgICAgICAgICAgIGdldElPU0ltYWdlU3JjKGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ0NPREUgVEVNUExBVEUnLCBbdGFiLCBjc3MsIGFuZHJvaWQuam9pbignJyksIGlvcy5qb2luKCcnKV0uam9pbignJyksIHRydWUpO1xufVxuZXhwb3J0cy5yZW5kZXJDb2RlVGVtcGxhdGUgPSByZW5kZXJDb2RlVGVtcGxhdGU7XG5mdW5jdGlvbiBnZXRBbmRyb2lkV2l0aEhlaWdodChsYXllckRhdGEpIHtcbiAgICByZXR1cm4gXCJhbmRyb2lkOmxheW91dF93aWR0aD1cXFwiXCIgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC53aWR0aCwgZmFsc2UpICsgXCJcXFwiXFxyXFxuXCIgKyBcImFuZHJvaWQ6bGF5b3V0X2hlaWdodD1cXFwiXCIgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQsIGZhbHNlKSArIFwiXFxcIlxcclxcblwiO1xufVxuZnVuY3Rpb24gZ2V0QW5kcm9pZFNoYXBlQmFja2dyb3VuZChsYXllckRhdGEpIHtcbiAgICB2YXIgY29sb3JDb2RlID0gXCJcIjtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gXCJzaGFwZVwiIHx8IHR5cGVvZiAobGF5ZXJEYXRhLmZpbGxzKSA9PSAndW5kZWZpbmVkJyB8fCBsYXllckRhdGEuZmlsbHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBjb2xvckNvZGU7XG4gICAgdmFyIGY7XG4gICAgZm9yIChmIGluIGxheWVyRGF0YS5maWxscykge1xuICAgICAgICBpZiAobGF5ZXJEYXRhLmZpbGxzW2ZdLmZpbGxUeXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJhbmRyb2lkOmJhY2tncm91bmQ9XFxcIlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yW1wiYXJnYi1oZXhcIl0gKyBcIlxcXCJcXHJcXG5cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3JDb2RlO1xufVxuZnVuY3Rpb24gZ2V0QW5kcm9pZEltYWdlU3JjKGxheWVyRGF0YSkge1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSBcInNsaWNlXCIgfHwgdHlwZW9mIChsYXllckRhdGEuZXhwb3J0YWJsZSkgPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIHJldHVybiBcImFuZHJvaWQ6c3JjPVxcXCJcXEBtaXBtYXAvXCIgKyBsYXllckRhdGEuZXhwb3J0YWJsZVswXS5uYW1lICsgXCIuXCIgKyBsYXllckRhdGEuZXhwb3J0YWJsZVswXS5mb3JtYXQgKyBcIlxcXCJcXHJcXG5cIjtcbn1cbmZ1bmN0aW9uIGdldElPU1NoYXBlQmFja2dyb3VuZChsYXllckRhdGEpIHtcbiAgICB2YXIgY29sb3JDb2RlID0gXCJcIjtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gXCJzaGFwZVwiIHx8IHR5cGVvZiAobGF5ZXJEYXRhLmZpbGxzKSA9PSAndW5kZWZpbmVkJyB8fCBsYXllckRhdGEuZmlsbHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBjb2xvckNvZGU7XG4gICAgdmFyIGY7XG4gICAgZm9yIChmIGluIGxheWVyRGF0YS5maWxscykge1xuICAgICAgICBpZiAobGF5ZXJEYXRhLmZpbGxzW2ZdLmZpbGxUeXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2aWV3LmJhY2tncm91bmRDb2xvciA9IFtVSUNvbG9yIGNvbG9yV2l0aFJlZDpcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvci5yZ2IuciArIFwiLzI1NS4wIGdyZWVuOlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yLnJnYi5nICsgXCIvMjU1LjAgYmx1ZTpcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvci5yZ2IuYiArIFwiLzI1NS4wIGFscGhhOlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yLmFscGhhICsgXCIvMjU1LjBdXFw7XFxyXFxuXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yQ29kZTtcbn1cbmZ1bmN0aW9uIGdldElPU0ltYWdlU3JjKGxheWVyRGF0YSkge1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSBcInNsaWNlXCIgfHwgdHlwZW9mIChsYXllckRhdGEuZXhwb3J0YWJsZSkgPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIHJldHVybiBcImltYWdlVmlldy5pbWFnZSA9IFtVSUltYWdlIGltYWdlTmFtZWQ6XFxAXFxcIlwiICsgbGF5ZXJEYXRhLmV4cG9ydGFibGVbMF0ubmFtZSArIFwiLlwiICsgbGF5ZXJEYXRhLmV4cG9ydGFibGVbMF0uZm9ybWF0ICsgXCJcXFwiXTtcXHJcXG5cIjtcbn1cblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2NvZGVUZW1wbGF0ZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9leHBvcnRhYmxlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2V4cG9ydGFibGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyRXhwb3J0YWJsZShsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5leHBvcnRhYmxlIHx8ICFsYXllckRhdGEuZXhwb3J0YWJsZS5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgZXhwSFRNTCA9IFtdLCBwYXRoID0gJ2Fzc2V0cy8nO1xuICAgIGV4cEhUTUwucHVzaCgnPHVsIGNsYXNzPVwiZXhwb3J0YWJsZVwiPicpO1xuICAgIGxheWVyRGF0YS5leHBvcnRhYmxlLmZvckVhY2goZXhwb3J0YWJsZSA9PiB7XG4gICAgICAgIHZhciBmaWxlUGF0aCA9IHBhdGggKyBleHBvcnRhYmxlLnBhdGg7XG4gICAgICAgIGV4cEhUTUwucHVzaCgnPGxpPicsICc8YSBocmVmPVwiJyArIGZpbGVQYXRoICsgJ1widGFyZ2V0PVwiX2JsYW5rXCIgZGF0YS1mb3JtYXQ9XCInICsgZXhwb3J0YWJsZS5mb3JtYXQudG9VcHBlckNhc2UoKSArICdcIj48aW1nIHNyYz1cIicgKyBmaWxlUGF0aCArICdcIiBhbHQ9XCInICsgZXhwb3J0YWJsZS5wYXRoICsgJ1wiPicgKyBleHBvcnRhYmxlLnBhdGgucmVwbGFjZSgnZHJhd2FibGUtJywgJycpICsgJzwvYT4nLCAnPC9saT4nKTtcbiAgICB9KTtcbiAgICBleHBIVE1MLnB1c2goJzwvdWw+Jyk7XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnRVhQT1JUQUJMRScsIGV4cEhUTUwuam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJFeHBvcnRhYmxlID0gcmVuZGVyRXhwb3J0YWJsZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2V4cG9ydGFibGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZmlsbHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZpbGxzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyRmlsbHMobGF5ZXJEYXRhKSB7XG4gICAgaWYgKCFsYXllckRhdGEuZmlsbHMgfHwgIWxheWVyRGF0YS5maWxscy5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgZmlsbHMgPSBbXTtcbiAgICBsZXQgZmlsbHNEYXRhID0gbGF5ZXJEYXRhLmZpbGxzO1xuICAgIGZvciAobGV0IGkgPSBmaWxsc0RhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IGZpbGwgPSBmaWxsc0RhdGFbaV07XG4gICAgICAgIGZpbGxzLnB1c2goJzxkaXYgY2xhc3M9XCJpdGVtIGl0ZW1zLWdyb3VwXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZShmaWxsLmZpbGxUeXBlKSArICc6XCI+Jyk7XG4gICAgICAgIGlmIChmaWxsLmZpbGxUeXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgICBmaWxscy5wdXNoKHNoYXJlZF8xLmNvbG9ySXRlbShmaWxsLmNvbG9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaWxscy5wdXNoKCc8ZGl2IGNsYXNzPVwiZ3JhZGllbnRcIj4nKTtcbiAgICAgICAgICAgIGZpbGwuZ3JhZGllbnQuY29sb3JTdG9wcy5mb3JFYWNoKGdyYWRpZW50ID0+IGZpbGxzLnB1c2goc2hhcmVkXzEuY29sb3JJdGVtKGdyYWRpZW50LmNvbG9yKSkpO1xuICAgICAgICAgICAgZmlsbHMucHVzaCgnPC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZmlsbHMucHVzaCgnPC9kaXY+Jyk7XG4gICAgfVxuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ0ZJTExTJywgZmlsbHMuam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJGaWxscyA9IHJlbmRlckZpbGxzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvZmlsbHMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZm9udC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9mb250LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckZvbnQobGF5ZXJEYXRhKSB7XG4gICAgaWYgKGxheWVyRGF0YS50eXBlICE9ICd0ZXh0JylcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIHZhciBmb250RmFtaWx5ID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdGYW1pbHknKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbD48aW5wdXQgaWQ9XCJmb250LWZhbWlseVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgbGF5ZXJEYXRhLmZvbnRGYWNlICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSwgdGV4dENvbG9yID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdDb2xvcicpICsgJzpcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImNvbG9yXCI+JyxcbiAgICAgICAgc2hhcmVkXzEuY29sb3JJdGVtKGxheWVyRGF0YS5jb2xvciksXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyksIGZvbnRTaXplID0gKGxheWVyRGF0YS5mb250U2l6ZSkgPyBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1NpemUnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbD48aW5wdXQgaWQ9XCJvcGFjaXR5XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEuZm9udFNpemUsIHRydWUpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWw+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJykgOiAnJywgc3BhY2luZyA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnU3BhY2luZycpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0NoYXJhY3RlcicpICsgJ1wiPjxpbnB1dCBpZD1cImxldHRlci1zcGFjaW5nXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEubGV0dGVyU3BhY2luZywgdHJ1ZSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdMaW5lJykgKyAnXCI+PGlucHV0IGlkPVwibGluZS1oZWlnaHRcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIChsYXllckRhdGEubGluZUhlaWdodCA/IGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5saW5lSGVpZ2h0LCB0cnVlKSA6ICdBdXRvJykgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpLCBjb250ZW50ID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIj4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0NvbnRlbnQnKSArICdcIj48dGV4dGFyZWEgaWQ9XCJjb250ZW50XCIgcm93cz1cIjJcIiByZWFkb25seT1cInJlYWRvbmx5XCIgc3R5bGU9XCJmb250LWZhbWlseTogJyArIGxheWVyRGF0YS5mb250RmFjZSArICcsIHNhbnMtc2VyaWZcIj4nICsgbGF5ZXJEYXRhLmNvbnRlbnQgKyAnPC90ZXh0YXJlYT48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdUWVBFRkFDRScsIFtmb250RmFtaWx5LCB0ZXh0Q29sb3IsIGZvbnRTaXplLCBzcGFjaW5nLCBjb250ZW50XS5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlckZvbnQgPSByZW5kZXJGb250O1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvZm9udC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29kZVRlbXBsYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvZGVUZW1wbGF0ZSAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9jb2RlVGVtcGxhdGUudHNcIik7XG5jb25zdCBwcm9wZXJ0aWVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Byb3BlcnRpZXMgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50c1wiKTtcbmNvbnN0IHNoYWRvd3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhZG93cyAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFkb3dzLnRzXCIpO1xuY29uc3QgYm9yZGVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ib3JkZXJzICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2JvcmRlcnMudHNcIik7XG5jb25zdCBmb250XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZvbnQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZm9udC50c1wiKTtcbmNvbnN0IGV4cG9ydGFibGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXhwb3J0YWJsZSAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9leHBvcnRhYmxlLnRzXCIpO1xuY29uc3QgZmlsbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmlsbHMgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZmlsbHMudHNcIik7XG5mdW5jdGlvbiBpbnNwZWN0b3IoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAoIWNvbW1vbl8xLnN0YXRlLmN1cnJlbnQgJiYgIWNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzICYmICFjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVyc1tjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4XSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgbGF5ZXJEYXRhID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnNbY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleF07XG4gICAgbGV0IGh0bWwgPSBbXG4gICAgICAgICc8aDI+JyArIGxheWVyRGF0YS5uYW1lICsgJzwvaDI+JyxcbiAgICAgICAgcHJvcGVydGllc18xLnJlbmRlclByb3BlcnRpZXMobGF5ZXJEYXRhKSxcbiAgICAgICAgZmlsbHNfMS5yZW5kZXJGaWxscyhsYXllckRhdGEpLFxuICAgICAgICBmb250XzEucmVuZGVyRm9udChsYXllckRhdGEpLFxuICAgICAgICBib3JkZXJzXzEucmVuZGVyQm9yZGVycyhsYXllckRhdGEpLFxuICAgICAgICBzaGFkb3dzXzEucmVuZGVyU2hhZG93cyhsYXllckRhdGEpLFxuICAgICAgICBjb2RlVGVtcGxhdGVfMS5yZW5kZXJDb2RlVGVtcGxhdGUobGF5ZXJEYXRhKSxcbiAgICAgICAgZXhwb3J0YWJsZV8xLnJlbmRlckV4cG9ydGFibGUobGF5ZXJEYXRhKSxcbiAgICBdO1xuICAgIGxldCBpbnNwZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zcGVjdG9yJyk7XG4gICAgaW5zcGVjdG9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGluc3BlY3Rvci5pbm5lckhUTUwgPSBodG1sLmpvaW4oJycpO1xuICAgIC8vIHNlbGVjdCBwcmV2aW91c2x5IHVzZWQgdGFiXG4gICAgbGV0IGxpID0gaW5zcGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvZGVUeXBlPScgKyBjb21tb25fMS5zdGF0ZS5jb2RlVHlwZSArICddJyk7XG4gICAgaWYgKGxpKSB7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xuICAgICAgICBpbnNwZWN0b3IucXVlcnlTZWxlY3RvcihcIiNcIiArIGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKS5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2NvZGUtdGFiIGxpJykuZm9yRWFjaChsaSA9PiBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcztcbiAgICAgICAgbGV0IGlkID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgICBjb21tb25fMS5zdGF0ZS5jb2RlVHlwZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29kZVR5cGUnKTtcbiAgICAgICAgdGFyZ2V0LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGkuc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0Jyk7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgICAgICAgKF9hID0gaW5zcGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5pdGVtLnNlbGVjdCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0Jyk7XG4gICAgICAgIGluc3BlY3Rvci5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaWQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xuICAgIH0pKTtcbn1cbmV4cG9ydHMuaW5zcGVjdG9yID0gaW5zcGVjdG9yO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9wcm9wZXJ0aWVzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlclByb3BlcnRpZXMobGF5ZXJEYXRhKSB7XG4gICAgbGV0IHBvc2l0aW9uID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdQb3NpdGlvbicpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1gnKSArICdcIj48aW5wdXQgaWQ9XCJwb3NpdGlvbi14XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC54KSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1knKSArICdcIj48aW5wdXQgaWQ9XCJwb3NpdGlvbi15XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC55KSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgbGV0IHNpemUgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1NpemUnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdXaWR0aCcpICsgJ1wiPjxpbnB1dCBpZD1cInNpemUtd2lkdGhcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LndpZHRoKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0hlaWdodCcpICsgJ1wiPjxpbnB1dCBpZD1cInNpemUtaGVpZ2h0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICBsZXQgb3BhY2l0eSA9ICh0eXBlb2YgbGF5ZXJEYXRhLm9wYWNpdHkgPT0gJ251bWJlcicpID8gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdPcGFjaXR5JykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwib3BhY2l0eVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgTWF0aC5yb3VuZChsYXllckRhdGEub3BhY2l0eSAqIDEwMDAwKSAvIDEwMCArICclXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbD48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnO1xuICAgIGxldCByYWRpdXMgPSAobGF5ZXJEYXRhLnJhZGl1cykgPyBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1JhZGl1cycpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsPjxpbnB1dCBpZD1cInJhZGl1c1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJhZGl1c1swXSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbD48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnO1xuICAgIGxldCBzdHlsZU5hbWUgPSAobGF5ZXJEYXRhLnN0eWxlTmFtZSkgPyBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1N0eWxlJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwic3R5bGVOYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBsYXllckRhdGEuc3R5bGVOYW1lICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnO1xuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ1BST1BFUlRJRVMnLCBbcG9zaXRpb24sIHNpemUsIG9wYWNpdHksIHJhZGl1cywgc3R5bGVOYW1lXS5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlclByb3BlcnRpZXMgPSByZW5kZXJQcm9wZXJ0aWVzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFkb3dzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYWRvd3MudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyU2hhZG93cyhsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5zaGFkb3dzIHx8ICFsYXllckRhdGEuc2hhZG93cy5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgc2hhZG93cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSBsYXllckRhdGEuc2hhZG93cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgc2hhZG93ID0gbGF5ZXJEYXRhLnNoYWRvd3NbaV07XG4gICAgICAgIHNoYWRvd3MucHVzaCgnPGRpdiBjbGFzcz1cIml0ZW1zLWdyb3VwXCI+JywgJzxoND4nICsgY29tbW9uXzEubG9jYWxpemUoc2hhZG93LnR5cGUgKyAnIFNoYWRvdycpICsgJzwvaDQ+JywgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnT2Zmc2V0JykgKyAnOlwiPicsICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnWCcpICsgJ1wiPjxpbnB1dCBpZD1cIm9mZnNldC14XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShzaGFkb3cub2Zmc2V0WCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdZJykgKyAnXCI+PGlucHV0IGlkPVwib2Zmc2V0LXlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKHNoYWRvdy5vZmZzZXRZKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnRWZmZWN0JykgKyAnOlwiPicsICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQmx1cicpICsgJ1wiPjxpbnB1dCBpZD1cIm9mZnNldC14XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShzaGFkb3cuYmx1clJhZGl1cykgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTcHJlYWQnKSArICdcIj48aW5wdXQgaWQ9XCJvZmZzZXQteVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoc2hhZG93LnNwcmVhZCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0NvbG9yJykgKyAnOlwiPicsIHNoYXJlZF8xLmNvbG9ySXRlbShzaGFkb3cuY29sb3IpLCAnPC9kaXY+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdTSEFET1dTJywgc2hhZG93cy5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlclNoYWRvd3MgPSByZW5kZXJTaGFkb3dzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhZG93cy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiBjb2xvckl0ZW0oY29sb3IpIHtcbiAgICB2YXIgY29sb3JOYW1lID0gKGNvbW1vbl8yLnByb2plY3QuY29sb3JOYW1lcykgPyBjb21tb25fMi5wcm9qZWN0LmNvbG9yTmFtZXNbY29sb3JbJ2FyZ2ItaGV4J11dIDogJyc7XG4gICAgY29sb3JOYW1lID0gKGNvbG9yTmFtZSkgPyAnIGRhdGEtbmFtZT1cIicgKyBjb2xvck5hbWUgKyAnXCInIDogJyc7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvclwiJyArIGNvbG9yTmFtZSArICc+JyxcbiAgICAgICAgJzxsYWJlbD48ZW0+PGkgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOicgKyBjb2xvclsnY3NzLXJnYmEnXSArICc7XCI+PC9pPjwvZW0+PC9sYWJlbD48aW5wdXQgZGF0YS1jb2xvcj1cIicgKyBlbmNvZGVVUkkoSlNPTi5zdHJpbmdpZnkoY29sb3IpKSArICdcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGNvbG9yW2NvbW1vbl8xLnN0YXRlLmNvbG9yRm9ybWF0XSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xufVxuZXhwb3J0cy5jb2xvckl0ZW0gPSBjb2xvckl0ZW07XG5mdW5jdGlvbiBwcm9wZXJ0eVR5cGUodGl0bGUsIGNvbnRlbnQsIGlzQ29kZSkge1xuICAgIHZhciBub3BhZGRpbmcgPSBpc0NvZGUgPyAnIHN0eWxlPVwicGFkZGluZzowXCInIDogJyc7XG4gICAgcmV0dXJuIFsnPHNlY3Rpb24+JyxcbiAgICAgICAgJzxoMz4nICsgY29tbW9uXzIubG9jYWxpemUodGl0bGUpICsgJzwvaDM+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb250ZXh0XCInICsgbm9wYWRkaW5nICsgJz4nLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvc2VjdGlvbj4nXG4gICAgXS5qb2luKCcnKTtcbn1cbmV4cG9ydHMucHJvcGVydHlUeXBlID0gcHJvcGVydHlUeXBlO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvbGF5ZXJzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2xheWVycy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgaW50ZXJmYWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcyAqLyBcIi4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50c1wiKTtcbmV4cG9ydHMuTWFwQXJ0Ym9hcmRJRFRvSW5kZXggPSB1bmRlZmluZWQ7XG5mdW5jdGlvbiBsYXllcnMoKSB7XG4gICAgc3BlY0xheWVycygpO1xuICAgIGZsb3dMYXllcnMoKTtcbn1cbmV4cG9ydHMubGF5ZXJzID0gbGF5ZXJzO1xuZnVuY3Rpb24gc3BlY0xheWVycygpIHtcbiAgICBsZXQgbGF5ZXJzSFRNTCA9IFtdO1xuICAgIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzLmZvckVhY2goKGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAobGF5ZXIudHlwZSA9PSBpbnRlcmZhY2VzXzEuU01UeXBlLmdyb3VwIHx8IGxheWVyLnR5cGUgPT0gaW50ZXJmYWNlc18xLlNNVHlwZS5ob3RzcG90KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgeCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QueCk7XG4gICAgICAgIGxldCB5ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC55KTtcbiAgICAgICAgbGV0IHdpZHRoID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC53aWR0aCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LmhlaWdodCk7XG4gICAgICAgIGxldCBjbGFzc05hbWVzID0gWydsYXllciddO1xuICAgICAgICBjbGFzc05hbWVzLnB1c2goJ2xheWVyLScgKyBsYXllci5vYmplY3RJRCk7XG4gICAgICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09IGluZGV4KVxuICAgICAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCdzZWxlY3RlZCcpO1xuICAgICAgICBsYXllcnNIVE1MLnB1c2goW2BcbjxkaXYgaWQ9XCJsYXllci0ke2luZGV4fVwiIFxuICAgIGNsYXNzPVwiJHtjbGFzc05hbWVzLmpvaW4oJyAnKX1cIiBkYXRhLWluZGV4PVwiJHtpbmRleH1cIlxuICAgIHBlcmNlbnRhZ2Utd2lkdGg9XCIke2hlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKGxheWVyLnJlY3Qud2lkdGgsIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpfVwiIFxuICAgIHBlcmNlbnRhZ2UtaGVpZ2h0PVwiJHtoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShsYXllci5yZWN0LmhlaWdodCwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpfVwiIFxuICAgIGRhdGEtd2lkdGg9XCIke2hlbHBlcl8xLnVuaXRTaXplKGxheWVyLnJlY3Qud2lkdGgpfVwiIFxuICAgIGRhdGEtaGVpZ2h0PVwiJHtoZWxwZXJfMS51bml0U2l6ZShsYXllci5yZWN0LmhlaWdodCl9XCIgXG4gICAgc3R5bGU9XCJsZWZ0OiAke3h9cHg7IHRvcDogJHt5fXB4OyB3aWR0aDogJHt3aWR0aH1weDsgaGVpZ2h0OiAke2hlaWdodH1weDtcIlxuPlxuPGRpdiBjbGFzcz0naXRlbU5hbWUgJHtsYXllci5uYW1lLnRvTG93ZXJDYXNlKCl9Jz4ke2xheWVyLm5hbWUudG9Mb3dlckNhc2UoKX08L2Rpdj5cbiAgICA8aSBjbGFzcz1cInRsXCI+PC9pPjxpIGNsYXNzPVwidHJcIj48L2k+PGkgY2xhc3M9XCJibFwiPjwvaT48aSBjbGFzcz1cImJyXCI+PC9pPlxuICAgIDxiIGNsYXNzPVwiZXQgaFwiPjwvYj48YiBjbGFzcz1cImVyIHZcIj48L2I+PGIgY2xhc3M9XCJlYiBoXCI+PC9iPjxiIGNsYXNzPVwiZWwgdlwiPjwvYj5cbjwvZGl2PmBdLmpvaW4oJycpKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGF5ZXJzJykuaW5uZXJIVE1MID0gbGF5ZXJzSFRNTC5qb2luKCcnKTtcbn1cbmZ1bmN0aW9uIGZsb3dMYXllcnMoKSB7XG4gICAgZXhwb3J0cy5NYXBBcnRib2FyZElEVG9JbmRleCA9IGNvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzLnJlZHVjZSgocCwgYywgaSkgPT4ge1xuICAgICAgICBwW2Mub2JqZWN0SURdID0gaTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfSwgeyAnYmFjayc6IC0xIH0pO1xuICAgIGxldCBsYXllcnNIVE1MID0gW107XG4gICAgY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnMuZmlsdGVyKGxheWVyID0+IGxheWVyLmZsb3cgJiYgZXhwb3J0cy5NYXBBcnRib2FyZElEVG9JbmRleFtsYXllci5mbG93LnRhcmdldElkXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAuZm9yRWFjaCgobGF5ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgIGxldCB4ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC54KTtcbiAgICAgICAgbGV0IHkgPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LnkpO1xuICAgICAgICBsZXQgd2lkdGggPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LndpZHRoKTtcbiAgICAgICAgbGV0IGhlaWdodCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QuaGVpZ2h0KTtcbiAgICAgICAgbGV0IGNsYXNzTmFtZXMgPSBbJ2Zsb3cnXTtcbiAgICAgICAgbGF5ZXJzSFRNTC5wdXNoKFtgXG48ZGl2IGNsYXNzPVwiJHtjbGFzc05hbWVzLmpvaW4oJyAnKX1cIlxuICAgIGRhdGEtZmxvdy10YXJnZXQ9XCIke2xheWVyLmZsb3cudGFyZ2V0SWR9XCJcbiAgICBzdHlsZT1cImxlZnQ6ICR7eH1weDsgdG9wOiAke3l9cHg7IHdpZHRoOiAke3dpZHRofXB4OyBoZWlnaHQ6ICR7aGVpZ2h0fXB4O1wiXG4+PC9kaXY+YF0uam9pbignJykpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93cycpLmlubmVySFRNTCA9IGxheWVyc0hUTUwuam9pbignJyk7XG59XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2xheWVycy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL25vdGVzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvbm90ZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuZnVuY3Rpb24gbm90ZXMoKSB7XG4gICAgdmFyIG5vdGVzSFRNTCA9IFtdO1xuICAgIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubm90ZXMuZm9yRWFjaCgobm90ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgbm90ZXNIVE1MLnB1c2goJzxkaXYgY2xhc3M9XCJub3RlXCIgZGF0YS1pbmRleD1cIicgKyAoaW5kZXggKyAxKSArICdcIiBzdHlsZT1cImxlZnQ6ICcgKyBoZWxwZXJfMS56b29tU2l6ZShub3RlLnJlY3QueCkgKyAncHg7IHRvcDogJyArIGhlbHBlcl8xLnpvb21TaXplKG5vdGUucmVjdC55KSArICdweDtcIj48ZGl2IHN0eWxlPVwid2hpdGUtc3BhY2U6bm93cmFwO2Rpc3BsYXk6bm9uZTtcIj4nICsgbm90ZS5ub3RlICsgJzwvZGl2PjwvZGl2PicpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNub3RlcycpLmlubmVySFRNTCA9IG5vdGVzSFRNTC5qb2luKCcnKTtcbn1cbmV4cG9ydHMubm90ZXMgPSBub3RlcztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvbm90ZXMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9zY3JlZW4udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvc2NyZWVuLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBmbG93XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMvZmxvdyAqLyBcIi4vdWkvZXZlbnRzL2Zsb3cudHNcIik7XG5mdW5jdGlvbiB1cGRhdGVTY3JlZW4ocmVzZXRTY3JvbGwgPSBmYWxzZSkge1xuICAgIGxldCBpbWFnZURhdGEgPSAoY29tbW9uXzEuc3RhdGUuY3VycmVudC5pbWFnZUJhc2U2NCkgPyBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmltYWdlQmFzZTY0IDogY29tbW9uXzEuc3RhdGUuY3VycmVudC5pbWFnZVBhdGggKyAnPycgKyBjb21tb25fMS50aW1lc3RhbXA7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgdmlld2VySW5uZXIgPSBzY3JlZW4ucGFyZW50RWxlbWVudDtcbiAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICBzY3JlZW4uc3R5bGUud2lkdGggPSBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKSArICdweCc7XG4gICAgc2NyZWVuLnN0eWxlLmhlaWdodCA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSArICdweCc7XG4gICAgc2NyZWVuLnN0eWxlLmJhY2tncm91bmQgPSAnI0ZGRiB1cmwoJyArIGltYWdlRGF0YSArICcpIG5vLXJlcGVhdCc7XG4gICAgc2NyZWVuLnN0eWxlLmJhY2tncm91bmRTaXplID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCkgKyAncHggJyArIGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSArICdweCc7XG4gICAgLy8gdmlld2VyIHNpemVcbiAgICBsZXQgbWF4U2l6ZSA9IE1hdGgubWF4KGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgsIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0LCB2aWV3ZXIuY2xpZW50V2lkdGgsIHZpZXdlci5jbGllbnRIZWlnaHQpICogNTtcbiAgICBpZiAoZmxvd18xLmZsb3dNb2RlKSB7XG4gICAgICAgIHZpZXdlcklubmVyLnN0eWxlLndpZHRoID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCkgKyAncHgnO1xuICAgICAgICB2aWV3ZXJJbm5lci5zdHlsZS5oZWlnaHQgPSBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkgKyAncHgnO1xuICAgICAgICBzY3JlZW4uc3R5bGUubWFyZ2luTGVmdCA9ICcwJztcbiAgICAgICAgc2NyZWVuLnN0eWxlLm1hcmdpblRvcCA9ICcwJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKS5zY3JvbGxUb3AgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2aWV3ZXJJbm5lci5zdHlsZS53aWR0aCA9IG1heFNpemUgKyAncHgnO1xuICAgICAgICB2aWV3ZXJJbm5lci5zdHlsZS5oZWlnaHQgPSBtYXhTaXplICsgJ3B4JztcbiAgICAgICAgc2NyZWVuLnN0eWxlLm1hcmdpbkxlZnQgPSAtaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAvIDIpICsgJ3B4JztcbiAgICAgICAgc2NyZWVuLnN0eWxlLm1hcmdpblRvcCA9IC1oZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCAvIDIpICsgJ3B4JztcbiAgICB9XG4gICAgLy8gc2V0IHNjcm9sbFxuICAgIGlmIChyZXNldFNjcm9sbCkge1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsTGVmdCA9IGZsb3dfMS5mbG93TW9kZSA/IDAgOiAobWF4U2l6ZSAtIHZpZXdlci5jbGllbnRXaWR0aCkgLyAyO1xuICAgICAgICBsZXQgc3VpdEhpZ2h0ID0gc2NyZWVuLmNsaWVudEhlaWdodCA+IHZpZXdlci5jbGllbnRIZWlnaHQgPyBzY3JlZW4uY2xpZW50SGVpZ2h0IDogdmlld2VyLmNsaWVudEhlaWdodDtcbiAgICAgICAgdmlld2VyLnNjcm9sbFRvcCA9IGZsb3dfMS5mbG93TW9kZSA/IDAgOiAobWF4U2l6ZSAtIHN1aXRIaWdodCkgLyAyO1xuICAgIH1cbn1cbmV4cG9ydHMudXBkYXRlU2NyZWVuID0gdXBkYXRlU2NyZWVuO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9zY3JlZW4udHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9zbGljZXMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvc2xpY2VzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5mdW5jdGlvbiBzbGljZXMoKSB7XG4gICAgaWYgKCFjb21tb25fMS5wcm9qZWN0LnNsaWNlcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBzbGljZUxpc3RIVE1MID0gW107XG4gICAgc2xpY2VMaXN0SFRNTC5wdXNoKCc8dWwgY2xhc3M9XCJhc3NldC1saXN0XCI+Jyk7XG4gICAgY29tbW9uXzEucHJvamVjdC5zbGljZXMuZm9yRWFjaChzbGljZUxheWVyID0+IHtcbiAgICAgICAgaWYgKHNsaWNlTGF5ZXIuZXhwb3J0YWJsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYXNzZXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNsaWNlTGF5ZXIuZXhwb3J0YWJsZSkpLnBvcCgpO1xuICAgICAgICAgICAgc2xpY2VMaXN0SFRNTC5wdXNoKCc8bGkgaWQ9XCJzbGljZS0nICsgc2xpY2VMYXllci5vYmplY3RJRCArICdcIiBjbGFzcz1cInNsaWNlLWxheWVyXCIgZGF0YS1vYmplY3RJZD1cIicgKyBzbGljZUxheWVyLm9iamVjdElEICsgJ1wiPicsICc8cGljdHVyZT48aW1nIHNyYz1cIicgKyAnYXNzZXRzLycgKyBhc3NldC5wYXRoICsgJ1wiIGFsdD1cIlwiPjwvcGljdHVyZT4nLCAnPGRpdj4nLCAnPGgzPicgKyBzbGljZUxheWVyLm5hbWUgKyAnPC9oMz4nLCAnPHNtYWxsPicgKyBoZWxwZXJfMS51bml0U2l6ZShzbGljZUxheWVyLnJlY3Qud2lkdGgpICsgJyDDlyAnICsgaGVscGVyXzEudW5pdFNpemUoc2xpY2VMYXllci5yZWN0LmhlaWdodCkgKyAnPC9zbWFsbD4nLCAnPC9kaXY+JywgJzwvbGk+Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBzbGljZUxpc3RIVE1MLnB1c2goJzwvdWw+Jyk7XG4gICAgaWYgKGNvbW1vbl8xLnByb2plY3Quc2xpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWNlcycpLmlubmVySFRNTCA9IHNsaWNlTGlzdEhUTUwuam9pbignJyk7XG4gICAgfVxufVxuZXhwb3J0cy5zbGljZXMgPSBzbGljZXM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL3NsaWNlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3VuaXQudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3VuaXQudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiB1bml0KCkge1xuICAgIGxldCB1bml0c0RhdGEgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdEZXZpY2Ugc3dpdGNoJyksXG4gICAgICAgICAgICB1bml0czogW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ1dlYiBWaWV3JykgKyAnIC0gcHgnLCB1bml0OiAncHgnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ2lPUyBEZXZpY2VzJykgKyAnIC0gcHQnLCB1bml0OiAncHQnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ0FuZHJvaWQgRGV2aWNlcycpICsgJyAtIGRwL3NwJywgdW5pdDogJ2RwL3NwJywgc2NhbGU6IDEgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ0NvbnZlcnQgdG8gcGl4ZWxzJyksXG4gICAgICAgICAgICB1bml0czogW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lPUyAnICsgY29tbW9uXzIubG9jYWxpemUoJ1BvaW50cycpICsgJyBAMXgnLCB1bml0OiAncHgnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lPUyAnICsgY29tbW9uXzIubG9jYWxpemUoJ1JldGluYScpICsgJyBAMngnLCB1bml0OiAncHgnLCBzY2FsZTogMiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lPUyAnICsgY29tbW9uXzIubG9jYWxpemUoJ1JldGluYSBIRCcpICsgJyBAM3gnLCB1bml0OiAncHgnLCBzY2FsZTogMyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgTERQSSBAMC43NXgnLCB1bml0OiAncHgnLCBzY2FsZTogLjc1IH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBNRFBJIEAxeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAxIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBIRFBJIEAxLjV4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDEuNSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgWEhEUEkgQDJ4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDIgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIFhYSERQSSBAM3gnLCB1bml0OiAncHgnLCBzY2FsZTogMyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgWFhYSERQSSBANHgnLCB1bml0OiAncHgnLCBzY2FsZTogNCB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdDb252ZXJ0IHRvIG90aGVycycpLFxuICAgICAgICAgICAgdW5pdHM6IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDhweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDggfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDEwcHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyAxMCB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NTUyBSZW0gMTJweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDEyIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQ1NTIFJlbSAxNHB4JywgdW5pdDogJ3JlbScsIHNjYWxlOiAxIC8gMTQgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDE2cHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyAxNiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1VidW50dSBHcmlkJywgdW5pdDogJ2d1Jywgc2NhbGU6IDEgLyAyNyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGxldCB1bml0SHRtbCA9IFtdO1xuICAgIGxldCB1bml0TGlzdCA9IFtdO1xuICAgIGxldCB1bml0Q3VycmVudCA9ICcnO1xuICAgIGxldCBoYXNDdXJyZW50ID0gJyc7XG4gICAgdW5pdHNEYXRhLmZvckVhY2goZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLm5hbWUpXG4gICAgICAgICAgICB1bml0TGlzdC5wdXNoKCc8bGkgY2xhc3M9XCJzdWItdGl0bGVcIj4nICsgY29tbW9uXzIubG9jYWxpemUoZGF0YS5uYW1lKSArICc8L2xpPicpO1xuICAgICAgICBkYXRhLnVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9ICcnO1xuICAgICAgICAgICAgaWYgKCFoYXNDdXJyZW50ICYmIHVuaXQudW5pdCA9PSBjb21tb25fMS5zdGF0ZS51bml0KSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9ICcgY2hlY2tlZD1cImNoZWNrZWRcIic7XG4gICAgICAgICAgICAgICAgaGFzQ3VycmVudCA9IGNvbW1vbl8yLmxvY2FsaXplKHVuaXQubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bml0TGlzdC5wdXNoKCc8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmVzb2x1dGlvblwiIGRhdGEtbmFtZT1cIicgKyBjb21tb25fMi5sb2NhbGl6ZSh1bml0Lm5hbWUpICtcbiAgICAgICAgICAgICAgICAnXCIgZGF0YS11bml0PVwiJyArIHVuaXQudW5pdCArXG4gICAgICAgICAgICAgICAgJ1wiIGRhdGEtc2NhbGU9XCInICsgdW5pdC5zY2FsZSArICdcIicgKyBjaGVja2VkICtcbiAgICAgICAgICAgICAgICAnPjxzcGFuPicgKyBjb21tb25fMi5sb2NhbGl6ZSh1bml0Lm5hbWUpICsgJzwvc3Bhbj48L2xhYmVsPjwvbGk+Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIGlmICghaGFzQ3VycmVudCkge1xuICAgIC8vICAgICB1bml0Q3VycmVudCA9ICc8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmVzb2x1dGlvblwiIGRhdGEtbmFtZT1cIicgKyBsb2NhbGl6ZSgnQ3VzdG9tJykgK1xuICAgIC8vICAgICAgICAgJyAoJyArIHN0YXRlLnNjYWxlICsgJywgJyArIHN0YXRlLnVuaXQgKyAnKVwiIGRhdGEtdW5pdD1cIicgKyBzdGF0ZS51bml0ICtcbiAgICAvLyAgICAgICAgICdcIiBkYXRhLXNjYWxlPVwiJyArIHN0YXRlLnNjYWxlICtcbiAgICAvLyAgICAgICAgICdcIiBjaGVja2VkPVwiY2hlY2tlZFwiPjxzcGFuPicgKyBsb2NhbGl6ZSgnQ3VzdG9tJykgKyAnICgnICsgc3RhdGUuc2NhbGUgKyAnLCAnICsgc3RhdGUudW5pdCArICcpPC9zcGFuPjwvbGFiZWw+PC9saT4nO1xuICAgIC8vICAgICBoYXNDdXJyZW50ID0gbG9jYWxpemUoJ0N1c3RvbScpICsgJyAoJyArIHN0YXRlLnNjYWxlICsgJywgJyArIHN0YXRlLnVuaXQgKyAnKSc7XG4gICAgLy8gfVxuICAgIHVuaXRIdG1sLnB1c2goJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JywgJzxoMz4nICsgY29tbW9uXzIubG9jYWxpemUoJ1VuaXQgc3dpdGNoJykgK1xuICAgICAgICAnPC9oMz4nLCAnPHA+JyArIGhhc0N1cnJlbnQgKyAnPC9wPicsICc8dWw+JywgdW5pdEN1cnJlbnQsIHVuaXRMaXN0LmpvaW4oJycpLCAnPC91bD4nKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdW5pdCcpLmlubmVySFRNTCA9IHVuaXRIdG1sLmpvaW4oJycpO1xufVxuZXhwb3J0cy51bml0ID0gdW5pdDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvdW5pdC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3pvb20udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3pvb20udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIHpvb20oKSB7XG4gICAgdmFyIHpvb21UZXh0ID0gY29tbW9uXzEuc3RhdGUuem9vbSAqIDEwMCArICclJywgaW5EaXNhYmxlZCA9IChjb21tb25fMS5zdGF0ZS56b29tIDw9IC4yNSkgPyAnIGRpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJywgb3V0RGlzYWJsZWQgPSAoY29tbW9uXzEuc3RhdGUuem9vbSA+PSA0KSA/ICcgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tJykuaW5uZXJIVE1MID0gW1xuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInpvb20taW5cIicgKyBpbkRpc2FibGVkICsgJz48L2J1dHRvbj4nLFxuICAgICAgICAnPGxhYmVsIGNsYXNzPVwiem9vbS10ZXh0XCI+JyArIHpvb21UZXh0ICsgJzwvbGFiZWw+JyxcbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJ6b29tLW91dFwiJyArIG91dERpc2FibGVkICsgJz48L2J1dHRvbj4nXG4gICAgXS5qb2luKCcnKTtcbn1cbmV4cG9ydHMuem9vbSA9IHpvb207XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL3pvb20udHM/Iik7CgovKioqLyB9KQoKLyoqKioqKi8gfSk7"></script>
</head>

<body id="app">
    <script>
        let data = '{{data}}';
        meaxure.render(data);
    </script>
		<p>WORKS ONLY IN CHROME</p>
		<script src="../actions.js"></script>
</body>

</html>