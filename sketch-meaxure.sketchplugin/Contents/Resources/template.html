<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <title>Spec Export - Sketch MeaXure</title>
    <link rel="stylesheet" href="data:text/css;base64,ICAgIC8qISBub3JtYWxpemUuY3NzIHY0LjEuMSB8IE1JVCBMaWNlbnNlIHwgZ2l0aHViLmNvbS9uZWNvbGFzL25vcm1hbGl6ZS5jc3MgKi9odG1se2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6MTAwJTstd2Via2l0LXRleHQtc2l6ZS1hZGp1c3Q6MTAwJX1ib2R5e21hcmdpbjowfWFydGljbGUsYXNpZGUsZGV0YWlscyxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsaGVhZGVyLG1haW4sbWVudSxuYXYsc2VjdGlvbixzdW1tYXJ5e2Rpc3BsYXk6YmxvY2t9YXVkaW8sY2FudmFzLHByb2dyZXNzLHZpZGVve2Rpc3BsYXk6aW5saW5lLWJsb2NrfWF1ZGlvOm5vdChbY29udHJvbHNdKXtkaXNwbGF5Om5vbmU7aGVpZ2h0OjB9cHJvZ3Jlc3N7dmVydGljYWwtYWxpZ246YmFzZWxpbmV9dGVtcGxhdGUsW2hpZGRlbl17ZGlzcGxheTpub25lfWF7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDstd2Via2l0LXRleHQtZGVjb3JhdGlvbi1za2lwOm9iamVjdHN9YTphY3RpdmUsYTpob3ZlcntvdXRsaW5lLXdpZHRoOjB9YWJiclt0aXRsZV17Ym9yZGVyLWJvdHRvbTowO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmU7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZSBkb3R0ZWR9YixzdHJvbmd7Zm9udC13ZWlnaHQ6aW5oZXJpdH1iLHN0cm9uZ3tmb250LXdlaWdodDpib2xkZXJ9ZGZue2ZvbnQtc3R5bGU6aXRhbGljfWgxe2ZvbnQtc2l6ZToyZW07bWFyZ2luOi42N2VtIDB9bWFya3tiYWNrZ3JvdW5kLWNvbG9yOiNmZjA7Y29sb3I6IzAwMH1zbWFsbHtmb250LXNpemU6ODAlfXN1YixzdXB7Zm9udC1zaXplOjc1JTtsaW5lLWhlaWdodDowO3Bvc2l0aW9uOnJlbGF0aXZlO3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfXN1Yntib3R0b206LTAuMjVlbX1zdXB7dG9wOi0wLjVlbX1pbWd7Ym9yZGVyLXN0eWxlOm5vbmV9c3ZnOm5vdCg6cm9vdCl7b3ZlcmZsb3c6aGlkZGVufWNvZGUsa2JkLHByZSxzYW1we2ZvbnQtZmFtaWx5Om1vbm9zcGFjZSxtb25vc3BhY2U7Zm9udC1zaXplOjFlbX1maWd1cmV7bWFyZ2luOjFlbSA0MHB4fWhye2JveC1zaXppbmc6Y29udGVudC1ib3g7aGVpZ2h0OjA7b3ZlcmZsb3c6dmlzaWJsZX1idXR0b24saW5wdXQsc2VsZWN0LHRleHRhcmVhe2ZvbnQ6aW5oZXJpdDttYXJnaW46MH1vcHRncm91cHtmb250LXdlaWdodDpib2xkfWJ1dHRvbixpbnB1dHtvdmVyZmxvdzp2aXNpYmxlfWJ1dHRvbixzZWxlY3R7dGV4dC10cmFuc2Zvcm06bm9uZX1idXR0b24saHRtbCBbdHlwZT0iYnV0dG9uIl0sW3R5cGU9InJlc2V0Il0sW3R5cGU9InN1Ym1pdCJdey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b259YnV0dG9uOjotbW96LWZvY3VzLWlubmVyLFt0eXBlPSJidXR0b24iXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0icmVzZXQiXTo6LW1vei1mb2N1cy1pbm5lcixbdHlwZT0ic3VibWl0Il06Oi1tb3otZm9jdXMtaW5uZXJ7Ym9yZGVyLXN0eWxlOm5vbmU7cGFkZGluZzowfWJ1dHRvbjotbW96LWZvY3VzcmluZyxbdHlwZT0iYnV0dG9uIl06LW1vei1mb2N1c3JpbmcsW3R5cGU9InJlc2V0Il06LW1vei1mb2N1c3JpbmcsW3R5cGU9InN1Ym1pdCJdOi1tb3otZm9jdXNyaW5ne291dGxpbmU6MXB4IGRvdHRlZCBCdXR0b25UZXh0fWZpZWxkc2V0e2JvcmRlcjoxcHggc29saWQgc2lsdmVyO21hcmdpbjowIDJweDtwYWRkaW5nOi4zNWVtIC42MjVlbSAuNzVlbX1sZWdlbmR7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOmluaGVyaXQ7ZGlzcGxheTp0YWJsZTttYXgtd2lkdGg6MTAwJTtwYWRkaW5nOjA7d2hpdGUtc3BhY2U6bm9ybWFsfXRleHRhcmVhe292ZXJmbG93OmF1dG99W3R5cGU9ImNoZWNrYm94Il0sW3R5cGU9InJhZGlvIl17Ym94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MH1bdHlwZT0ibnVtYmVyIl06Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sW3R5cGU9Im51bWJlciJdOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9ue2hlaWdodDphdXRvfVt0eXBlPSJzZWFyY2giXXstd2Via2l0LWFwcGVhcmFuY2U6dGV4dGZpZWxkO291dGxpbmUtb2Zmc2V0Oi0ycHh9W3R5cGU9InNlYXJjaCJdOjotd2Via2l0LXNlYXJjaC1jYW5jZWwtYnV0dG9uLFt0eXBlPSJzZWFyY2giXTo6LXdlYmtpdC1zZWFyY2gtZGVjb3JhdGlvbnstd2Via2l0LWFwcGVhcmFuY2U6bm9uZX06Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXJ7Y29sb3I6aW5oZXJpdDtvcGFjaXR5Oi41NH06Oi13ZWJraXQtZmlsZS11cGxvYWQtYnV0dG9uey13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247Zm9udDppbmhlcml0fQoqIHsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXIgewogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYmFja2dyb3VuZDogIzIwMjEyMzsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIC42NCk7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7Cn0KCjo6LXdlYmtpdC1zY3JvbGxiYXItY29ybmVyLAo6Oi13ZWJraXQtcmVzaXplciB7CiAgICBiYWNrZ3JvdW5kOiAjMjAyMTIzOwp9CgpodG1sIHsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogMTAwdmg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9Cgpib2R5IHsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgbWluLXdpZHRoOiAxMDI0cHg7CiAgICBmb250LWZhbWlseTogSGVsdmV0aWNhTmV1ZSwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGNvbG9yOiAjOTg5QTlDOwogICAgYmFja2dyb3VuZDogIzE5MTkxOTsKICAgIGxldHRlci1zcGFjaW5nOiAxcHg7CiAgICBvdmVyZmxvdzogaGlkZGVuOwp9CgpoZWFkZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiA2MHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB6LWluZGV4OiAyMTU7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwp9CgpoZWFkZXIgLmhlYWRlci1jZW50ZXIsCmhlYWRlciAuaGVhZGVyLWxlZnQsCmhlYWRlciAuaGVhZGVyLXJpZ2h0IHsKICAgIHdpZHRoOiAyNDBweDsKICAgIGhlaWdodDogNjBweDsKICAgIGJhY2tncm91bmQ6ICMwRjBGMEY7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGJhY2tncm91bmQ6ICMwMDA7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuem9vbS13aWRnZXQgewogICAgcGFkZGluZzogMjBweDsKICAgIHdpZHRoOiAxNjBweDsKfQoKaGVhZGVyIC5oZWFkZXItY2VudGVyIGgxIHsKICAgIGZsZXg6IDE7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlLApoZWFkZXIgLmhlYWRlci1jZW50ZXIgLnNob3ctbm90ZXMgewogICAgcGFkZGluZzogMjBweDsKICAgIHRleHQtYWxpZ246IHJpZ2h0OwogICAgbGluZS1oZWlnaHQ6IDIwcHg7Cn0KCmhlYWRlciAuaGVhZGVyLWNlbnRlciAuZmxvdy1tb2RlIC5zbGlkZWJveCwKaGVhZGVyIC5oZWFkZXItY2VudGVyIC5zaG93LW5vdGVzIC5zbGlkZWJveCB7CiAgICBtYXJnaW4tbGVmdDogMTBweDsKfQoKaGVhZGVyIC5oZWFkZXItbGVmdCB7CiAgICBkaXNwbGF5OiBmbGV4Owp9Cgouem9vbS13aWRnZXQgewogICAgZGlzcGxheTogZmxleDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAyMHB4OwogICAgaGVpZ2h0OiAyMHB4OwogICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgIGJvcmRlcjogMDsKICAgIGJhY2tncm91bmQ6ICMzNDg0RjU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi56b29tLXdpZGdldCBidXR0b246YWZ0ZXIsCi56b29tLXdpZGdldCBidXR0b246YmVmb3JlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogOXB4OwogICAgbGVmdDogNXB4OwogICAgY29udGVudDogIiI7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiAxMHB4OwogICAgaGVpZ2h0OiAycHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmFmdGVyIHsKICAgIHRvcDogNXB4OwogICAgbGVmdDogOXB4OwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMTBweDsKfQoKLnpvb20td2lkZ2V0IGJ1dHRvbjpkaXNhYmxlZCB7CiAgICBiYWNrZ3JvdW5kOiAjMjIyOwogICAgY3Vyc29yOiBkZWZhdWx0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmFmdGVyLAouem9vbS13aWRnZXQgYnV0dG9uOmRpc2FibGVkOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kOiAjNjA2MjY0Owp9Cgouem9vbS13aWRnZXQgYnV0dG9uLnpvb20taW46YWZ0ZXIgewogICAgZGlzcGxheTogbm9uZTsKfQoKLnpvb20td2lkZ2V0IC56b29tLXRleHQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBsaW5lLWhlaWdodDogMjBweDsKICAgIGZsZXg6IDE7Cn0KCi51bml0LWJveCB7CiAgICBoZWlnaHQ6IDYwcHg7Cn0KCi51bml0LWJveCAub3ZlcmxheSB7CiAgICBjb250ZW50OiAiIjsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogNjBweDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogMTAwdnc7CiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA2MHB4KTsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC41Nik7CiAgICB6LWluZGV4OiAxOwp9CgoudW5pdC1ib3g6Zm9jdXMgLm92ZXJsYXkgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi51bml0LWJveDpmb2N1cyB7CiAgICBoZWlnaHQ6IGF1dG87CiAgICBvdXRsaW5lOiAwOwp9CgoudW5pdC1ib3ggaDMsCi51bml0LWJveCBwIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDIwcHggMjBweCAyMHB4IDU0cHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGhlaWdodDogMTAwJTsKICAgIGxpbmUtaGVpZ2h0OiAyMHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnVuaXQtYm94IGgzLAoudW5pdC1ib3g6Zm9jdXMgcCB7CiAgICBkaXNwbGF5OiBub25lOwp9CgoudW5pdC1ib3ggaDM6YmVmb3JlLAoudW5pdC1ib3ggcDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxOHB4OwogICAgbGVmdDogMThweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQURBQUFBQXdBZ01BQUFBcWJCRVVBQUFBREZCTVZFVUFBQUJoWTJWZ1pHZGdZbVJ1YnhCQ0FBQUFBM1JTVGxNQTVFcFdiVnE0QUFBQUxVbEVRVlFvejJPZ091RDhEd1Rmb0J4MkVPY3ZsTVAvSHdTd2NzREVLSWVLSEVUd0V1WmdSQllpR3FrTkFGSlBOVDlTdzNkL0FBQUFBRWxGVGtTdVFtQ0MpIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogMjRweCAyNHB4Owp9CgoudW5pdC1ib3ggdWwgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAxcHggMCAwIDI0MHB4OwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgd2lkdGg6IDI0MHB4OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjFweCk7CiAgICBvdmVyZmxvdzogYXV0bzsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgdHJhbnNpdGlvbjogYWxsIC4xNXMgZWFzZTsKICAgIHotaW5kZXg6IDI7Cn0KCi51bml0LWJveDpmb2N1cyBoMyB7CiAgICBjb2xvcjogIzNBM0EzQTsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgoudW5pdC1ib3g6Zm9jdXMgdWwgewogICAgbWFyZ2luOiAxcHggMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSwKLnVuaXQtYm94IGxhYmVsIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBwYWRkaW5nOiAxNHB4IDIwcHg7Cn0KCi51bml0LWJveCBsYWJlbCB7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi51bml0LWJveCBsaTpob3ZlciBsYWJlbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLnBhZ2UtbGlzdCBsYWJlbCBzcGFuLAoudW5pdC1ib3ggbGFiZWwgc3BhbiB7CiAgICBmbGV4OiAxOwp9CgoucGFnZS1saXN0IGlucHV0LAoudW5pdC1ib3ggaW5wdXQgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdmlzaWJpbGl0eTogaGlkZGVuOwp9CgoucGFnZS1saXN0IHNwYW46YmVmb3JlLAoudW5pdC1ib3ggc3BhbjpiZWZvcmUgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgZGlzcGxheTogYmxvY2s7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiAxNnB4OwogICAgaGVpZ2h0OiAxNnB4Owp9CgoucGFnZS1saXN0IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUsCi5wYWdlLWxpc3QgbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUsCi51bml0LWJveCBpbnB1dDpjaGVja2VkK3NwYW46YmVmb3JlLAoudW5pdC1ib3ggbGFiZWw6aG92ZXIgc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBR1FBQUFESUNBTUFBQUFwNHJUekFBQUFhVkJNVkVVQUFBQ1ltNXlZbTUwMGhQYURvTUtZdWNzMGhmYVltNTJabnA2Ym5aMDFoZmVZbkoyWm01NDBodmM4aXY4MWhQV1ltNTJZbkoyWm5KMDFoL2cyaWZtY25KdzRoL28xaGZZMWhmVTFoZlkxaGZVMWhmWTBoZmFabko0MWhmWTJoL2FZbkp3MGhmVTBoUGJwayt3QUFBQUFJblJTVGxNQW81TG1DQVAwbkRJVmVIRk5TZzZkaUdWWk5DY2lHdHZTdzdhcmozeHBWa1NFVHZRT21RQUFBUGxKUkVGVWVOcnQxTXR1d2pBUWhlRnhZaE55SVVCQ3dxWGNPdS8va0hXTWw2d3FSbFdsLzF0WXM1b2p6WkVzQUg3clVaWWJNWFpYMVZKc2ZhdDVTTmhxdERJOWwvK3l5dWlicHMvVE9kMXFsTSs3cUI3blpaaFBLZU1nQmxaNTgrR28wV2tXQzYrdXg3SFU2TnlMaWR6MmFua3ZYb3lFcTJiYklIWWFUYTVpNnE1Ukk4WTJaZmtRQUFBQUFBQUFBQUFBQUFBQTRLMTFVYXpGMk5NNVY0aXR3Wm1IaEwyTEt0TnpoZFlxdzNlZHo5TXQzV3FTejJ1ZDI5WExVTzlTUmkwR3FyeTVMcHhMZVJaZVhVOVR5cmg1TVpIYnJwYTM5V0lrREM3YkI3SFR1V1FRVTA4WGRmTE9QL3NWQVFBQUFBQUFBQUFBQUFENFl6ODRoZzhxbEdUWmVRQUFBQUJKUlU1RXJrSmdnZz09KTsKICAgIGJhY2tncm91bmQtc2l6ZTogNTBweCAxMDBweDsKfQoKLnBhZ2UtbGlzdCBsYWJlbDpob3ZlciBzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGxhYmVsOmhvdmVyIHNwYW46YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IDAgLTUwcHg7Cn0KCi5wYWdlLWxpc3QgaW5wdXQ6Y2hlY2tlZCtzcGFuOmJlZm9yZSwKLnVuaXQtYm94IGlucHV0OmNoZWNrZWQrc3BhbjpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwOwp9CgoudW5pdC1ib3ggLnN1Yi10aXRsZSB7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwOwogICAgY29sb3I6ICMzQTNBM0E7Cn0KCm1haW4gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7Cn0KCi5pbnNwZWN0b3IsCi5uYXZiYXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgYm90dG9tOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAyNDBweDsKICAgIGJhY2tncm91bmQ6ICMyMzI1Mjc7CiAgICB6LWluZGV4OiA1Owp9CgouaW5zcGVjdG9yIHsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7CiAgICByaWdodDogLTI0MHB4OwogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IuYWN0aXZlIHsKICAgIHJpZ2h0OiAwOwp9CgoubmF2YmFyIHsKICAgIGxlZnQ6IC0yNDBweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIHRyYW5zaXRpb246IGFsbCAuMTVzIGVhc2U7Cn0KCi5uYXZiYXIub24gewogICAgbGVmdDogMDsKfQoKLm5hdmJhciBuYXYgewogICAgd2lkdGg6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMDAwMjA0Owp9CgoubmF2YmFyIHNlY3Rpb24gewogICAgZmxleDogMTsKfQoKLnRhYiB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgZGlzcGxheTogZmxleDsKICAgIHdpZHRoOiAxMDAlOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLnRhYiBsaSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleDogMTsKICAgIGhlaWdodDogNjBweDsKICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKfQoKLnRhYiBsaS5jdXJyZW50IHsKICAgIGJhY2tncm91bmQtY29sb3I6ICMyMzI1Mjc7Cn0KCi50YWIgbGk6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDQwcHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQVkxQk1WRVVBQUFCZlltVFkyTmpZMk5oZ1lHUGEydHBkWUdOZllHSFoyZGxnWUdSZlgyTFkyTmhmWUdQWjJkbGRYMlBiMjl2VjFkWFIwZEZkWVdOZ1lHUGIyOXZVMU5SZFhWMWFZV1ZkWFdOWVdHSmJZR0xYMTlmWDE5ZmEydHJYMTlmWTJOaGdZbVR1ZlhsaUFBQUFIM1JTVGxNQTgvTGpacS9tcnpISG5wM1Z5SUpxUlF2N1ZWUWJDMGNzR2pyU1g0bDY1RjBQOVFBQUF2RkpSRUZVZU5ydDNObHU0a0FVUmRIckNUTVlNOFpBR0tyKy95dWJTa2RjUkp5M09sSTZ2ZGNiajF2SVBsRWtyZ0VBQUFBQUFBQ0FVbmp5NVhNbThjbnJaMElJSVlRUVFuNVh5RE5KeUF0Q0NQblhRbjdOdzA0SUlZNkhueEJDekhqWUNTR0VFRUlJK1pFaEFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBRDhIT0VibGxIOEJpSGpJVFlpZDRpTklJUVFRZ2pKRStLbWk4VmFFK0tPOC9sQkhUSXRRMWlJUTk2TEdPZmlrTGQ3UjJpMEljZDdSMnkxSVc5VnVMdElRMDZUZUZkTFF6Ykw0RitJS0dTWVJmOUNWQ0ZONmxodXBDRnQ2cGdOMHBCRjZxamVUQmt5VHgyVGt5bERicW1qbkVwM3BFOGR4Vkc2STVlUXJLV0RXS2VPN1VFNmlPdVFyS1RMZnRqNkMwc1ZNaTFUeDlWRUlUNGdzVGRWaUEvSTBsUWhQaUF6VTRac3p1SERSUmd5ZFBGRHJRbnhBVkUvSTdNWXM1ZUVUejRnRC92Yy8zendBWG5ZcVVLdTN0R1lLS1QzanRaRVZ0NnhNSkhhTytZbXNuNWtsQmNUOEFGSml0b0VmRUNTYW1vaTcwWDgxQjFOd0Fja3VabUFEMGhTOU9aRUhjMmJxWnk2K0ZkN01wbGxTTXJGMURSOFFJcjUwWFNhVk5Hc05pYlVwb3EySGt6b2VtNXVVOVBxdTdaL053QUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUEvak8zbThuMXZjbXRRbGlaV0IxamJXS1hzVnNQK1R2a0pYdS9rQ0N6MjZhUTdjNkUxdUhUMm1RT3FlUDFRbzJnUTEzaXY4b3YzazNFcnd2NDlTTkZoNjdFTzlRbFIrOTR1ZU9VKzdxQTg4dGF1YThrdU1uSjhsdUdGMHZMYmhaZnpDeTdWWGdoR01ZNnZsRE1TUlcrcUN5elNmeGlZaTdmRWpySkx1N2lpTnk3dUFoT2RYSm5IcDNzNU00NWpEaGJWbDBjMFZsZVpSaFJXbFpGSEZGWVhtR1VaYldOSTdhV1Z4V0MvTFUxaVZINjJ2STUxRTJpejZGNkVxOWh4Tld5NnVPSTN2SmFCNmY2Vy80UVJ4d3NzN1BzN2VzNjNkdlg3V1hEN25iQ1lYY0wyYTY3dVhyWC9kNnlXMjRzdTJFbWZHVjVTUk9lTkJzVEdOcjRwQjFNWTFVOXBuQmxJdlhrTVlXMXlXejJUVldXVmJQZm1NeXdhN3VpNk5yZFlBQUFBQUFBQUFBQUFBQUFBQUR3NUE5NlhEYVdlSHFwK3dBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdCAtNTBweCAwOwogICAgYmFja2dyb3VuZC1zaXplOiAxMDBweCAxNTBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi50YWIgbGkuY3VycmVudDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi14OiAwOwp9CgoudGFiIGxpLmljb24tc2xpY2VzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC01MHB4Owp9CgoudGFiIGxpLmljb24tY29sb3JzOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXk6IC0xMDBweDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHsKICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAuY29kZS1pdGVtIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDE2cHg7Cn0KCiNpbnNwZWN0b3IgLmNvZGUtaXRlbS5zZWxlY3QgewogICAgZGlzcGxheTogYmxvY2sgIWltcG9ydGFudDsKfQoKI2luc3BlY3RvciAudGFiIGxpIHsKICAgIGhlaWdodDogNDBweDsKfQoKI2luc3BlY3RvciAudGFiIGxpOmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFNZ0FBQUVzQ0FNQUFBQ3hKQXlNQUFBQW4xQk1WRVVBQUFCZ1ltVFoyZG5mMzkvYjI5dGtaV1puYUdoZ1ltUmdZMlRaMmRscGFXL1oyZG5aMmRuYTJ0cm41K2RnWW1SZ1ltUmdZbVhCd2NIWTJOaGhZMlhaMmRsaFkyVmtaR2hrWldoZ1ltWFoyZGxnWW1SaFltVmhaR1haMmRuWjJkbmIyOXRpWkdaaFltWGEydHJiMjl2WjJkbGdZbVZnWTJUYTJ0cmIyOXRoWkdiYjI5dloyZGxnWW1UWjJkbmEydHJhMnRwaFkyWGUzdDdZMk5oZ1ltUmwreHcvQUFBQU0zUlNUbE1BOFBJZUx6QWdlOWZXRE9lSGZBejE2T0VHN1lmZWJDa1p1cm5Cc1Z2R3NUYzNqbkJUcDZmTFhVVkZKNzZaajVwb1VSVmFXN1Q1QUFBRkhrbEVRVlI0QWUzZHlWTHp5aElFNEpSczBDQVBzanpQTm1BYk1IUFYrei9iL1lXSSt4dHc2eXhPTlJHSHlHL1Z3UzVEbGJTMG9NQXZRMFJFUkVSRVJFUkU5Q0IxTWxpWWE1MGNKa0twczRhRlFPc3NZS0VodGRvd2NLbTFJbGk0a1ZvM01QQ3F0VjVob1NXMUdqQXcwRm9UV0pqOVFOZW5QOUgxaHNPTGxHYXdNTGs4YjJUWWRkU1BYQXMrRGJRMGdGZXorcTRianR3cnZNcnN1dTZVYStrU0Z0YWhnNVQ2c0xBSUhMUVV3RVFtZFdhd2tHdWRxZjk3M2FqckU2MDErQzMzK2hJVzJqOXdyMGZxWnRkMXFSUEN3a0xyQkRCeGJKNTNMYVVIV0JoZm5EZlMwaHhldFkzdmRmZklYY0dydFpSdTRkUENzT3RPUXlrZDRWTlBTMk5ZYUNXbFczejFadGoxUVZ4YTRxdUpaZGNUS1czdzFaMlVWckFRYTJtTHIrNE51MTdJdTQ2ajYwOHdVT2k3MUd2WE4vTHVlWU5QbXEzTXJ1dGJmZmU0eFNmalFXN1k5UmY1a0Z5Ly9VMlJ5SWNtREl6MFF6eWEvRTBSYThXbzY4L3kxKzd1SkVVRkZoNzEvN3I3K3pKRkZKLzh5SzdyZncyZkV6bTFnb1dEbnVvOXhucnFBQk03cVRHOGhZVzkxb2lYc1BGMm5UaFN0Sm93TW9saVBhczN1SUNoelhQNFBjVUdwcmFQM2U4cHRyRFdlVmw1VEZGSlI0ZlRGRmRiK05GODZrc3BlOXJBbC9GVjREZEZwYmlaZVV4UktaYlRmNWVDaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlpSWlJaUlxQlcyNE5zZ0dNQTdFWUZ2cXZwYmd4VCtnelNUck9rN3lFV2NYL2dPMHV5THREMEh1UWhVSTY5QnFoejloczhnVlk3ZzBrZVE5bXdZaHNtNjNhaHlOSDEwSkpyMnVrRzhpQ1pWamd1WWt4TXpQem1nSjZhZWNyVGtsSjhjQXozbEpVZG5MVitzT2pDV0x2U0xRL29UVzBCbkJXek45WnRwQVZ0dE9lTUpwaUk5NHdxbU5sSnFkOXJ5NmRDRW9hMldvalRTVDRjTEQzdUNPdWpJcDhPRC9aNmdGS2wrT3N4aHFDSG5uNGcwWUdhaTU1K0lYdnB0U09YYWEwTXFrZWxrT2N3c0o4dGhDanVKT0NRd2MxQ0hHSFpDY1FoaEpsQ0hBUFJiWFlmaUZGN0R4S2lyVHQyUmZVTzh0YVNyTmJxd0liVmdRbXY5d2lmQ2psVEVDV2FNQm90QnpEQUlnekFJZzlqSnhDR0RtVndkY3RqWmljTU9admJxc0llZFJsL082amRnWmhMb1djRUVoaHE3VEw3SmRnMFltdXh6L1NiZlQwQkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUkVSRVJFUlBUZlVkek9NbmhXTEtjNVBMc2JpdlRoMTMzUC81YUVXL2xqQmErVzFYSVhyKzZrZEEyZjdyVVV3YWNpa3ovNkhYaFU5UFNQSUlWUEwxSzZnVThqTFMzaDFZUDgwWVpYVTcrRFZlbDdMVWdscVBZSytCVU9uNDd3TE9nOWp1Rkg4MmsyVEhZM0haUTI3VlVXRHRjdkhaZ2FYMDNqdzM2Wm9yU041bmszWG94U1dEbyt5SWYxN1YxcktCWGJxb3puV3VrdWx2ZURubjdvUnJCekU0ckRRd0VqcjRFNnpGUFRHOUJoWjNrRE91eTkvc2x4WmJpQmlVbXVUcjB0YkR5TFU5S0JqVWQxaWxQWTZJVGlFaDVoSXczVUpSakR5SXM0dFdCa3BFNERXTm1KMHhGRzl1bzBocFdWdUdTd01sZVhIR1l5Y1ZuQlNrOWREakFqUHhCRWZ5Skk5Z09qbGF0TEQyWVNjV3JBU0t4T2w3QXlFNmMyakV6VktZS1ZsamlGYi9hN3NQM3RSYmtUdDFYaC81WFI3T1cza0Jxck4xaEl0Y1o4NHJja2xlekZaMGtxK1FnbWJxVE9BeXk4YXAwNWJBeWx4cTNYdTcyeWhJMXJjVXY4di85cURDTkZJazUzc0ZIRTZuUVAvNytCWjdCeXJ5NVQySG4yL1lsWTg3WGJIY05Pa2Zoc2VpV04vVGE5MHNqOC8zT0Z5MXpQdUlLdFl5THZrdWRXYXkyVkZteU5ZMzBYUDBaWGk2NTlqa3FubFlTcjlyRTYzK3lHMlhvRGEra2dEZzdSdURxLzd1UGVZZ3NpSWlJaUlpSWlJaUlpSWlJaUlpS2lmL1kvamxGR2VjS0FVbk1BQUFBQVNVVk9SSzVDWUlJPSk7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5zZWxlY3QgewogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMDUpOwp9CgojaW5zcGVjdG9yIC50YWIgbGkuc2VsZWN0OmJlZm9yZSB7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uLXg6IDA7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWFuZHJvaWQtcGFuZWw6YmVmb3JlIHsKICAgIGJhY2tncm91bmQtcG9zaXRpb24teTogLTUwcHg7Cn0KCiNpbnNwZWN0b3IgLnRhYiBsaS5pY29uLWlvcy1wYW5lbDpiZWZvcmUgewogICAgYmFja2dyb3VuZC1wb3NpdGlvbi15OiAtMTAwcHg7Cn0KCi5zY3JlZW4tdmlld2VyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHdpZHRoOiAxMDB2dzsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDYwcHgpOwogICAgYmFja2dyb3VuZDogIzE5MTkxOSB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDQUFBQUFnQVFNQUFBQkp0T2kzQUFBQUJsQk1WRVVBQUFBQUFBQ2xaN25QQUFBQUFuUlNUbE1BVXZQMi9lQUFBQUFSU1VSQlZBalhZNkFTWUQ2QVRsQUhBQUR5NWdNTjBmQ3FGd0FBQUFCSlJVNUVya0pnZ2c9PSk7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDE2cHggMTZweDsKICAgIG92ZXJmbG93OiBhdXRvOwp9Cgouc2NyZWVuLXZpZXdlciAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBub25lOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgd2lkdGg6IDEwMHZ3OwogICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7CiAgICB0b3A6IDYwcHg7CiAgICBsZWZ0OiAwOwogICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgei1pbmRleDogMjsKICAgIGN1cnNvcjogbm9uZTsKfQoKLnNjcmVlbi12aWV3ZXIubW92aW5nLXNjcmVlbiAub3ZlcmxheSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnNjcmVlbi12aWV3ZXItaW5uZXIgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgbWFyZ2luOiAwIGF1dG87Cn0KCi5zY3JlZW4gewogICAgbWFyZ2luOiAwIGF1dG87CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDUwJTsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDJweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5zY3JlZW4uZmxvdyB7CiAgICBsZWZ0OiAwOwogICAgdG9wOiAwOwp9CgojZmxvd3MgewogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCiNmbG93cyAuZmxvdyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGJhY2tncm91bmQtY29sb3I6ICNGNUE2MjM7CiAgICBvcGFjaXR5OiAwOwogICAgY3Vyc29yOiBwb2ludGVyOwp9CgojZmxvd3Muc2hvdy1mbG93cyAuZmxvdyB7CiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuNXM7CiAgICBhbmltYXRpb24tbmFtZTogZmxvd1RpcDsKfQoKQGtleWZyYW1lcyBmbG93VGlwIHsKICAgIDAlIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQoKICAgIDUwJSB7CiAgICAgICAgb3BhY2l0eTogMC41OwogICAgfQoKICAgIDEwMCUgewogICAgICAgIG9wYWNpdHk6IDA7CiAgICB9Cn0KCi5sYXllciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5ob3ZlciwKLnNlbGVjdGVkIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNFRTY3MjM7Cn0KCi5oYXMtc2xpY2UgewogICAgYm9yZGVyOiAxcHggZGFzaGVkICNFRTY3MjM7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgODUsIDAsIC4zMik7Cn0KCi5sYXllciBiLAoubGF5ZXIgaSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiA1cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm9yZGVyOiAxcHggc29saWQgI0VFNjcyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBkaXNwbGF5OiBub25lOwp9CgoubGF5ZXIgYiB7CiAgICB3aWR0aDogM3B4OwogICAgaGVpZ2h0OiAzcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9Cgouc2VsZWN0ZWQgaSB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLmRpc3RhbmNlLmggZGl2W2RhdGEtd2lkdGhdOmJlZm9yZSwKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciwKLnNlbGVjdGVkOmJlZm9yZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGxlZnQ6IDUwJTsKICAgIHRvcDogLTIzcHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtd2lkdGgpOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICBoZWlnaHQ6IDEycHg7CiAgICBsaW5lLWhlaWdodDogMTJweDsKICAgIHBhZGRpbmc6IDRweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7CiAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICB6LWluZGV4OiAxOwp9CgoucGVyY2VudGFnZS1tb2RlIC5kaXN0YW5jZS5oIGRpdltkYXRhLXdpZHRoXTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyLAoucGVyY2VudGFnZS1tb2RlIC5zZWxlY3RlZDpiZWZvcmUgewogICAgY29udGVudDogYXR0cihwZXJjZW50YWdlLXdpZHRoKTsKfQoKLnNlbGVjdGVkLmhpZGRlbjphZnRlciwKLnNlbGVjdGVkLmhpZGRlbjpiZWZvcmUgewogICAgZGlzcGxheTogbm9uZTsKfQoKLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5zZWxlY3RlZDphZnRlciB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtaGVpZ2h0KTsKICAgIGxlZnQ6IGF1dG87CiAgICByaWdodDogMDsKICAgIHRvcDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKGNhbGMoMTAwJSArIDNweCkpIHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5wZXJjZW50YWdlLW1vZGUgLmRpc3RhbmNlLnYgZGl2W2RhdGEtaGVpZ2h0XTpiZWZvcmUsCi5wZXJjZW50YWdlLW1vZGUgLnNlbGVjdGVkOmFmdGVyIHsKICAgIGNvbnRlbnQ6IGF0dHIocGVyY2VudGFnZS1oZWlnaHQpOwp9CgoubGF5ZXIgLnRsIHsKICAgIHRvcDogLTNweDsKICAgIGxlZnQ6IC0zcHg7Cn0KCi5sYXllciAudHIgewogICAgdG9wOiAtM3B4OwogICAgcmlnaHQ6IC0zcHg7Cn0KCi5sYXllciAuYmwgewogICAgYm90dG9tOiAtM3B4OwogICAgbGVmdDogLTNweDsKfQoKLmxheWVyIC5iciB7CiAgICBib3R0b206IC0zcHg7CiAgICByaWdodDogLTNweDsKfQoKLmhvdmVyIHsKICAgIGJvcmRlcjogMXB4IHNvbGlkICM0MTliZjk7Cn0KCi5zZWxlY3RlZCB7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjRUU2NzIzOwp9CgoucnVsZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBib3JkZXI6IDFweCBkYXNoZWQgIzQxOWJmOTsKfQoKLnJ1bGVyLmggewogICAgYm9yZGVyLWxlZnQ6IDA7CiAgICBib3JkZXItcmlnaHQ6IDA7Cn0KCi5ydWxlci52IHsKICAgIGJvcmRlci10b3A6IDA7CiAgICBib3JkZXItYm90dG9tOiAwOwp9CgouZGlzdGFuY2UsCi5kaXN0YW5jZSBkaXYsCi5kaXN0YW5jZSBkaXY6YmVmb3JlLAouZGlzdGFuY2U6YWZ0ZXIsCi5kaXN0YW5jZTpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwp9CgouZGlzdGFuY2UudiwKLmRpc3RhbmNlLnYgZGl2IHsKICAgIHdpZHRoOiAxcHg7Cn0KCi5kaXN0YW5jZS5oLAouZGlzdGFuY2UuaCBkaXYgewogICAgaGVpZ2h0OiAxcHg7Cn0KCi5kaXN0YW5jZS52IGRpdiB7CiAgICB0b3A6IDA7CiAgICBib3R0b206IDA7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaCBkaXYgewogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYmFja2dyb3VuZDogI0VFNjcyMzsKfQoKLmRpc3RhbmNlLnY6YWZ0ZXIsCi5kaXN0YW5jZS52OmJlZm9yZSB7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMDsKICAgIGxlZnQ6IC0ycHg7CiAgICB3aWR0aDogNXB4OwogICAgaGVpZ2h0OiAxcHg7CiAgICBiYWNrZ3JvdW5kOiAjRUU2NzIzOwp9CgouZGlzdGFuY2UuaDphZnRlciwKLmRpc3RhbmNlLmg6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgdG9wOiAtMnB4OwogICAgbGVmdDogMDsKICAgIHdpZHRoOiAxcHg7CiAgICBoZWlnaHQ6IDVweDsKICAgIGJhY2tncm91bmQ6ICNFRTY3MjM7Cn0KCi5kaXN0YW5jZS52OmFmdGVyIHsKICAgIHRvcDogYXV0bzsKICAgIGJvdHRvbTogMDsKfQoKLmRpc3RhbmNlLmg6YWZ0ZXIgewogICAgbGVmdDogYXV0bzsKICAgIHJpZ2h0OiAwOwp9Cgoubm90ZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBtYXJnaW46IC0xMnB4IDAgMCAtMTJweDsKICAgIHdpZHRoOiAyNHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgYmFja2dyb3VuZDogI0Y1QTYyMzsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIGJvcmRlcjogMnB4IHNvbGlkICNGRkY7CiAgICBib3gtc2hhZG93OiAwIDAgM3B4IHJnYmEoMCwgMCwgMCwgLjI0KTsKfQoKLm5vdGU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6IGF0dHIoZGF0YS1pbmRleCk7CiAgICBmb250LXNpemU6IDEycHg7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBsaW5lLWhlaWdodDogMjBweDsKfQoKLm5vdGU6aG92ZXIgewogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC42NCk7Cn0KCi5ub3RlIGRpdiB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDUwJTsKICAgIGxlZnQ6IDMwcHg7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBwYWRkaW5nOiA4cHg7CiAgICBiYWNrZ3JvdW5kOiAjRkZGOwogICAgYm94LXNoYWRvdzogMCAwIDNweCByZ2JhKDAsIDAsIDAsIC41KTsKICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7CiAgICBjb2xvcjogIzIyMjsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTsKICAgIHotaW5kZXg6IDI7Cn0KCi5ub3RlIGRpdjpiZWZvcmUgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAtN3B4OwogICAgdG9wOiA1MCU7CiAgICB3aWR0aDogOHB4OwogICAgaGVpZ2h0OiAxNHB4OwogICAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBY0NBTUFBQUJmNzg4b0FBQUFObEJNVkVVQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFEUjBkRUFBQUFBQUFBQUFBQUFBQUFBQUFETnpjMEFBQUFBQUFEYTJ0cms1T1QvLy8vNWF1RkZBQUFBRVhSU1RsTUFBZ1lLRWh5ZE5Da1lEaU9mTGllV2p6NE1VajRBQUFCclNVUkJWQmpUWlpGYkRvQWdFQU5WRkhtSU92ZS9yRVJqV0dqL3BzbkNianYxZ2c3bkdUcGNGbXRVZEE0TXU3UW1NTHpHR01Id2x2TU5oczl5QVkzRDdxa2FtY1lIci83NXlzMUlNUmVQTmJid3NSbzZvby9xdDdyWTZPaHhlcjRHcEJGcXlGcURGdFdxZkFENGRRcmxXRG1TaEFBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdDsKICAgIGJhY2tncm91bmQtc2l6ZTogOHB4IDE0cHg7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7Cn0KCi5zbGlkZWJveCB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLnNsaWRlYm94IGlucHV0IHsKICAgIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoKLnNsaWRlYm94IGxhYmVsIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMDsKICAgIGxlZnQ6IDA7CiAgICB3aWR0aDogNDBweDsKICAgIGhlaWdodDogMjBweDsKICAgIGJhY2tncm91bmQ6ICM4OTg5ODk7CiAgICBib3gtc2hhZG93OiBpbnNldCAwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIC4zKTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjJzIGVhc2U7Cn0KCi5zbGlkZWJveCBsYWJlbDphZnRlciB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBjb250ZW50OiAiIjsKICAgIHRvcDogMnB4OwogICAgbGVmdDogMnB4OwogICAgd2lkdGg6IDE2cHg7CiAgICBoZWlnaHQ6IDE2cHg7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoLTE4MGRlZywgI0Y4RjlGNiAwLCAjRjVGNUY1IDEwMCUpOwogICAgYm94LXNoYWRvdzogMCAxcHggMnB4IDAgcmdiYSgwLCAwLCAwLCAuMyk7CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICB0cmFuc2l0aW9uOiBhbGwgLjE1cyBlYXNlOwp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbCB7CiAgICBiYWNrZ3JvdW5kOiAjMzQ4NEY1Owp9Cgouc2xpZGVib3ggaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCtsYWJlbDphZnRlciB7CiAgICBsZWZ0OiAyMnB4Owp9CgouaW5zcGVjdG9yIHsKICAgIG92ZXJmbG93OiBhdXRvOwp9CgouaW5zcGVjdG9yIGgyLAouaW5zcGVjdG9yIGgzIHsKICAgIG1hcmdpbjogMDsKICAgIHBhZGRpbmc6IDA7CiAgICBmb250LXdlaWdodDogNDAwOwp9CgouaW5zcGVjdG9yIGgyIHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwp9CgouaW5zcGVjdG9yIGgzIHsKICAgIGhlaWdodDogMzJweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGxpbmUtaGVpZ2h0OiAzMnB4OwogICAgcGFkZGluZzogMCAxNnB4OwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2JhKDAsIDQsIDksIC4zMikgMCwgcmdiYSgwLCAyLCA0LCAwKSAxMDAlKTsKfQoKLmluc3BlY3RvciAuY29udGV4dCB7CiAgICBwYWRkaW5nOiAxNnB4Owp9CgouaW5zcGVjdG9yIC5jb2xvciwKLmluc3BlY3RvciAuaXRlbSB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgbWFyZ2luOiAwIDAgOHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtW2RhdGEtbGFiZWxdOmJlZm9yZSB7CiAgICBjb250ZW50OiBhdHRyKGRhdGEtbGFiZWwpOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogNzBweDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGhlaWdodDogMjRweDsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4Owp9CgouaW5zcGVjdG9yIC5jb2xvcjpsYXN0LWNoaWxkLAouaW5zcGVjdG9yIC5pdGVtOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouaW5zcGVjdG9yIC5pdGVtIGRpdiwKLmluc3BlY3RvciAuaXRlbSBsYWJlbCB7CiAgICBmbGV4OiAxOwp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsIHsKICAgIHBhZGRpbmc6IDAgNHB4Owp9CgouaW5zcGVjdG9yIC5pdGVtIGxhYmVsOmZpcnN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgNHB4IDAgMDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpsYXN0LWNoaWxkIHsKICAgIHBhZGRpbmc6IDAgMCAwIDRweDsKfQoKLmluc3BlY3RvciAuaXRlbSBsYWJlbDpvbmx5LWNoaWxkIHsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLml0ZW0gbGFiZWxbZGF0YS1sYWJlbF06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLWxhYmVsKTsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIGlucHV0LAouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIHBhZGRpbmc6IDNweCA0cHg7CiAgICB3aWR0aDogMTAwJTsKICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KTsKICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgIGJvcmRlcjogMDsKICAgIGxpbmUtaGVpZ2h0OiAxOHB4OwogICAgaGVpZ2h0OiAyNHB4OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgY29sb3I6ICNGRkY7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBvdXRsaW5lOiAwOwogICAgcmVzaXplOiBub25lOwp9CgouaW5zcGVjdG9yIHRleHRhcmVhIHsKICAgIG1pbi13aWR0aDogMTAwJTsKICAgIGhlaWdodDogYXV0bzsKICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0KCi5jb250ZXh0IGg0IHsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICBwb3NpdGlvbjogMDsKICAgIG1hcmdpbjogMCAwIDE2cHg7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmNvbnRleHQgaDQ6YmVmb3JlIHsKICAgIG1hcmdpbjogMCAxMHB4IDAgMDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDhweDsKICAgIGhlaWdodDogOHB4OwogICAgYm9yZGVyLXJhZGl1czogMXB4OwogICAgYmFja2dyb3VuZDogIzM0ODRGNTsKfQoKLmNvbnRleHQgLmNvbG9ycyB7CiAgICBtYXJnaW46IDAgMCA4cHg7Cn0KCi5jb250ZXh0IC5jb2xvcnM6bGFzdC1jaGlsZCwKLmNvbnRleHQgLml0ZW1zLWdyb3VwOmxhc3QtY2hpbGQgewogICAgbWFyZ2luOiAwOwp9CgouY29udGV4dCAuaXRlbXMtZ3JvdXAgewogICAgbWFyZ2luOiAwIDAgMjRweDsKfQoKLmluc3BlY3RvciAuY29sb3IgewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yW2RhdGEtbmFtZV06YWZ0ZXIgewogICAgY29udGVudDogYXR0cihkYXRhLW5hbWUpOwogICAgZm9udC1zaXplOiAxMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgcGFkZGluZzogMCAwIDAgMjRweDsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgbWFyZ2luOiAycHggMCAwOwp9CgouaW5zcGVjdG9yIC5jb2xvciBsYWJlbCwKLmluc3BlY3RvciAuY29sb3IgbGFiZWwgZW0sCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB3aWR0aDogMjRweDsKICAgIGhlaWdodDogMjRweDsKICAgIHBhZGRpbmc6IDA7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICNkZGRhZGMgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgI2RkZGFkYyA3NSUsICNkZGRhZGMpOwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDEycHg7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDAsIDZweCA2cHg7CiAgICBib3JkZXItcmFkaXVzOiAycHggMCAwIDJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGxhYmVsIGVtIGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwp9CgouaW5zcGVjdG9yIC5pdGVtIC5jb2xvciBpbnB1dCB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5pbnNwZWN0b3IgLmNvbG9yIGlucHV0IHsKICAgIHBhZGRpbmctbGVmdDogMzJweDsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogbGVmdDsKfQoKLmdyYWRpZW50IC5jb2xvciBsYWJlbDpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAxMnB4OwogICAgbGVmdDogMTFweDsKICAgIGNvbnRlbnQ6ICIiOwogICAgd2lkdGg6IDJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAyOwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3IgbGFiZWw6YWZ0ZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA4cHg7CiAgICBsZWZ0OiA4cHg7CiAgICBjb250ZW50OiAiIjsKICAgIHdpZHRoOiA4cHg7CiAgICBoZWlnaHQ6IDhweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB6LWluZGV4OiAzOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdzogMCAwIDJweCAxcHggcmdiYSgwLCAwLCAwLCAuMik7Cn0KCi5ncmFkaWVudCAuY29sb3JbZGF0YS1uYW1lXSBsYWJlbDpiZWZvcmUgewogICAgaGVpZ2h0OiA0MnB4Owp9CgouZ3JhZGllbnQgLmNvbG9yOmxhc3QtY2hpbGQgbGFiZWw6YmVmb3JlIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5uYXZiYXIgc2VjdGlvbiB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBvdmVyZmxvdzogYXV0bzsKfQoKLmFydGJvYXJkLWxpc3QsCi5hc3NldC1saXN0LAouY29sb3ItbGlzdCB7CiAgICBtYXJnaW46IDA7CiAgICBwYWRkaW5nOiAwOwogICAgbGlzdC1zdHlsZTogbm9uZTsKfQoKLmFydGJvYXJkLWxpc3QgbGkgewogICAgcGFkZGluZzogMTZweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5hcnRib2FyZC1saXN0IGxpOmhvdmVyLAouYXNzZXQtbGlzdCBsaTpob3ZlciwKLmNvbG9yLWxpc3QgbGk6aG92ZXIgewogICAgYmFja2dyb3VuZDogIzE5MUExRTsKfQoKLmFydGJvYXJkLWxpc3QgbGkuYWN0aXZlIHsKICAgIGJhY2tncm91bmQ6ICM0NTQ3NDg7Cn0KCi5hcnRib2FyZC1saXN0Lm5vLXByZXZpZXcgLnByZXZpZXctaW1nIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5wcmV2aWV3LWltZyB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiA0NHB4OwogICAgaGVpZ2h0OiA0NHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAuMzIpOwp9CgoucHJldmlldy1pbWc6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICcgJzsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBoZWlnaHQ6IDEwMCU7Cn0KCi5wcmV2aWV3LWltZyBpbWcgewogICAgbWF4LXdpZHRoOiA0NHB4OwogICAgbWF4LWhlaWdodDogNDRweDsKICAgIGJhY2tncm91bmQ6ICNGRkY7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CgoucGFnZXMtc2VsZWN0LAouZmxvdy1zdGFydHMgLnRpdGxlIHsKICAgIHBhZGRpbmc6IDI0cHg7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7Cn0KCi5wYWdlcy1zZWxlY3QgaDMsCi5mbG93LXN0YXJ0cyAudGl0bGUgaDMgewogICAgbWFyZ2luOiAwOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjRkZGOwp9CgoucGFnZXMtc2VsZWN0IGgzIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKfQoKLnBhZ2UtbGlzdCBlbSwKLnBhZ2VzLXNlbGVjdCBoMyBlbSwKLmZsb3ctc3RhcnRzIC50aXRsZSBoMyBlbSB7CiAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICBmb250LXNpemU6IDEwcHg7CiAgICBjb2xvcjogIzk4OUE5QzsKfQoKLnBhZ2VzLXNlbGVjdCBoMzphZnRlciB7CiAgICBjb250ZW50OiAiIjsKICAgIG1hcmdpbjogMCAwIDAgNHB4OwogICAgd2lkdGg6IDEycHg7CiAgICBoZWlnaHQ6IDZweDsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJnQUFBQU1BZ01BQUFBRlhwWG1BQUFBQ1ZCTVZFVUFBQUJpWkdaZ1ltVGhZMW1IQUFBQUFuUlNUbE1BZ0pzclRoZ0FBQUExU1VSQlZBalhGY2t4QVFBZ0RNVEFaNmtJMUtBSE5Zam9BaXBKc21TNDdFYzMwM1hLblF5M0FrSVJtNVVVVUFJaEVSSWhFZm9xbVJmcGNxY0ZjQUFBQUFCSlJVNUVya0pnZ2c9PSkgbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOiAxMnB4IDZweDsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7CiAgICBtYXJnaW46IC0zMnB4IDAgMDsKICAgIHBhZGRpbmc6IDhweDsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICB3aWR0aDogMTgwcHg7CiAgICBiYWNrZ3JvdW5kOiAjMEYwRjBGOwogICAgYm94LXNoYWRvdzogMCAycHggMTBweCAwIHJnYmEoMCwgMCwgMCwgLjgpOwp9CgoucGFnZXMtc2VsZWN0OmZvY3VzIHsKICAgIG91dGxpbmU6IDA7Cn0KCi5wYWdlcy1zZWxlY3Q6Zm9jdXMgLnBhZ2UtbGlzdCB7CiAgICBkaXNwbGF5OiBibG9jazsKfQoKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IGxhYmVsIHsKICAgIHBhZGRpbmc6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5wYWdlcy1zZWxlY3QgLnBhZ2UtbGlzdCBsYWJlbCwKLnBhZ2VzLXNlbGVjdCAucGFnZS1saXN0IHNwYW4gewogICAgZGlzcGxheTogYmxvY2s7Cn0KCi5wYWdlLWxpc3Qgc3BhbjpiZWZvcmUgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IDhweDsKfQoKLmV4cG9ydGFibGUgewogICAgbWFyZ2luOiAwOwogICAgcGFkZGluZzogMDsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBiYWNrZ3JvdW5kOiAjMTkxQTFFOwogICAgYm9yZGVyOiAxcHggc29saWQgIzJEMkYzMTsKICAgIGJvcmRlci1yYWRpdXM6IDRweDsKfQoKLmV4cG9ydGFibGUgbGkgewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgcGFkZGluZzogMCA4cHg7CiAgICBoZWlnaHQ6IDMycHg7CiAgICBsaW5lLWhlaWdodDogMzJweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMjIyOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwp9CgouZXhwb3J0YWJsZSBsaSBhIHsKICAgIGNvbG9yOiAjRkZGOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgb3V0bGluZTogMDsKfQoKLmV4cG9ydGFibGUgbGk6bGFzdC1jaGlsZCB7CiAgICBib3JkZXI6IDA7Cn0KCi5leHBvcnRhYmxlIGltZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgd2lkdGg6IDEwMCU7CiAgICBoZWlnaHQ6IDEwMCU7CiAgICBvcGFjaXR5OiAwOwp9CgouYXNzZXQtbGlzdCBsaSwKLmNvbG9yLWxpc3QgbGkgewogICAgcGFkZGluZzogMjRweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBjdXJzb3I6IHBvaW50ZXI7Cn0KCi5jb2xvci1saXN0IGxpIHsKICAgIGN1cnNvcjogZGVmYXVsdDsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSwKLmNvbG9yLWxpc3QgbGkgZW0gewogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgZGlzcGxheTogYmxvY2s7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB3aWR0aDogMzJweDsKICAgIGhlaWdodDogMzJweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0QTRBNEE7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApLCBsaW5lYXItZ3JhZGllbnQoNDVkZWcsICMwMDAgMjUlLCB0cmFuc3BhcmVudCAyNSUsIHRyYW5zcGFyZW50IDc1JSwgIzAwMCA3NSUsICMwMDApOwogICAgYmFja2dyb3VuZC1zaXplOiA4cHggOHB4OwogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogMCAwLCA0cHggNHB4OwogICAgYm9yZGVyLXJhZGl1czogMnB4Owp9CgouY29sb3ItbGlzdCBsaSBlbSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKSwgbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGRkYWRjIDI1JSwgdHJhbnNwYXJlbnQgMjUlLCB0cmFuc3BhcmVudCA3NSUsICNkZGRhZGMgNzUlLCAjZGRkYWRjKTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5jb2xvci1saXN0IGxpIGVtIGkgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgYm90dG9tOiAwOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYsCi5hc3NldC1saXN0IGxpIGRpdiwKLmNvbG9yLWxpc3QgbGkgZGl2IHsKICAgIHBhZGRpbmc6IDAgMCAwIDE2cHg7CiAgICBmbGV4OiAxOwp9CgouYXJ0Ym9hcmQtbGlzdCBsaSBkaXYgewogICAgcGFkZGluZzogNnB4IDAgNHB4IDE2cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YmVmb3JlIHsKICAgIGNvbnRlbnQ6ICIiOwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgaGVpZ2h0OiAxMDAlOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKfQoKLmFzc2V0LWxpc3QgbGkgcGljdHVyZSBpbWcgewogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIG1heC13aWR0aDogMjhweDsKICAgIG1heC1oZWlnaHQ6IDI4cHg7Cn0KCi5hc3NldC1saXN0IGxpIHBpY3R1cmU6YWZ0ZXIgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDA7CiAgICBsZWZ0OiAwOwogICAgcmlnaHQ6IDA7CiAgICBib3R0b206IDA7Cn0KCi5hcnRib2FyZC1saXN0IGgzLAouYXNzZXQtbGlzdCBoMywKLmNvbG9yLWxpc3QgaDMgewogICAgbWFyZ2luOiAwIDAgNHB4OwogICAgcGFkZGluZzogMDsKICAgIGNvbG9yOiAjRkZGOwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKfQoKLmFydGJvYXJkLWxpc3Qgc21hbGwsCi5hc3NldC1saXN0IHNtYWxsLAouY29sb3ItbGlzdCBzbWFsbCB7CiAgICBmb250LXNpemU6IDEwcHg7Cn0KCi5hcnRib2FyZC1saXN0IGxpLmFjdGl2ZSBzbWFsbCB7CiAgICBjb2xvcjogI0ZGRjsKfQoKLmVtcHR5IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMzAlOwogICAgbGVmdDogMDsKICAgIHJpZ2h0OiAwOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpOwogICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLm1lc3NhZ2UgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICBtYXgtd2lkdGg6IDMyMHB4OwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIC45Nik7CiAgICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI1NSwgMjU1LCAyNTUsIC4xNik7CiAgICBjb2xvcjogI0ZGRjsKICAgIGJveC1zaGFkb3c6IDAgMnB4IDEwcHggcmdiYSgwLCAwLCAwLCAuMzIpOwogICAgei1pbmRleDogOTsKICAgIGRpc3BsYXk6IG5vbmU7Cn0KCi5jdXJzb3IgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbWFyZ2luOiAtOHB4IDAgMCAtOHB4OwogICAgdG9wOiA1MCU7CiAgICBsZWZ0OiA1MCU7CiAgICB3aWR0aDogMTZweDsKICAgIGhlaWdodDogMTdweDsKICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAxN3B4OwogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWlDQU1BQUFBSmJDdk5BQUFCVmxCTVZFVUFBQUFHQmdZQkFRRUJBUUVBQUFBQUFBQUFBQUFuSnljQUFBQTNOemNEQXdNTkRRMEFBQUFBQUFBQUFBQWhJU0ViR3hzWUdCZ1BEdzhDQWdJREF3TUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQXZMeThVRkJRQ0FnSUJBUUVBQUFBQUFBQUFBQUFBQUFBQUFBQStQajVCUVVFL1B6OHpNek1DQWdJREF3TURBd01DQWdJQkFRRUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUE3T3pzQUFBQUFBQUFBQUFBQUFBRC8vLzhBQUFCaFlXRWRIUjM2K3ZwVlZWWDkvZjMyOXZiejgvUGIyOXVCZ1lGMGRIUmpZMk1zTEN6MzkvZnQ3ZTNyNit2UjBkRnhjWEZTVWxKTlRVM1gxOWZLeXNxNHVMaDNkM2RYVjFkSlNVbEdSa1pFUkVUdjcrL282T2pqNCtPOHZMeTF0YlcwdExTbnA2ZW1wcWFUazVPS2lvcUdob1p0YlcxbloyZGNYRnhQVDAvRHc4UEN3c0t3c0xDdXJxNnBxYW1ob2FHWm1abU5qWTE2ZW5wZVhsNUpuRzd4QUFBQVBIUlNUbE1BL2ZqOUIxRUMvamYrL3Z3OEV3NysvZno4NXQyNm1wUm9ZeVg5L09MTW9IbEtNaUwrL2YzOThlblkwY0MxdExHb2pvdUdWaDRaL3FweVF5N1VHL3ZMQUFBQ0hVbEVRVlE0VDMzUVZWZGJVUkJBNGJrM1Fqd1FJSWE3dTlUMlFEd1F4eDJLMStYL3YvUWhselJwV04ydjUxdG5abzFJUzRFUng0YjhKNGVwYWh0KzVjSHBpS3pHUmZ6bXhINTVSMGZ0c2VFUlp3dUlxR0dZNnhMVExLU05vVGxWN1cwV1k3WjhxalJoZmxneEFEclVPTWpjYXJRSmpHZ1ppcUhlY0JmQXVCNENmYjFOd0tjSHdKME9kZ0tjNmpXdzFTMHk1ckxYZ2QxOEFJcUdkdFZCR2RqcHRpK3I5c1RyWXFrckJTUzFIK0JFejRHam5vam12bnV0UVE3OUFueFRMOEN4Rm9Da3FYblltYWtENThBa2tQRVlBRFVQUUZWREdhak9XbXNPYXhib1U0RG5FRUJOODBEZmdvajRvZzcvcHUwUWVOUTA4TnhaMzJRUEVwNDFjUzZycXZsdXFUOEZYNE1KSVBjRWtIUURuOVFoNjVyUDdsZTFXL2RwS1ZFQWNyYUFySHBUUUU3MW52Wk81MFRXakF4QVJVOWVBYUd3aUV0dkFSSlRuUUNwTktUUElGRUV1TkNvaUN3WW53R0tXWUNLRzdiR29iSUxjSzArRWZIUGV2Y2FmejRGb2JvTFc5c0E5eG9RRWRtWTZTaThnTjlCU0RaQXJhZCt4dmY2NndWc2JUZUJNeU5pSFhySXM5Y01PaXh3cDZNVzhFOVBXbUJuRzQ0c2NPRmRsSmRpK3RNQ1hRMlFjRS9IRzhENVZqOENrTytBeHltbzdIS29Edm1iZmQ1ekE1QW9RZVljQ3FXc0xTek5CZVp0UDJndVovTzNBTEV2V2xNb3Zla3NRN0pIL3NrNTZLNkRtamtRVEhNOCtDK1FvZjZyZzh2THF3ZU51bXpITis3dU5oRFdlaXNpTVZOMW9BM1lSMTB1bjgrMUtTSVNpSS9aMjhEci9RSFBhNkVtOERmd2ZBQUFBQUJKUlU1RXJrSmdnZz09Jyk7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgY3Vyc29yOiBub25lOwogICAgei1pbmRleDogMTsKfQoKLmN1cnNvci5zaG93IHsKICAgIGRpc3BsYXk6IGJsb2NrOwp9CgouY3Vyc29yLm1vdmluZyB7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBaUNBTUFBQUFKYkN2TkFBQUJNbEJNVkVVQUFBQUFBQUEyTmpZc0xDd0NBZ0lBQUFBQUFBQU1EQXdCQVFFQ0FnSUJBUUVDQWdJQkFRRUJBUUVBQUFBQUFBQUFBQUE1T1RrZ0lDQUlDQWdBQUFBY0hCd0NBZ0lBQUFBQUFBQUFBQUFBQUFBQUFBQkRRME04UER3eE1URTBORFFWRlJVQ0FnSUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUER3OERBd01BQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFELy8vOEFBQUJoWVdFY0hCejYrdnIzOS9kTVRFenM3T3k4dkx5NHVMaFdWbFlxS2lvb0tDajA5UFR3OFBDMXRiV25wNmQyZG5aWldWbjgvUHpwNmVuajQrUGQzZDNhMnRyTnpjMnRyYTJwcWFtbXBxYUtpb3FBZ0lCemMzTndjSEJtWm1aZFhWMVRVMU5IUjBjK1BqN1cxdGJSMGRIR3hzYkF3TUNhbXBxU2twS1BqNCtHaG9aeWNuSnNiR3drSkNUeTkxd2lBQUFBTm5SU1RsTUFQUDcrL1pjTi9QbnI0ODdLdjdRbEV2NysvZno3MWprMkdBY0UvdjcrL2Z6enBhQ1VrR1paUVRFc0lBbjgyNnVFZzNKdFhGR3J5T3hJQUFBQmtFbEVRVlI0QWVYUzFYTGJRQmpGOFJYSURIYk5kaUJwT0NuRE9hNGtnMk93dzl3MktVUGYveFc2czhxMnNUWFQ2WDErdDk5L05Kb3pLKzZsUjhabVJQekRacHhjM3NnOXkyU2V6M2FObCttVXN4MjNUanB6eGJKdG1uYXFNUjA4Wk84bUd1Tm40SkE4QVU3NVlpWGw1SVNXNVNYd2dUd0FVR0lmY0F1TTN0aHBvUm5zQUpobkM4RGNZMGdXajNIQm1nNXFQQWR3MW5NQmZKOUFhaTRBUTFhRmxsekVOTmNEMmpTRXN1T2tFdnlJRUIxazQ0WHJFaWNJNmJDaWd0WG9JYnpGTjVEMlBNQWJBRzRMMGltM1ZWRDJBUXlPSUYzbGdlWTg4TU9DOUpYQkVFa2YycnNId0h0TFJ1cDc0OWp0aWt2VFFVOEhmbGtvci9oSkIwMFpkSFV3S0t3S0pSTFA3MEZSaCs3dWJYRE9MUkhZNEdVNHdFRTBJN1ExZm9QeVZoNG1RZUNheTFueHgxT2VxV0M4SzZNRjRNckNtSy9GWC9XMFBRS0NnZnI3Z0xkL1pEdmlya2lhWDNEWFJURTM4MXd6SEVGcDVVdkhRUGVKbU5GSW1sRDhXT0pYSDM1U3pGcFpHbmJhN2VGUHJsZUsxeU16RVFvY0J0YUVXSStSNGFDK1ZhMFlScldtL2ptN1V4Zi81emVFeFd2WmdobFRTZ0FBQUFCSlJVNUVya0pnZ2c9PScpOwp9">
    <script src="data:text/javascript;base64,LyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcAovKioqKioqLyAJLy8gVGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJdmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uCi8qKioqKiovIAlmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCi8qKioqKiovIAkJaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHsKLyoqKioqKi8gCQkJcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7Ci8qKioqKiovIAkJfQovKioqKioqLyAJCS8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpCi8qKioqKiovIAkJdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0gewovKioqKioqLyAJCQlpOiBtb2R1bGVJZCwKLyoqKioqKi8gCQkJbDogZmFsc2UsCi8qKioqKiovIAkJCWV4cG9ydHM6IHt9Ci8qKioqKiovIAkJfTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb24KLyoqKioqKi8gCQltb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCi8qKioqKiovIAkJbW9kdWxlLmwgPSB0cnVlOwovKioqKioqLwovKioqKioqLyAJCS8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlCi8qKioqKiovIAkJcmV0dXJuIG1vZHVsZS5leHBvcnRzOwovKioqKioqLyAJfQovKioqKioqLwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXykKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZQovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlczsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7Ci8qKioqKiovIAkJaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0cwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykgewovKioqKioqLyAJCWlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykgewovKioqKioqLyAJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTsKLyoqKioqKi8gCQl9Ci8qKioqKiovIAkJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdAovKioqKioqLyAJLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zCi8qKioqKiovIAkvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3QKLyoqKioqKi8gCS8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7Ci8qKioqKiovIAkJaWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTsKLyoqKioqKi8gCQlpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlOwovKioqKioqLyAJCXZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTsKLyoqKioqKi8gCQlPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7Ci8qKioqKiovIAkJaWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpOwovKioqKioqLyAJCXJldHVybiBuczsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlcwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7Ci8qKioqKiovIAkJdmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6Ci8qKioqKiovIAkJCWZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07Ci8qKioqKiovIAkJX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwovKioqKioqLyAJCXJldHVybiBnZXR0ZXI7Ci8qKioqKiovIAl9OwovKioqKioqLwovKioqKioqLyAJLy8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07Ci8qKioqKiovCi8qKioqKiovIAkvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfXwovKioqKioqLyAJX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gIiI7Ci8qKioqKiovCi8qKioqKiovCi8qKioqKiovIAkvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHMKLyoqKioqKi8gCXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9ICIuL3VpL2luZGV4LnRzIik7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovICh7CgovKioqLyAiLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vc3JjL21lYXh1cmUvaW50ZXJmYWNlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbi8vIENvcHlyaWdodCAyMDIwIEplYmJzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgdGhlIE1JVFxuLy8gbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlLlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zaGFkb3dUeXBlID0gZXhwb3J0cy5TTVR5cGUgPSB2b2lkIDA7XG52YXIgU01UeXBlO1xuKGZ1bmN0aW9uIChTTVR5cGUpIHtcbiAgICBTTVR5cGVbXCJ0ZXh0XCJdID0gXCJ0ZXh0XCI7XG4gICAgU01UeXBlW1wic3ltYm9sXCJdID0gXCJzeW1ib2xcIjtcbiAgICBTTVR5cGVbXCJzbGljZVwiXSA9IFwic2xpY2VcIjtcbiAgICBTTVR5cGVbXCJzaGFwZVwiXSA9IFwic2hhcGVcIjtcbiAgICBTTVR5cGVbXCJncm91cFwiXSA9IFwiZ3JvdXBcIjtcbiAgICBTTVR5cGVbXCJob3RzcG90XCJdID0gXCJob3RzcG90XCI7XG59KShTTVR5cGUgPSBleHBvcnRzLlNNVHlwZSB8fCAoZXhwb3J0cy5TTVR5cGUgPSB7fSkpO1xuO1xudmFyIHNoYWRvd1R5cGU7XG4oZnVuY3Rpb24gKHNoYWRvd1R5cGUpIHtcbiAgICBzaGFkb3dUeXBlW1wib3V0ZXJcIl0gPSBcIk91dGVyXCI7XG4gICAgc2hhZG93VHlwZVtcImlubmVyXCJdID0gXCJJbm5lclwiO1xufSkoc2hhZG93VHlwZSA9IGV4cG9ydHMuc2hhZG93VHlwZSB8fCAoZXhwb3J0cy5zaGFkb3dUeXBlID0ge30pKTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi9zcmMvbWVheHVyZS9pbnRlcmZhY2VzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9jb21tb24udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2NvbW1vbi50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pbml0ID0gZXhwb3J0cy5wcm9qZWN0ID0gZXhwb3J0cy5sb2NhbGl6ZSA9IGV4cG9ydHMudGltZXN0YW1wID0gZXhwb3J0cy5sYW5nID0gZXhwb3J0cy5JMThOID0gZXhwb3J0cy5zdGF0ZSA9IHZvaWQgMDtcbmV4cG9ydHMuc3RhdGUgPSB7XG4gICAgem9vbTogMSxcbiAgICB1bml0OiAncHgnLFxuICAgIHNjYWxlOiAxLFxuICAgIGFydGJvYXJkSW5kZXg6IHVuZGVmaW5lZCxcbiAgICBjb2xvckZvcm1hdDogJ2NvbG9yLWhleCcsXG4gICAgY3VycmVudDogdW5kZWZpbmVkLFxuICAgIGNvZGVUeXBlOiAnY3NzJyxcbn07XG5leHBvcnRzLkkxOE4gPSB7fTtcbmV4cG9ydHMubGFuZyA9IG5hdmlnYXRvci5sYW5ndWFnZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuZXhwb3J0cy50aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGxvY2FsaXplKHN0cikge1xuICAgIHJldHVybiAoZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ10gJiYgZXhwb3J0cy5JMThOW2V4cG9ydHMubGFuZ11bc3RyXSkgPyBleHBvcnRzLkkxOE5bZXhwb3J0cy5sYW5nXVtzdHJdIDogc3RyO1xufVxuZXhwb3J0cy5sb2NhbGl6ZSA9IGxvY2FsaXplO1xuZXhwb3J0cy5wcm9qZWN0ID0ge307XG5mdW5jdGlvbiBpbml0KGRhdGEpIHtcbiAgICBleHBvcnRzLnN0YXRlLnNjYWxlID0gMTtcbiAgICBleHBvcnRzLnN0YXRlLmNvbG9yRm9ybWF0ID0gZGF0YS5jb2xvckZvcm1hdDtcbiAgICBleHBvcnRzLnN0YXRlLnVuaXQgPSBkYXRhLnVuaXQ7XG4gICAgZXhwb3J0cy5JMThOID0gZGF0YS5sYW5ndWFnZXMgfHwge307XG4gICAgZXhwb3J0cy5wcm9qZWN0ID0gZGF0YTtcbn1cbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvY29tbW9uLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvYWxpZ25FbGVtZW50LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYWxpZ25FbGVtZW50ID0gZXhwb3J0cy5FZGdlID0gdm9pZCAwO1xudmFyIEVkZ2U7XG4oZnVuY3Rpb24gKEVkZ2UpIHtcbiAgICBFZGdlW0VkZ2VbXCJ2dG9wXCJdID0gMzJdID0gXCJ2dG9wXCI7XG4gICAgRWRnZVtFZGdlW1widmJvdHRvbVwiXSA9IDE2XSA9IFwidmJvdHRvbVwiO1xuICAgIEVkZ2VbRWRnZVtcInZtaWRkbGVcIl0gPSA4XSA9IFwidm1pZGRsZVwiO1xuICAgIEVkZ2VbRWRnZVtcImhsZWZ0XCJdID0gNF0gPSBcImhsZWZ0XCI7XG4gICAgRWRnZVtFZGdlW1wiaHJpZ2h0XCJdID0gMl0gPSBcImhyaWdodFwiO1xuICAgIEVkZ2VbRWRnZVtcImhjZW50ZXJcIl0gPSAxXSA9IFwiaGNlbnRlclwiO1xufSkoRWRnZSA9IGV4cG9ydHMuRWRnZSB8fCAoZXhwb3J0cy5FZGdlID0ge30pKTtcbmZ1bmN0aW9uIGFsaWduRWxlbWVudChvcHRpb25zKSB7XG4gICAgbGV0IGZyb21SZWN0ID0gb3B0aW9ucy5mcm9tUmVjdCB8fCBvcHRpb25zLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgZnJvbSA9IG9wdGlvbnMuZnJvbUVkZ2U7XG4gICAgbGV0IHRvID0gb3B0aW9ucy50b0VkZ2U7XG4gICAgbGV0IGZyb21IYXNWID0gISEoMGIxMTEwMDAgJiBmcm9tKTtcbiAgICBsZXQgdG9IYXNWID0gISEoMGIxMTEwMDAgJiB0byk7XG4gICAgbGV0IGZyb21IYXNIID0gISEoMGIwMDAxMTEgJiBmcm9tKTtcbiAgICBsZXQgdG9IYXNIID0gISEoMGIwMDAxMTEgJiB0byk7XG4gICAgbGV0IG9mZnNldFggPSAwO1xuICAgIGxldCBvZmZzZXRZID0gMDtcbiAgICBpZiAoZnJvbUhhc0ggJiYgdG9IYXNIKSB7XG4gICAgICAgIG9mZnNldFggPSBvcHRpb25zLnRvUmVjdC54IC0gZnJvbVJlY3QueDsgLy8gbGVmdC10by1sZWZ0IG9mZnNldFxuICAgICAgICBpZiAoZnJvbSAmIEVkZ2UuaGNlbnRlcilcbiAgICAgICAgICAgIG9mZnNldFggLT0gZnJvbVJlY3Qud2lkdGggLyAyO1xuICAgICAgICBpZiAoZnJvbSAmIEVkZ2UuaHJpZ2h0KVxuICAgICAgICAgICAgb2Zmc2V0WCAtPSBmcm9tUmVjdC53aWR0aDtcbiAgICAgICAgaWYgKHRvICYgRWRnZS5oY2VudGVyKVxuICAgICAgICAgICAgb2Zmc2V0WCArPSBvcHRpb25zLnRvUmVjdC53aWR0aCAvIDI7XG4gICAgICAgIGlmICh0byAmIEVkZ2UuaHJpZ2h0KVxuICAgICAgICAgICAgb2Zmc2V0WCArPSBvcHRpb25zLnRvUmVjdC53aWR0aDtcbiAgICB9XG4gICAgaWYgKGZyb21IYXNWICYmIHRvSGFzVikge1xuICAgICAgICBvZmZzZXRZID0gb3B0aW9ucy50b1JlY3QueSAtIGZyb21SZWN0Lnk7IC8vIHRvcC10by10b3Agb2Zmc2V0XG4gICAgICAgIGlmIChmcm9tICYgRWRnZS52bWlkZGxlKVxuICAgICAgICAgICAgb2Zmc2V0WSAtPSBmcm9tUmVjdC5oZWlnaHQgLyAyO1xuICAgICAgICBpZiAoZnJvbSAmIEVkZ2UudmJvdHRvbSlcbiAgICAgICAgICAgIG9mZnNldFkgLT0gZnJvbVJlY3QuaGVpZ2h0O1xuICAgICAgICBpZiAodG8gJiBFZGdlLnZtaWRkbGUpXG4gICAgICAgICAgICBvZmZzZXRZICs9IG9wdGlvbnMudG9SZWN0LmhlaWdodCAvIDI7XG4gICAgICAgIGlmICh0byAmIEVkZ2UudmJvdHRvbSlcbiAgICAgICAgICAgIG9mZnNldFkgKz0gb3B0aW9ucy50b1JlY3QuaGVpZ2h0O1xuICAgIH1cbiAgICBvcHRpb25zLnNjcm9sbGVyLnNjcm9sbFRvcCAtPSBvZmZzZXRZO1xuICAgIG9wdGlvbnMuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAtPSBvZmZzZXRYO1xufVxuZXhwb3J0cy5hbGlnbkVsZW1lbnQgPSBhbGlnbkVsZW1lbnQ7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2FydGJvYXJkcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9hcnRib2FyZHMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFydGJvYXJkc0V2ZW50cyA9IHZvaWQgMDtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuY29uc3QgbmF2aWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIGFydGJvYXJkc0V2ZW50cygpIHtcbiAgICBsZXQgYXJ0Ym9hcmRzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcnRib2FyZHMnKTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoYXJ0Ym9hcmRzTGlzdCwgJ2ZvY3VzaW4nLCAnLmFydGJvYXJkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxldCBpbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KHRoaXMpO1xuICAgICAgICBuYXZpZ2F0ZV8xLmdvdG9BcnRib2FyZChpbmRleCk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKGFydGJvYXJkc0xpc3QsICdjbGljaycsICcuYXJ0Ym9hcmQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gaGVscGVyXzEuZ2V0SW5kZXgodGhpcyk7XG4gICAgICAgIG5hdmlnYXRlXzEuZ290b0FydGJvYXJkKGluZGV4KTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoYXJ0Ym9hcmRzTGlzdCwgJ2NoYW5nZScsICdpbnB1dFtuYW1lPXBhZ2VdJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBwT2JqZWN0SUQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZS1saXN0IGlucHV0W25hbWU9cGFnZV06Y2hlY2tlZCcpLnZhbHVlO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZXMtc2VsZWN0IGgzJylcbiAgICAgICAgICAgIC5pbm5lckhUTUwgPSB0aGlzLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3Rvcignc3BhbicpLmlubmVySFRNTDtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFydGJvYXJkLWxpc3QgbGknKS5mb3JFYWNoKChsaSkgPT4ge1xuICAgICAgICAgICAgaWYgKHBPYmplY3RJRCA9PSAnYWxsJyB8fCBsaS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFnZS1pZCcpID09IHBPYmplY3RJRCkge1xuICAgICAgICAgICAgICAgIGxpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFnZXMtc2VsZWN0JykuYmx1cigpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuYXJ0Ym9hcmRzRXZlbnRzID0gYXJ0Ym9hcmRzRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9hcnRib2FyZHMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV2ZW50RGVsZWdhdGUgPSB2b2lkIDA7XG5mdW5jdGlvbiBldmVudERlbGVnYXRlKHBhcmVudCwgdHlwZSwgdGFyZ2V0LCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGlmICh0eXBlb2YgcGFyZW50ID09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocGFyZW50KS5mb3JFYWNoKGVsID0+IGVsLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgd3JhcHBlZExpc3RlbmVyKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGFyZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgd3JhcHBlZExpc3RlbmVyKTtcbiAgICBmdW5jdGlvbiB3cmFwcGVkTGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRhcmdldEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBwYXJlbnRFbGVtZW50ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgd2hpbGUgKHRhcmdldEVsZW1lbnQgIT09IHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXRFbGVtZW50Lm1hdGNoZXModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGFyZ2V0RWxlbWVudCwgLi4uYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5ldmVudERlbGVnYXRlID0gZXZlbnREZWxlZ2F0ZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvZGVsZWdhdGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9kaXN0YW5jZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmhpZGVEaXN0YW5jZSA9IGV4cG9ydHMuZGlzdGFuY2UgPSB2b2lkIDA7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmZ1bmN0aW9uIGRpc3RhbmNlKCkge1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PSBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCAmJiAhY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QpXG4gICAgICAgIHJldHVybjtcbiAgICB2YXIgc2VsZWN0ZWRSZWN0ID0gZ2V0UmVjdChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4KSwgdGFyZ2V0UmVjdCA9IGNvbW1vbl8xLnN0YXRlLnRlbXBUYXJnZXRSZWN0IHx8IGdldFJlY3QoY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXgpLCB0b3BEYXRhLCByaWdodERhdGEsIGJvdHRvbURhdGEsIGxlZnREYXRhLCB4ID0gaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRSZWN0LnggKyBzZWxlY3RlZFJlY3Qud2lkdGggLyAyKSwgeSA9IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC55ICsgc2VsZWN0ZWRSZWN0LmhlaWdodCAvIDIpO1xuICAgIGxldCBzZWxlY3RlZFgyID0gc2VsZWN0ZWRSZWN0LnggKyBzZWxlY3RlZFJlY3Qud2lkdGg7XG4gICAgbGV0IHNlbGVjdGVkWTIgPSBzZWxlY3RlZFJlY3QueSArIHNlbGVjdGVkUmVjdC5oZWlnaHQ7XG4gICAgbGV0IHRhcmdldFgyID0gdGFyZ2V0UmVjdC54ICsgdGFyZ2V0UmVjdC53aWR0aDtcbiAgICBsZXQgdGFyZ2V0WTIgPSB0YXJnZXRSZWN0LnkgKyB0YXJnZXRSZWN0LmhlaWdodDtcbiAgICBpZiAoIWhlbHBlcl8yLmdldEludGVyc2VjdGlvbihzZWxlY3RlZFJlY3QsIHRhcmdldFJlY3QpKSB7XG4gICAgICAgIGlmIChzZWxlY3RlZFJlY3QueSA+IHRhcmdldFkyKSB7IC8vdG9wXG4gICAgICAgICAgICB0b3BEYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0WTIpLFxuICAgICAgICAgICAgICAgIGg6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC55IC0gdGFyZ2V0WTIpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShzZWxlY3RlZFJlY3QueSAtIHRhcmdldFkyKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKChzZWxlY3RlZFJlY3QueSAtIHRhcmdldFkyKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZFgyIDwgdGFyZ2V0UmVjdC54KSB7IC8vcmlnaHRcbiAgICAgICAgICAgIHJpZ2h0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFgyKSxcbiAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgIHc6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFJlY3QueCAtIHNlbGVjdGVkWDIpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZSh0YXJnZXRSZWN0LnggLSBzZWxlY3RlZFgyKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKCh0YXJnZXRSZWN0LnggLSBzZWxlY3RlZFgyKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGVkWTIgPCB0YXJnZXRSZWN0LnkpIHsgLy9ib3R0b21cbiAgICAgICAgICAgIGJvdHRvbURhdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFkyKSxcbiAgICAgICAgICAgICAgICBoOiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRSZWN0LnkgLSBzZWxlY3RlZFkyKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUodGFyZ2V0UmVjdC55IC0gc2VsZWN0ZWRZMiksXG4gICAgICAgICAgICAgICAgcGVyY2VudGFnZURpc3RhbmNlOiBoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZSgodGFyZ2V0UmVjdC55IC0gc2VsZWN0ZWRZMiksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRSZWN0LnggPiB0YXJnZXRYMikgeyAvL2xlZnRcbiAgICAgICAgICAgIGxlZnREYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFgyKSxcbiAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgIHc6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC54IC0gdGFyZ2V0WDIpLFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOiBoZWxwZXJfMS51bml0U2l6ZShzZWxlY3RlZFJlY3QueCAtIHRhcmdldFgyKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKChzZWxlY3RlZFJlY3QueCAtIHRhcmdldFgyKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBkaXN0YW5jZSA9IGdldERpc3RhbmNlKHNlbGVjdGVkUmVjdCwgdGFyZ2V0UmVjdCk7XG4gICAgICAgIGlmIChkaXN0YW5jZS50b3AgIT0gMCkgeyAvL3RvcFxuICAgICAgICAgICAgdG9wRGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IChkaXN0YW5jZS50b3AgPiAwKSA/IGhlbHBlcl8xLnpvb21TaXplKHRhcmdldFJlY3QueSkgOiBoZWxwZXJfMS56b29tU2l6ZShzZWxlY3RlZFJlY3QueSksXG4gICAgICAgICAgICAgICAgaDogaGVscGVyXzEuem9vbVNpemUoTWF0aC5hYnMoZGlzdGFuY2UudG9wKSksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKE1hdGguYWJzKGRpc3RhbmNlLnRvcCkpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoTWF0aC5hYnMoZGlzdGFuY2UudG9wKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0YW5jZS5yaWdodCAhPSAwKSB7IC8vcmlnaHRcbiAgICAgICAgICAgIHJpZ2h0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiAoZGlzdGFuY2UucmlnaHQgPiAwKSA/IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkWDIpIDogaGVscGVyXzEuem9vbVNpemUodGFyZ2V0WDIpLFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgdzogaGVscGVyXzEuem9vbVNpemUoTWF0aC5hYnMoZGlzdGFuY2UucmlnaHQpKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoTWF0aC5hYnMoZGlzdGFuY2UucmlnaHQpKSxcbiAgICAgICAgICAgICAgICBwZXJjZW50YWdlRGlzdGFuY2U6IGhlbHBlcl8xLnBlcmNlbnRhZ2VTaXplKE1hdGguYWJzKGRpc3RhbmNlLnJpZ2h0KSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpc3RhbmNlLmJvdHRvbSAhPSAwKSB7IC8vYm90dG9tXG4gICAgICAgICAgICBib3R0b21EYXRhID0ge1xuICAgICAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICAgICAgeTogKGRpc3RhbmNlLmJvdHRvbSA+IDApID8gaGVscGVyXzEuem9vbVNpemUoc2VsZWN0ZWRZMikgOiBoZWxwZXJfMS56b29tU2l6ZSh0YXJnZXRZMiksXG4gICAgICAgICAgICAgICAgaDogaGVscGVyXzEuem9vbVNpemUoTWF0aC5hYnMoZGlzdGFuY2UuYm90dG9tKSksXG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IGhlbHBlcl8xLnVuaXRTaXplKE1hdGguYWJzKGRpc3RhbmNlLmJvdHRvbSkpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoTWF0aC5hYnMoZGlzdGFuY2UuYm90dG9tKSwgY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXN0YW5jZS5sZWZ0ICE9IDApIHsgLy9sZWZ0XG4gICAgICAgICAgICBsZWZ0RGF0YSA9IHtcbiAgICAgICAgICAgICAgICB4OiAoZGlzdGFuY2UubGVmdCA+IDApID8gaGVscGVyXzEuem9vbVNpemUodGFyZ2V0UmVjdC54KSA6IGhlbHBlcl8xLnpvb21TaXplKHNlbGVjdGVkUmVjdC54KSxcbiAgICAgICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgICAgIHc6IGhlbHBlcl8xLnpvb21TaXplKE1hdGguYWJzKGRpc3RhbmNlLmxlZnQpKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTogaGVscGVyXzEudW5pdFNpemUoTWF0aC5hYnMoZGlzdGFuY2UubGVmdCkpLFxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2VEaXN0YW5jZTogaGVscGVyXzEucGVyY2VudGFnZVNpemUoTWF0aC5hYnMoZGlzdGFuY2UubGVmdCksIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0b3BEYXRhKSB7XG4gICAgICAgIGxldCB0ZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZCcpO1xuICAgICAgICB0ZC5zdHlsZS5sZWZ0ID0gdG9wRGF0YS54ICsgJ3B4JztcbiAgICAgICAgdGQuc3R5bGUudG9wID0gdG9wRGF0YS55ICsgJ3B4JztcbiAgICAgICAgdGQuc3R5bGUuaGVpZ2h0ID0gdG9wRGF0YS5oICsgJ3B4JztcbiAgICAgICAgdGQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBsZXQgdGREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGQgZGl2Jyk7XG4gICAgICAgIHRkRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnLCB0b3BEYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgdGREaXYuc2V0QXR0cmlidXRlKCdwZXJjZW50YWdlLWhlaWdodCcsIHRvcERhdGEucGVyY2VudGFnZURpc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKHJpZ2h0RGF0YSkge1xuICAgICAgICBsZXQgcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmQnKTtcbiAgICAgICAgcmQuc3R5bGUubGVmdCA9IHJpZ2h0RGF0YS54ICsgJ3B4JztcbiAgICAgICAgcmQuc3R5bGUudG9wID0gcmlnaHREYXRhLnkgKyAncHgnO1xuICAgICAgICByZC5zdHlsZS53aWR0aCA9IHJpZ2h0RGF0YS53ICsgJ3B4JztcbiAgICAgICAgcmQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBsZXQgcmREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmQgZGl2Jyk7XG4gICAgICAgIHJkRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcsIHJpZ2h0RGF0YS5kaXN0YW5jZSk7XG4gICAgICAgIHJkRGl2LnNldEF0dHJpYnV0ZSgncGVyY2VudGFnZS13aWR0aCcsIHJpZ2h0RGF0YS5wZXJjZW50YWdlRGlzdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoYm90dG9tRGF0YSkge1xuICAgICAgICBsZXQgYmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmQnKTtcbiAgICAgICAgYmQuc3R5bGUubGVmdCA9IGJvdHRvbURhdGEueCArICdweCc7XG4gICAgICAgIGJkLnN0eWxlLnRvcCA9IGJvdHRvbURhdGEueSArICdweCc7XG4gICAgICAgIGJkLnN0eWxlLmhlaWdodCA9IGJvdHRvbURhdGEuaCArICdweCc7XG4gICAgICAgIGJkLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgbGV0IGJkRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JkIGRpdicpO1xuICAgICAgICBiZERpdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGVpZ2h0JywgYm90dG9tRGF0YS5kaXN0YW5jZSk7XG4gICAgICAgIGJkRGl2LnNldEF0dHJpYnV0ZSgncGVyY2VudGFnZS1oZWlnaHQnLCBib3R0b21EYXRhLnBlcmNlbnRhZ2VEaXN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChsZWZ0RGF0YSkge1xuICAgICAgICBsZXQgbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGQnKTtcbiAgICAgICAgbGQuc3R5bGUubGVmdCA9IGxlZnREYXRhLnggKyAncHgnO1xuICAgICAgICBsZC5zdHlsZS50b3AgPSBsZWZ0RGF0YS55ICsgJ3B4JztcbiAgICAgICAgbGQuc3R5bGUud2lkdGggPSBsZWZ0RGF0YS53ICsgJ3B4JztcbiAgICAgICAgbGQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICBsZXQgbGREaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGQgZGl2Jyk7XG4gICAgICAgIGxkRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcsIGxlZnREYXRhLmRpc3RhbmNlKTtcbiAgICAgICAgbGREaXYuc2V0QXR0cmlidXRlKCdwZXJjZW50YWdlLXdpZHRoJywgbGVmdERhdGEucGVyY2VudGFnZURpc3RhbmNlKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJylcbiAgICAgICAgLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xufVxuZXhwb3J0cy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuZnVuY3Rpb24gaGlkZURpc3RhbmNlKCkge1xuICAgIHZhciBfYTtcbiAgICBbJyN0ZCcsICcjcmQnLCAnI2JkJywgJyNsZCddLmZvckVhY2gocyA9PiB7XG4gICAgICAgIGxldCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iocyk7XG4gICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfSk7XG4gICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbn1cbmV4cG9ydHMuaGlkZURpc3RhbmNlID0gaGlkZURpc3RhbmNlO1xuZnVuY3Rpb24gZ2V0UmVjdChpbmRleCkge1xuICAgIHZhciBsYXllciA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzW2luZGV4XTtcbiAgICByZXR1cm4gbGF5ZXIucmVjdDtcbn1cbmZ1bmN0aW9uIGdldERpc3RhbmNlKHNlbGVjdGVkLCB0YXJnZXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IChzZWxlY3RlZC55IC0gdGFyZ2V0LnkpLFxuICAgICAgICByaWdodDogKHRhcmdldC54ICsgdGFyZ2V0LndpZHRoIC0gc2VsZWN0ZWQueCAtIHNlbGVjdGVkLndpZHRoKSxcbiAgICAgICAgYm90dG9tOiAodGFyZ2V0LnkgKyB0YXJnZXQuaGVpZ2h0IC0gc2VsZWN0ZWQueSAtIHNlbGVjdGVkLmhlaWdodCksXG4gICAgICAgIGxlZnQ6IChzZWxlY3RlZC54IC0gdGFyZ2V0LngpXG4gICAgfTtcbn1cblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvZGlzdGFuY2UudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2RyYWdFeHBvcnRhYmxlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRyYWdFeHBvcnRhYmxlRXZlbnRzID0gdm9pZCAwO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIGRyYWdFeHBvcnRhYmxlRXZlbnRzKCkge1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCAnZHJhZ3N0YXJ0JywgJy5leHBvcnRhYmxlIGltZycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGlzLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICB0aGlzLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgbGVmdCA9IGV2ZW50LnBhZ2VYIC0gcmVjdC5sZWZ0IC0gdGhpcy5vZmZzZXRXaWR0aCAvIDI7XG4gICAgICAgIGxldCB0b3AgPSBldmVudC5wYWdlWSAtIHJlY3QudG9wIC0gdGhpcy5vZmZzZXRIZWlnaHQgLyAyO1xuICAgICAgICB0aGlzLnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5zdHlsZS50b3AgPSB0b3AgKyAncHgnO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZShkb2N1bWVudC5ib2R5LCAnZHJhZ2VuZCcsICcuZXhwb3J0YWJsZSBpbWcnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zdHlsZS5sZWZ0ID0gJzAnO1xuICAgICAgICB0aGlzLnN0eWxlLnRvcCA9ICcwJztcbiAgICAgICAgdGhpcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgfSk7XG59XG5leHBvcnRzLmRyYWdFeHBvcnRhYmxlRXZlbnRzID0gZHJhZ0V4cG9ydGFibGVFdmVudHM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2RyYWdFeHBvcnRhYmxlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvZmxvdy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvZmxvdy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldEZsb3dNb2RlID0gZXhwb3J0cy5mbG93RXZlbnRzID0gZXhwb3J0cy5mbG93TW9kZSA9IHZvaWQgMDtcbmNvbnN0IG5hdmlnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25hdmlnYXRlICovIFwiLi91aS9ldmVudHMvbmF2aWdhdGUudHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2NyZWVuXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvc2NyZWVuICovIFwiLi91aS9yZW5kZXIvc2NyZWVuLnRzXCIpO1xuY29uc3QgdGFiXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RhYiAqLyBcIi4vdWkvZXZlbnRzL3RhYi50c1wiKTtcbmNvbnN0IGFsaWduRWxlbWVudF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hbGlnbkVsZW1lbnQgKi8gXCIuL3VpL2V2ZW50cy9hbGlnbkVsZW1lbnQudHNcIik7XG5leHBvcnRzLmZsb3dNb2RlID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gZmxvd0V2ZW50cygpIHtcbiAgICBmbG93TW9kZVN3aXRjaEV2ZW50cygpO1xuICAgIGZsb3dDbGlja0V2ZW50cygpO1xufVxuZXhwb3J0cy5mbG93RXZlbnRzID0gZmxvd0V2ZW50cztcbmZ1bmN0aW9uIGZsb3dDbGlja0V2ZW50cygpIHtcbiAgICBsZXQgZmxvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvd3MnKTtcbiAgICBmbG93cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBoZWxwZXJfMS5yZW1vdmVTZWxlY3RlZCgpO1xuICAgICAgICB0YWJfMS5oaWRlTmF2QmFyKCk7XG4gICAgICAgIGxldCB0YXJnZXQgPSBoZWxwZXJfMS5nZXRFdmVudFRhcmdldChmbG93cywgZXZlbnQsICcuZmxvdycpO1xuICAgICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICAgICAgZmxvd3MuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1mbG93cycpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgZmxvd3MuY2xhc3NMaXN0LmFkZCgnc2hvdy1mbG93cycpO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaWQgPSB0YXJnZXQuZGF0YXNldC5mbG93VGFyZ2V0O1xuICAgICAgICBpZiAoaWQgPT0gJ2JhY2snKSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZV8xLmhpc3RvcnlCYWNrVW50aWxBbm90aGVyQXJ0Ym9hcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hdmlnYXRlXzEuZ290b0FydGJvYXJkKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZsb3dNb2RlU3dpdGNoRXZlbnRzKCkge1xuICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93LW1vZGUnKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgIHNldEZsb3dNb2RlKCh0aGlzIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpO1xuICAgIC8vICAgICB1cGRhdGVVUkxIYXNoKCk7XG4gICAgLy8gfSlcbn1cbmZ1bmN0aW9uIHNldEZsb3dNb2RlKGVuYWJsZWQpIHtcbiAgICBleHBvcnRzLmZsb3dNb2RlID0gZW5hYmxlZDtcbiAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICBsZXQgc2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NjcmVlbicpO1xuICAgIGxldCBjdXJyZW50UmVjdCA9IHNjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvL2xldCBpbnB1dEZsb3dNb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3ctbW9kZScpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgLy8gc2V0IGNoZWNrZWQgd29uJ3QgdHJpZ2dlIGNoYW5nZSBldmVudFxuICAgIC8vaW5wdXRGbG93TW9kZS5jaGVja2VkID0gZW5hYmxlZDtcbiAgICBsZXQgaGlkZU9uRkxvdyA9IFtcbiAgICAgICAgJyNsYXllcnMnLFxuICAgICAgICAnI3VuaXQnLFxuICAgICAgICAnLmhlYWRlci1sZWZ0IFtkYXRhLWlkPVwic2xpY2VzXCJdJyxcbiAgICAgICAgJy5oZWFkZXItbGVmdCBbZGF0YS1pZD1cImNvbG9yc1wiXScsXG4gICAgICAgICcuaGVhZGVyLXJpZ2h0JyxcbiAgICAgICAgJyNhcnRib2FyZHMgLmZsb3ctc3RhcnRzJyxcbiAgICBdO1xuICAgIGxldCBzaG93T25GbG93ID0gW1xuICAgICAgICAnI2Zsb3dzJyxcbiAgICAgICAgJyNhcnRib2FyZHMgLmZsb3ctc3RhcnRzJyxcbiAgICBdO1xuICAgIGNvbnN0IGhpZGVPbkZMb3dEaXNwbGF5ID0gZXhwb3J0cy5mbG93TW9kZSA/ICdub25lJyA6ICcnO1xuICAgIGNvbnN0IHNob3dPbkZMb3dEaXNwbGF5ID0gZXhwb3J0cy5mbG93TW9kZSA/ICcnIDogJ25vbmUnO1xuICAgIGhpZGVPbkZMb3cuZm9yRWFjaChzID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgaWYgKGVsKVxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IGhpZGVPbkZMb3dEaXNwbGF5O1xuICAgIH0pO1xuICAgIHNob3dPbkZsb3cuZm9yRWFjaChzID0+IHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzKTtcbiAgICAgICAgaWYgKGVsKVxuICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHNob3dPbkZMb3dEaXNwbGF5O1xuICAgIH0pO1xuICAgIGlmIChleHBvcnRzLmZsb3dNb2RlKSB7XG4gICAgICAgIHNjcmVlbi5jbGFzc0xpc3QuYWRkKCdmbG93Jyk7XG4gICAgICAgIGhlbHBlcl8xLnJlbW92ZVNlbGVjdGVkKCk7XG4gICAgICAgIHRhYl8xLmhpZGVOYXZCYXIoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjcmVlbi5jbGFzc0xpc3QucmVtb3ZlKCdmbG93Jyk7XG4gICAgICAgIHRhYl8xLnNob3dOYXZCYXIoKTtcbiAgICB9XG4gICAgc2NyZWVuXzEudXBkYXRlU2NyZWVuKCk7XG4gICAgYWxpZ25FbGVtZW50XzEuYWxpZ25FbGVtZW50KHtcbiAgICAgICAgc2Nyb2xsZXI6IHZpZXdlcixcbiAgICAgICAgdGFyZ2V0OiBzY3JlZW4sXG4gICAgICAgIHRvUmVjdDogY3VycmVudFJlY3QsXG4gICAgICAgIGZyb21FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhjZW50ZXIgfCBhbGlnbkVsZW1lbnRfMS5FZGdlLnZ0b3AsXG4gICAgICAgIHRvRWRnZTogYWxpZ25FbGVtZW50XzEuRWRnZS5oY2VudGVyIHwgYWxpZ25FbGVtZW50XzEuRWRnZS52dG9wXG4gICAgfSk7XG59XG5leHBvcnRzLnNldEZsb3dNb2RlID0gc2V0Rmxvd01vZGU7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvZXZlbnRzL2Zsb3cudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0U2hvdWxkQmFja1RvQW5vdGhlciA9IGV4cG9ydHMuaGFzaENoYW5nZUV2ZW50cyA9IHZvaWQgMDtcbmNvbnN0IG5hdmlnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25hdmlnYXRlICovIFwiLi91aS9ldmVudHMvbmF2aWdhdGUudHNcIik7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xubGV0IHNob3VsZEJhY2tUb0Fub3RoZXIgPSBmYWxzZTtcbmZ1bmN0aW9uIGhhc2hDaGFuZ2VFdmVudHMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgaWYgKHNob3VsZEJhY2tUb0Fub3RoZXIpIHtcbiAgICAgICAgICAgIGxldCBjdXJyZW50SW5kZXggPSBuYXZpZ2F0ZV8xLnBhcnNlVVJMSGFzaCgpLmFydGJvYXJkSW5kZXg7XG4gICAgICAgICAgICBpZiAoY3VycmVudEluZGV4ID09IGNvbW1vbl8xLnN0YXRlLmFydGJvYXJkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG91bGRCYWNrVG9Bbm90aGVyID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmF2aWdhdGVfMS5uYXZpZ2F0ZUJ5VVJMSGFzaCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5oYXNoQ2hhbmdlRXZlbnRzID0gaGFzaENoYW5nZUV2ZW50cztcbmZ1bmN0aW9uIHNldFNob3VsZEJhY2tUb0Fub3RoZXIodmFsdWUpIHtcbiAgICBzaG91bGRCYWNrVG9Bbm90aGVyID0gdmFsdWU7XG59XG5leHBvcnRzLnNldFNob3VsZEJhY2tUb0Fub3RoZXIgPSBzZXRTaG91bGRCYWNrVG9Bbm90aGVyO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9oYXNoQ2hhbmdlLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvaGVscGVyLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2hlbHBlci50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY2xpY2tFbGVtZW50ID0gZXhwb3J0cy5nZXRJbnRlcnNlY3Rpb24gPSBleHBvcnRzLnNjYWxlU2l6ZSA9IGV4cG9ydHMucmVtb3ZlU2VsZWN0ZWQgPSBleHBvcnRzLnNlbGVjdGVkTGF5ZXIgPSBleHBvcnRzLm1vdXNlb3V0TGF5ZXIgPSBleHBvcnRzLmdldEluZGV4ID0gZXhwb3J0cy5nZXRFdmVudFRhcmdldCA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQoZXZlbnROb2RlLCBldmVudCwgc2VsZWN0b3IpIHtcbiAgICBsZXQgY3VycmVudCA9IGV2ZW50LnRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBldmVudE5vZGUpIHtcbiAgICAgICAgaWYgKGN1cnJlbnQubWF0Y2hlcyhzZWxlY3RvcikpXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuZ2V0RXZlbnRUYXJnZXQgPSBnZXRFdmVudFRhcmdldDtcbmZ1bmN0aW9uIGdldEluZGV4KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmluZGV4KTtcbn1cbmV4cG9ydHMuZ2V0SW5kZXggPSBnZXRJbmRleDtcbmZ1bmN0aW9uIG1vdXNlb3V0TGF5ZXIoKSB7XG4gICAgdmFyIF9hO1xuICAgIChfYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ob3ZlcicpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXInKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcnVsZXJzJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbn1cbmV4cG9ydHMubW91c2VvdXRMYXllciA9IG1vdXNlb3V0TGF5ZXI7XG5mdW5jdGlvbiBzZWxlY3RlZExheWVyKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAoX2EgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQnKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVyLScgKyBjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4KS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufVxuZXhwb3J0cy5zZWxlY3RlZExheWVyID0gc2VsZWN0ZWRMYXllcjtcbmZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkKCkge1xuICAgIGlmIChjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGF5ZXItJyArIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXgpLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3BlY3RvcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSB1bmRlZmluZWQ7XG4gICAgZGlzdGFuY2VfMS5oaWRlRGlzdGFuY2UoKTtcbn1cbmV4cG9ydHMucmVtb3ZlU2VsZWN0ZWQgPSByZW1vdmVTZWxlY3RlZDtcbmZ1bmN0aW9uIHNjYWxlU2l6ZShsZW5ndGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChsZW5ndGggLyBjb21tb25fMS5zdGF0ZS5zY2FsZSAqIDEwKSAvIDEwO1xufVxuZXhwb3J0cy5zY2FsZVNpemUgPSBzY2FsZVNpemU7XG5mdW5jdGlvbiBnZXRJbnRlcnNlY3Rpb24oYSwgYikge1xuICAgIGxldCB4MSA9IE1hdGgubWF4KGEueCwgYi54KTtcbiAgICBsZXQgeTEgPSBNYXRoLm1heChhLnksIGIueSk7XG4gICAgbGV0IHgyID0gTWF0aC5taW4oYS54ICsgYS53aWR0aCwgYi54ICsgYi53aWR0aCk7XG4gICAgbGV0IHkyID0gTWF0aC5taW4oYS55ICsgYS5oZWlnaHQsIGIueSArIGIuaGVpZ2h0KTtcbiAgICBsZXQgd2lkdGggPSB4MiAtIHgxO1xuICAgIGxldCBoZWlnaHQgPSB5MiAtIHkxO1xuICAgIGlmICh3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKSB7XG4gICAgICAgIC8vIG5vIGludGVyc2VjdGlvblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4MSxcbiAgICAgICAgeTogeTEsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2V0SW50ZXJzZWN0aW9uID0gZ2V0SW50ZXJzZWN0aW9uO1xuZnVuY3Rpb24gY2xpY2tFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBsZXQgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XG4gICAgZS5pbml0RXZlbnQoXCJjbGlja1wiLCB0cnVlLCB0cnVlKTtcbiAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZSk7XG59XG5leHBvcnRzLmNsaWNrRWxlbWVudCA9IGNsaWNrRWxlbWVudDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvaGVscGVyLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvaW5kZXgudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ldmVudHMgPSB2b2lkIDA7XG5jb25zdCBhcnRib2FyZHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYXJ0Ym9hcmRzICovIFwiLi91aS9ldmVudHMvYXJ0Ym9hcmRzLnRzXCIpO1xuY29uc3QgZHJhZ0V4cG9ydGFibGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZHJhZ0V4cG9ydGFibGUgKi8gXCIuL3VpL2V2ZW50cy9kcmFnRXhwb3J0YWJsZS50c1wiKTtcbmNvbnN0IGxheWVyRXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xheWVyRXZlbnRzICovIFwiLi91aS9ldmVudHMvbGF5ZXJFdmVudHMudHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3pvb20gKi8gXCIuL3VpL2V2ZW50cy96b29tLnRzXCIpO1xuY29uc3QgdW5pdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91bml0ICovIFwiLi91aS9ldmVudHMvdW5pdC50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL25vdGVzICovIFwiLi91aS9ldmVudHMvbm90ZXMudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaW5zcGVjdG9yICovIFwiLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzXCIpO1xuY29uc3QgdGFiXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3RhYiAqLyBcIi4vdWkvZXZlbnRzL3RhYi50c1wiKTtcbmNvbnN0IHNsaWNlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zbGljZXMgKi8gXCIuL3VpL2V2ZW50cy9zbGljZXMudHNcIik7XG5jb25zdCBwYW5Nb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bhbk1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzXCIpO1xuY29uc3QgcGVyY2VudGFnZU1vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcGVyY2VudGFnZU1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50c1wiKTtcbmNvbnN0IHpvb21fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4va2V5Ym9hcmQvem9vbSAqLyBcIi4vdWkvZXZlbnRzL2tleWJvYXJkL3pvb20udHNcIik7XG5jb25zdCBmbG93XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuY29uc3QgaGFzaENoYW5nZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oYXNoQ2hhbmdlICovIFwiLi91aS9ldmVudHMvaGFzaENoYW5nZS50c1wiKTtcbmNvbnN0IHN3aXRjaF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9rZXlib2FyZC9zd2l0Y2ggKi8gXCIuL3VpL2V2ZW50cy9rZXlib2FyZC9zd2l0Y2gudHNcIik7XG5mdW5jdGlvbiBldmVudHMoKSB7XG4gICAgbGF5ZXJFdmVudHNfMS5sYXllckV2ZW50cygpO1xuICAgIGFydGJvYXJkc18xLmFydGJvYXJkc0V2ZW50cygpO1xuICAgIHpvb21fMS56b29tRXZlbnRzKCk7XG4gICAgdW5pdF8xLnVuaXRFdmVudHMoKTtcbiAgICBub3Rlc18xLm5vdGVFdmVudHMoKTtcbiAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3JFdmVudHMoKTtcbiAgICB0YWJfMS50YWJFdmVudHMoKTtcbiAgICBzbGljZXNfMS5zbGljZUV2ZW50cygpO1xuICAgIHBhbk1vZGVfMS5wYW5Nb2RlRXZlbnRzKCk7XG4gICAgcGVyY2VudGFnZU1vZGVfMS5wZXJjZW50YWdlTW9kZUV2ZW50cygpO1xuICAgIHpvb21fMi5rZXlib2FyZFpvb21FdmVudHMoKTtcbiAgICBkcmFnRXhwb3J0YWJsZV8xLmRyYWdFeHBvcnRhYmxlRXZlbnRzKCk7XG4gICAgZmxvd18xLmZsb3dFdmVudHMoKTtcbiAgICBzd2l0Y2hfMS5rZXlib2FyZFN3aXRjaEV2ZW50cygpO1xuICAgIGhhc2hDaGFuZ2VfMS5oYXNoQ2hhbmdlRXZlbnRzKCk7XG59XG5leHBvcnRzLmV2ZW50cyA9IGV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy9pbnNwZWN0b3IudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pbnNwZWN0b3JFdmVudHMgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29sb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvY29sb3JzICovIFwiLi91aS9yZW5kZXIvY29sb3JzLnRzXCIpO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIGluc3BlY3RvckV2ZW50cygpIHtcbiAgICBsZXQgZm9ybWF0cyA9IFsnY29sb3ItaGV4JywgJ2FyZ2ItaGV4JywgJ2Nzcy1yZ2JhJywgJ2Nzcy1oc2xhJywgJ3VpLWNvbG9yJ107XG4gICAgbGV0IGluc3BlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnNwZWN0b3InKTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoaW5zcGVjdG9yLCAnY2xpY2snLCAnLmNvbG9yIGxhYmVsJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZm9ybWF0cy5pbmRleE9mKGNvbW1vbl8xLnN0YXRlLmNvbG9yRm9ybWF0KTtcbiAgICAgICAgbGV0IG5leHQgPSAoY3VycmVudCArIDEpICUgZm9ybWF0cy5sZW5ndGg7XG4gICAgICAgIGNvbW1vbl8xLnN0YXRlLmNvbG9yRm9ybWF0ID0gZm9ybWF0c1tuZXh0XTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbG9yIGlucHV0JykuZm9yRWFjaCgoaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGNvbG9ycyA9IEpTT04ucGFyc2UoZGVjb2RlVVJJKGkuZGF0YXNldC5jb2xvcikpO1xuICAgICAgICAgICAgaS52YWx1ZSA9IGNvbG9yc1tjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdF07XG4gICAgICAgIH0pO1xuICAgICAgICBjb2xvcnNfMS5jb2xvcnMoKTtcbiAgICB9KTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoaW5zcGVjdG9yLCAnZGJsY2xpY2snLCAnaW5wdXQsIHRleHRhcmVhJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0KCk7XG4gICAgfSk7XG59XG5leHBvcnRzLmluc3BlY3RvckV2ZW50cyA9IGluc3BlY3RvckV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvaW5zcGVjdG9yLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMva2V5Ym9hcmQvc3dpdGNoLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL2tleWJvYXJkL3N3aXRjaC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMua2V5Ym9hcmRTd2l0Y2hFdmVudHMgPSB2b2lkIDA7XG5mdW5jdGlvbiBrZXlib2FyZFN3aXRjaEV2ZW50cygpIHtcbiAgICAvKiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgIHN3aXRjaCAoU3RyaW5nLmZyb21DaGFyQ29kZShldmVudC53aGljaCkpIHtcbiAgICAgICAgICAgICBjYXNlICdNJzpcbiAgICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zsb3ctbW9kZScpXG4gICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICAgY2xpY2tFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctbm90ZXMnKVxuICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICB9XG4gICAgIH0pO1xuICAgICAgICAgKi9cbn1cbmV4cG9ydHMua2V5Ym9hcmRTd2l0Y2hFdmVudHMgPSBrZXlib2FyZFN3aXRjaEV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMva2V5Ym9hcmQvc3dpdGNoLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmtleWJvYXJkWm9vbUV2ZW50cyA9IHZvaWQgMDtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IHpvb21fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3pvb20gKi8gXCIuL3VpL2V2ZW50cy96b29tLnRzXCIpO1xuZnVuY3Rpb24ga2V5Ym9hcmRab29tRXZlbnRzKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgICAgICAvLyBjb250cm9sIG9yIGNvbW1hbmQga2V5XG4gICAgICAgIGlmICghZXZlbnQuY3RybEtleSAmJiAhZXZlbnQubWV0YUtleSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgc3dpdGNoIChldmVudC53aGljaCkge1xuICAgICAgICAgICAgY2FzZSAxODc6XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vbl8xLnN0YXRlLnpvb20gPCA0KVxuICAgICAgICAgICAgICAgICAgICBoZWxwZXJfMS5jbGlja0VsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnpvb20tb3V0JykpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgY2FzZSAxODk6XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vbl8xLnN0YXRlLnpvb20gPiAuMjUpXG4gICAgICAgICAgICAgICAgICAgIGhlbHBlcl8xLmNsaWNrRWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuem9vbS1pbicpKTtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgNDg6XG4gICAgICAgICAgICAgICAgem9vbV8xLnpvb21SZW5kZXIoMSk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmtleWJvYXJkWm9vbUV2ZW50cyA9IGtleWJvYXJkWm9vbUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMva2V5Ym9hcmQvem9vbS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL2xheWVyRXZlbnRzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvbGF5ZXJFdmVudHMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubGF5ZXJFdmVudHMgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGluc3BlY3Rvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2luc3BlY3RvciAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9pbmRleC50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBwYW5Nb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Bhbk1vZGUgKi8gXCIuL3VpL2V2ZW50cy9wYW5Nb2RlLnRzXCIpO1xuZnVuY3Rpb24gbGF5ZXJFdmVudHMoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAocGFuTW9kZV8xLnBhbk1vZGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChoZWxwZXJfMS5nZXRFdmVudFRhcmdldChkb2N1bWVudC5ib2R5LCBldmVudCwgJ2hlYWRlciwgI2luc3BlY3RvciwgLm5hdmJhcicpKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGljZS1sYXllcicpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWNlLWxheWVyJykpID9cbiAgICAgICAgICAgICAgICB0YXJnZXQgOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYXllci0nICsgdGFyZ2V0LmRhdGFzZXQub2JqZWN0aWQpO1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KHNlbGVjdGVkKTtcbiAgICAgICAgICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgICAgICAgICBoZWxwZXJfMS5tb3VzZW91dExheWVyKCk7XG4gICAgICAgICAgICBoZWxwZXJfMS5zZWxlY3RlZExheWVyKCk7XG4gICAgICAgICAgICBpbnNwZWN0b3JfMS5pbnNwZWN0b3IoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBoZWxwZXJfMS5yZW1vdmVTZWxlY3RlZCgpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChwYW5Nb2RlXzEucGFuTW9kZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaGVscGVyXzEubW91c2VvdXRMYXllcigpO1xuICAgICAgICBkaXN0YW5jZV8xLmhpZGVEaXN0YW5jZSgpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2NyZWVuLXZpZXdlcicpIHx8IHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NjcmVlbi12aWV3ZXItaW5uZXInKSkge1xuICAgICAgICAgICAgY29tbW9uXzEuc3RhdGUudGVtcFRhcmdldFJlY3QgPSBnZXRFZGdlUmVjdChldmVudCk7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRpc3RhbmNlXzEuZGlzdGFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCA9IGhlbHBlcl8xLmdldEluZGV4KGV2ZW50LnRhcmdldCk7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIG1vdXNlb3ZlckxheWVyKCk7XG4gICAgICAgICAgICBkaXN0YW5jZV8xLmRpc3RhbmNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21tb25fMS5zdGF0ZS50ZW1wVGFyZ2V0UmVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZXhwb3J0cy5sYXllckV2ZW50cyA9IGxheWVyRXZlbnRzO1xuZnVuY3Rpb24gbW91c2VvdmVyTGF5ZXIoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ICYmIGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT0gY29tbW9uXzEuc3RhdGUudGFyZ2V0SW5kZXgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB2YXIgdGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVyLScgKyBjb21tb25fMS5zdGF0ZS50YXJnZXRJbmRleCk7XG4gICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2hvdmVyJyk7XG4gICAgbGV0IHJ2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J2Jyk7XG4gICAgcnYuc3R5bGUubGVmdCA9IHRhcmdldC5vZmZzZXRMZWZ0ICsgJ3B4JztcbiAgICBydi5zdHlsZS53aWR0aCA9IHRhcmdldC5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgbGV0IHJoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JoJyk7XG4gICAgcmguc3R5bGUudG9wID0gdGFyZ2V0Lm9mZnNldFRvcCArICdweCc7XG4gICAgcmguc3R5bGUuaGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodCArICdweCc7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3J1bGVycycpLnN0eWxlLmRpc3BsYXkgPSAnJztcbn1cbmZ1bmN0aW9uIGdldEVkZ2VSZWN0KGV2ZW50KSB7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgcmVjdCA9IHNjcmVlbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgeCA9IChldmVudC5wYWdlWCAtIHJlY3QubGVmdCkgLyBjb21tb25fMS5zdGF0ZS56b29tO1xuICAgIGxldCB5ID0gKGV2ZW50LnBhZ2VZIC0gcmVjdC50b3ApIC8gY29tbW9uXzEuc3RhdGUuem9vbTtcbiAgICBsZXQgd2lkdGggPSAxMDtcbiAgICBsZXQgaGVpZ2h0ID0gMTA7XG4gICAgbGV0IHhTY29wZSA9ICh4ID49IDAgJiYgeCA8PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKTtcbiAgICBsZXQgeVNjb3BlID0gKHkgPj0gMCAmJiB5IDw9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KTtcbiAgICAvLyBsZWZ0IGFuZCB0b3BcbiAgICBpZiAoeCA8PSAwICYmIHkgPD0gMCkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gLTEwO1xuICAgIH1cbiAgICAvLyByaWdodCBhbmQgdG9wXG4gICAgZWxzZSBpZiAoeCA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoICYmIHkgPD0gMCkge1xuICAgICAgICB4ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICB9XG4gICAgLy8gcmlnaHQgYW5kIGJvdHRvbVxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIHggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICB5ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8vIGxlZnQgYW5kIGJvdHRvbVxuICAgIGVsc2UgaWYgKHggPD0gMCAmJiB5ID49IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KSB7XG4gICAgICAgIHggPSAtMTA7XG4gICAgICAgIHkgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgLy8gdG9wXG4gICAgZWxzZSBpZiAoeSA8PSAwICYmIHhTY29wZSkge1xuICAgICAgICB4ID0gMDtcbiAgICAgICAgeSA9IC0xMDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgIH1cbiAgICAvLyByaWdodFxuICAgIGVsc2UgaWYgKHggPj0gY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCAmJiB5U2NvcGUpIHtcbiAgICAgICAgeCA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGg7XG4gICAgICAgIHkgPSAwO1xuICAgICAgICBoZWlnaHQgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgLy8gYm90dG9tXG4gICAgZWxzZSBpZiAoeSA+PSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCAmJiB4U2NvcGUpIHtcbiAgICAgICAgeCA9IDA7XG4gICAgICAgIHkgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgIH1cbiAgICAvLyBsZWZ0XG4gICAgZWxzZSBpZiAoeCA8PSAwICYmIHlTY29wZSkge1xuICAgICAgICB4ID0gLTEwO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgaGVpZ2h0ID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIGlmICh4U2NvcGUgJiYgeVNjb3BlKSB7XG4gICAgICAgIHggPSAwO1xuICAgICAgICB5ID0gMDtcbiAgICAgICAgd2lkdGggPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogeCxcbiAgICAgICAgeTogeSxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9sYXllckV2ZW50cy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL25hdmlnYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvbmF2aWdhdGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VVUkxIYXNoID0gZXhwb3J0cy5nZXRVUkxIYXNoID0gZXhwb3J0cy5oaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkID0gZXhwb3J0cy51cGRhdGVVUkxIYXNoID0gZXhwb3J0cy5uYXZpZ2F0ZUJ5VVJMSGFzaCA9IGV4cG9ydHMuZ290b0FydGJvYXJkID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGxheWVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2xheWVycyAqLyBcIi4vdWkvcmVuZGVyL2xheWVycy50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvbm90ZXMgKi8gXCIuL3VpL3JlbmRlci9ub3Rlcy50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IHNjcmVlbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL3NjcmVlbiAqLyBcIi4vdWkvcmVuZGVyL3NjcmVlbi50c1wiKTtcbmNvbnN0IGZsb3dfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmxvdyAqLyBcIi4vdWkvZXZlbnRzL2Zsb3cudHNcIik7XG5jb25zdCBoZWxwZXJfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9ldmVudHMvaGVscGVyLnRzXCIpO1xuY29uc3QgaGFzaENoYW5nZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oYXNoQ2hhbmdlICovIFwiLi91aS9ldmVudHMvaGFzaENoYW5nZS50c1wiKTtcbmZ1bmN0aW9uIGdvdG9BcnRib2FyZChwYXJhLCB1cGRhdGVIYXNoID0gdHJ1ZSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaGFzaENoYW5nZV8xLnNldFNob3VsZEJhY2tUb0Fub3RoZXIoZmFsc2UpO1xuICAgIGxldCBpbmRleDtcbiAgICBpZiAodHlwZW9mIHBhcmEgPT0gJ251bWJlcicpIHtcbiAgICAgICAgaW5kZXggPSBwYXJhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5kZXggPSBsYXllcnNfMS5NYXBBcnRib2FyZElEVG9JbmRleFtwYXJhXTtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgaGVscGVyXzEubWVzc2FnZShjb21tb25fMS5sb2NhbGl6ZSgnVGFyZ2V0IGFydGJvYXJkIG5vdCBleHBvcnRlZC4nKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLmFydGJvYXJkSW5kZXggPT0gaW5kZXgpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBjbGVhciBmbG93cyBhbmltYXRpb24gYmVmb3JlIHN3aXRjaFxuICAgIGxldCBmbG93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmbG93cycpO1xuICAgIGZsb3dzLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctZmxvd3MnKTtcbiAgICBoZWxwZXJfMi5yZW1vdmVTZWxlY3RlZCgpO1xuICAgIGNvbW1vbl8xLnN0YXRlLmFydGJvYXJkSW5kZXggPSBpbmRleDtcbiAgICBjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQgPSBjb21tb25fMS5wcm9qZWN0LmFydGJvYXJkc1tjb21tb25fMS5zdGF0ZS5hcnRib2FyZEluZGV4XTtcbiAgICBzY3JlZW5fMS51cGRhdGVTY3JlZW4odHJ1ZSk7XG4gICAgbGF5ZXJzXzEubGF5ZXJzKCk7XG4gICAgbm90ZXNfMS5ub3RlcygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKS5mb3JFYWNoKGUgPT4gZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgKF9hID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkLScgKyBpbmRleCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAoX2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3RhcnRwb2ludC0nICsgaW5kZXgpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgaWYgKHVwZGF0ZUhhc2gpXG4gICAgICAgIHVwZGF0ZVVSTEhhc2goKTtcbiAgICBkb2N1bWVudC50aXRsZSA9IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubmFtZSArICcgLSBTa2V0Y2ggTWVhWHVyZSc7XG59XG5leHBvcnRzLmdvdG9BcnRib2FyZCA9IGdvdG9BcnRib2FyZDtcbmZ1bmN0aW9uIG5hdmlnYXRlQnlVUkxIYXNoKHVwZGF0ZUhhc2ggPSB0cnVlKSB7XG4gICAgbGV0IHNldHRpbmcgPSBwYXJzZVVSTEhhc2goKTtcbiAgICBnb3RvQXJ0Ym9hcmQoc2V0dGluZy5hcnRib2FyZEluZGV4LCBmYWxzZSk7XG4gICAgaWYgKGZsb3dfMS5mbG93TW9kZSAhPT0gc2V0dGluZy5mbG93TW9kZSkge1xuICAgICAgICBmbG93XzEuc2V0Rmxvd01vZGUoc2V0dGluZy5mbG93TW9kZSk7XG4gICAgfVxuICAgIGlmICh1cGRhdGVIYXNoKVxuICAgICAgICB1cGRhdGVVUkxIYXNoKCk7XG59XG5leHBvcnRzLm5hdmlnYXRlQnlVUkxIYXNoID0gbmF2aWdhdGVCeVVSTEhhc2g7XG5mdW5jdGlvbiB1cGRhdGVVUkxIYXNoKCkge1xuICAgIGxldCBoYXNoID0gZ2V0VVJMSGFzaCgpO1xuICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCA9PSBoYXNoKVxuICAgICAgICByZXR1cm47XG4gICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSBoYXNoO1xufVxuZXhwb3J0cy51cGRhdGVVUkxIYXNoID0gdXBkYXRlVVJMSGFzaDtcbmZ1bmN0aW9uIGhpc3RvcnlCYWNrVW50aWxBbm90aGVyQXJ0Ym9hcmQoKSB7XG4gICAgaGFzaENoYW5nZV8xLnNldFNob3VsZEJhY2tUb0Fub3RoZXIodHJ1ZSk7XG4gICAgaGlzdG9yeS5iYWNrKCk7XG59XG5leHBvcnRzLmhpc3RvcnlCYWNrVW50aWxBbm90aGVyQXJ0Ym9hcmQgPSBoaXN0b3J5QmFja1VudGlsQW5vdGhlckFydGJvYXJkO1xuZnVuY3Rpb24gZ2V0VVJMSGFzaCgpIHtcbiAgICByZXR1cm4gYCMke2Zsb3dfMS5mbG93TW9kZSA/ICdwJyA6ICdhcnRib2FyZCd9JHtjb21tb25fMS5zdGF0ZS5hcnRib2FyZEluZGV4fWA7XG59XG5leHBvcnRzLmdldFVSTEhhc2ggPSBnZXRVUkxIYXNoO1xuZnVuY3Rpb24gcGFyc2VVUkxIYXNoKCkge1xuICAgIGxldCByZXN1bHQgPSB7XG4gICAgICAgIGZsb3dNb2RlOiBmYWxzZSxcbiAgICAgICAgYXJ0Ym9hcmRJbmRleDogMCxcbiAgICB9O1xuICAgIC8qKlxuICAgICAqICAjW3N8cF1baW5kZXhdXG4gICAgICBzOiBzcGVjaWZpY2F0aW9uIG1vZGVcbiAgICAgIHA6IHByb3RvdHlwZSBtb2RlICBzXG4gICAgICBpbmRleDogYXJ0Ym9hcmQgaW5kZXhcbiAgICAgKi9cbiAgICBsZXQgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuICAgIHJlc3VsdC5mbG93TW9kZSA9IGhhc2guc3Vic3RyKDEsIDEpID09PSAncCc7XG4gICAgbGV0IGluZGV4ID0gTnVtYmVyKGhhc2guc3Vic3RyKDkpKTtcbiAgICBpZiAoaXNOYU4oaW5kZXgpKVxuICAgICAgICBpbmRleCA9IE51bWJlcihoYXNoLnN1YnN0cig5KSk7XG4gICAgaWYgKGlzTmFOKGluZGV4KSlcbiAgICAgICAgaW5kZXggPSAwO1xuICAgIHJlc3VsdC5hcnRib2FyZEluZGV4ID0gaW5kZXg7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydHMucGFyc2VVUkxIYXNoID0gcGFyc2VVUkxIYXNoO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9uYXZpZ2F0ZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL25vdGVzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvbm90ZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubm90ZUV2ZW50cyA9IHZvaWQgMDtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBkaXN0YW5jZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kaXN0YW5jZSAqLyBcIi4vdWkvZXZlbnRzL2Rpc3RhbmNlLnRzXCIpO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIG5vdGVFdmVudHMoKSB7XG4gICAgbGV0IG5vdGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vdGVzJyk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3ctbm90ZXMnKVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcztcbiAgICAgICAgbm90ZXMuc3R5bGUuZGlzcGxheSA9IHRhcmdldC5jaGVja2VkID8gJycgOiAnbm9uZSc7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKG5vdGVzLCAnbW91c2Vtb3ZlJywgJy5ub3RlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGhlbHBlcl8xLm1vdXNlb3V0TGF5ZXIoKTtcbiAgICAgICAgZGlzdGFuY2VfMS5oaWRlRGlzdGFuY2UoKTtcbiAgICAgICAgbGV0IG5vdGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2RpdicpO1xuICAgICAgICBub3RlLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgaWYgKG5vdGUuY2xpZW50V2lkdGggPiAxNjApIHtcbiAgICAgICAgICAgIG5vdGUuc3R5bGUud2lkdGggPSAnMTYwcHgnO1xuICAgICAgICAgICAgbm90ZS5zdHlsZS53aGl0ZVNwYWNlID0gJ25vcm1hbCc7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gICAgbm90ZXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbm90ZXMucXVlcnlTZWxlY3RvckFsbCgnLm5vdGUgZGl2JykuZm9yRWFjaCgoZGl2KSA9PiBkaXYuc3R5bGUuZGlzcGxheSA9ICdub25lJyk7XG4gICAgfSk7XG59XG5leHBvcnRzLm5vdGVFdmVudHMgPSBub3RlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9ub3Rlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3Bhbk1vZGUudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3Bhbk1vZGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYW5Nb2RlRXZlbnRzID0gZXhwb3J0cy5wYW5Nb2RlID0gdm9pZCAwO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5leHBvcnRzLnBhbk1vZGUgPSBmYWxzZTtcbmZ1bmN0aW9uIHBhbk1vZGVFdmVudHMoKSB7XG4gICAgbGV0IG1vdmluZyA9IGZhbHNlO1xuICAgIGxldCBtb3ZlRGF0YTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAzMilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKS5jbGFzc0xpc3QuYWRkKCdtb3Zpbmctc2NyZWVuJyk7XG4gICAgICAgIGhlbHBlcl8xLm1vdXNlb3V0TGF5ZXIoKTtcbiAgICAgICAgZGlzdGFuY2VfMS5oaWRlRGlzdGFuY2UoKTtcbiAgICAgICAgZXhwb3J0cy5wYW5Nb2RlID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudCA9PiB7XG4gICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMzIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJykuY2xhc3NMaXN0LnJlbW92ZSgnbW92aW5nJyk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJykuY2xhc3NMaXN0LnJlbW92ZSgnbW92aW5nLXNjcmVlbicpO1xuICAgICAgICBleHBvcnRzLnBhbk1vZGUgPSBmYWxzZTtcbiAgICAgICAgbW92aW5nID0gZmFsc2U7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGV2ZW50ID0+IHtcbiAgICAgICAgbGV0IGN1cnNvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjdXJzb3InKTtcbiAgICAgICAgY3Vyc29yLnN0eWxlLmxlZnQgPSBldmVudC5jbGllbnRYICsgJ3B4JztcbiAgICAgICAgY3Vyc29yLnN0eWxlLnRvcCA9IGV2ZW50LmNsaWVudFkgKyAncHgnO1xuICAgICAgICBpZiAoIW1vdmluZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgICAgIHZpZXdlci5zY3JvbGxMZWZ0ID0gKG1vdmVEYXRhLnggLSBldmVudC5jbGllbnRYKSArIG1vdmVEYXRhLnNjcm9sbExlZnQ7XG4gICAgICAgIHZpZXdlci5zY3JvbGxUb3AgPSAobW92ZURhdGEueSAtIGV2ZW50LmNsaWVudFkpICsgbW92ZURhdGEuc2Nyb2xsVG9wO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudCA9PiB7XG4gICAgICAgIGlmICghZXhwb3J0cy5wYW5Nb2RlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgY3Vyc29yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2N1cnNvcicpO1xuICAgICAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICAgICAgY3Vyc29yLmNsYXNzTGlzdC5hZGQoJ21vdmluZycpO1xuICAgICAgICBtb3ZlRGF0YSA9IHtcbiAgICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICB5OiBldmVudC5jbGllbnRZLFxuICAgICAgICAgICAgc2Nyb2xsTGVmdDogdmlld2VyLnNjcm9sbExlZnQsXG4gICAgICAgICAgICBzY3JvbGxUb3A6IHZpZXdlci5zY3JvbGxUb3AsXG4gICAgICAgIH07XG4gICAgICAgIG1vdmluZyA9IHRydWU7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudCA9PiB7XG4gICAgICAgIGlmICghZXhwb3J0cy5wYW5Nb2RlIHx8ICFtb3ZpbmcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBjdXJzb3IgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3Vyc29yJyk7XG4gICAgICAgIGxldCB2aWV3ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2NyZWVuLXZpZXdlcicpO1xuICAgICAgICB2aWV3ZXIuY2xhc3NMaXN0LnJlbW92ZSgnbW92aW5nLXNjcmVlbicpO1xuICAgICAgICBjdXJzb3IuY2xhc3NMaXN0LnJlbW92ZSgnbW92aW5nJyk7XG4gICAgICAgIG1vdmluZyA9IGZhbHNlO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5wYW5Nb2RlRXZlbnRzID0gcGFuTW9kZUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvcGFuTW9kZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3BlcmNlbnRhZ2VNb2RlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9ldmVudHMvcGVyY2VudGFnZU1vZGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGVyY2VudGFnZU1vZGVFdmVudHMgPSB2b2lkIDA7XG5mdW5jdGlvbiBwZXJjZW50YWdlTW9kZUV2ZW50cygpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAxOClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLmNsYXNzTGlzdC5hZGQoJ3BlcmNlbnRhZ2UtbW9kZScpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LndoaWNoICE9PSAxOClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjcmVlbicpLmNsYXNzTGlzdC5yZW1vdmUoJ3BlcmNlbnRhZ2UtbW9kZScpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5wZXJjZW50YWdlTW9kZUV2ZW50cyA9IHBlcmNlbnRhZ2VNb2RlRXZlbnRzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy9wZXJjZW50YWdlTW9kZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3NsaWNlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy9zbGljZXMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNsaWNlRXZlbnRzID0gdm9pZCAwO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvZXZlbnRzL2hlbHBlci50c1wiKTtcbmNvbnN0IGhlbHBlcl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gc2xpY2VFdmVudHMoKSB7XG4gICAgbGV0IHNsaWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbGljZXMnKTtcbiAgICBkZWxlZ2F0ZV8xLmV2ZW50RGVsZWdhdGUoc2xpY2VzLCAnbW91c2VvdmVyJywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYXllci0nICsgdGhpcy5kYXRhc2V0Lm9iamVjdGlkKVxuICAgICAgICAgICAgLmZvckVhY2goZGl2ID0+IGRpdi5jbGFzc0xpc3QuYWRkKCdoYXMtc2xpY2UnKSk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHNsaWNlcywgJ21vdXNlb3V0JywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oYXMtc2xpY2UnKVxuICAgICAgICAgICAgLmZvckVhY2goZGl2ID0+IGRpdi5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtc2xpY2UnKSk7XG4gICAgfSk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHNsaWNlcywgJ2NsaWNrJywgJ2xpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxldCBsYXllcmNscyA9ICcubGF5ZXItJyArIHRoaXMuZGF0YXNldC5vYmplY3RpZDtcbiAgICAgICAgbGV0IGluc3RhbmNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobGF5ZXJjbHMpO1xuICAgICAgICBsZXQgaW5zdGFuY2UgPSBpbnN0YW5jZXNbMF07XG4gICAgICAgIGlmICghaW5zdGFuY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgaGVscGVyXzIubWVzc2FnZShjb21tb25fMS5sb2NhbGl6ZSgnVGhlIHNsaWNlIG5vdCBpbiBjdXJyZW50IGFydGJvYXJkLicpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb2Zmc2V0cyA9IGluc3RhbmNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBsZXQgdmlld2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcmVlbi12aWV3ZXInKTtcbiAgICAgICAgbGV0IHNjcm9sbHMgPSB7XG4gICAgICAgICAgICBsZWZ0OiB2aWV3ZXIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgIHRvcDogdmlld2VyLnNjcm9sbFRvcCxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHNpemVzID0ge1xuICAgICAgICAgICAgd2lkdGg6IGluc3RhbmNlLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBpbnN0YW5jZS5jbGllbnRIZWlnaHRcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHZpZXdlclNpemVzID0ge1xuICAgICAgICAgICAgd2lkdGg6IHZpZXdlci5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdmlld2VyLmNsaWVudEhlaWdodFxuICAgICAgICB9O1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsTGVmdCA9IChvZmZzZXRzLmxlZnQgKyBzY3JvbGxzLmxlZnQpIC0gKCh2aWV3ZXJTaXplcy53aWR0aCAtIHNpemVzLndpZHRoKSAvIDIpO1xuICAgICAgICB2aWV3ZXIuc2Nyb2xsVG9wID0gKG9mZnNldHMudG9wICsgc2Nyb2xscy50b3AgLSA2MCkgLSAoKHZpZXdlclNpemVzLmhlaWdodCAtIHNpemVzLmhlaWdodCkgLyAyKTtcbiAgICAgICAgaGVscGVyXzEuY2xpY2tFbGVtZW50KGluc3RhbmNlKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2xpY2VFdmVudHMgPSBzbGljZUV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvc2xpY2VzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9ldmVudHMvdGFiLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3RhYi50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2hvd05hdkJhciA9IGV4cG9ydHMuaGlkZU5hdkJhciA9IGV4cG9ydHMudGFiRXZlbnRzID0gdm9pZCAwO1xuY29uc3QgZGVsZWdhdGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZGVsZWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9kZWxlZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIHRhYkV2ZW50cygpIHtcbiAgICBsZXQgdGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci1sZWZ0IC50YWInKTtcbiAgICBsZXQgbmF2YmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdmJhcicpO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh0YWIsICdjbGljaycsICdsaScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRhYi5xdWVyeVNlbGVjdG9yKCcuY3VycmVudCcpO1xuICAgICAgICBpZiAodGhpcyA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID09PSBudWxsIHx8IGN1cnJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICBsZXQgaWQgPSB0aGlzLmRhdGFzZXQuaWQ7XG4gICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgICAgICBuYXZiYXIuY2xhc3NMaXN0LmFkZCgnb24nKTtcbiAgICAgICAgbmF2YmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlY3Rpb24nKS5mb3JFYWNoKChzZWMpID0+IHNlYy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTtcbiAgICAgICAgbmF2YmFyLnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9KTtcbn1cbmV4cG9ydHMudGFiRXZlbnRzID0gdGFiRXZlbnRzO1xuZnVuY3Rpb24gaGlkZU5hdkJhcigpIHtcbiAgICB2YXIgX2E7XG4gICAgbGV0IHRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItbGVmdCAudGFiJyk7XG4gICAgKF9hID0gdGFiLnF1ZXJ5U2VsZWN0b3IoJy5jdXJyZW50JykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgbGV0IG5hdmJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZiYXInKTtcbiAgICBuYXZiYXIuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbn1cbmV4cG9ydHMuaGlkZU5hdkJhciA9IGhpZGVOYXZCYXI7XG5mdW5jdGlvbiBzaG93TmF2QmFyKCkge1xuICAgIGxldCB0YWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaWNvbi1hcnRib2FyZHMnKTtcbiAgICB0YWIuY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgIGxldCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2YmFyJyk7XG4gICAgbmF2YmFyLmNsYXNzTGlzdC5hZGQoJ29uJyk7XG59XG5leHBvcnRzLnNob3dOYXZCYXIgPSBzaG93TmF2QmFyO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy90YWIudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL2V2ZW50cy91bml0LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL2V2ZW50cy91bml0LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudW5pdEV2ZW50cyA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBsYXllcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9sYXllcnMgKi8gXCIuL3VpL3JlbmRlci9sYXllcnMudHNcIik7XG5jb25zdCBpbnNwZWN0b3JfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9pbnNwZWN0b3IgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHNcIik7XG5jb25zdCBzbGljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci9zbGljZXMgKi8gXCIuL3VpL3JlbmRlci9zbGljZXMudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuZnVuY3Rpb24gdW5pdEV2ZW50cygpIHtcbiAgICBsZXQgdW5pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1bml0Jyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHVuaXQsICdjaGFuZ2UnLCAnaW5wdXRbbmFtZT1yZXNvbHV0aW9uXScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsZXQgY2hlY2tlZCA9IHVuaXQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1yZXNvbHV0aW9uXTpjaGVja2VkJyk7XG4gICAgICAgIGNvbW1vbl8xLnN0YXRlLnVuaXQgPSBjaGVja2VkLmRhdGFzZXQudW5pdDtcbiAgICAgICAgY29tbW9uXzEuc3RhdGUuc2NhbGUgPSBOdW1iZXIoY2hlY2tlZC5kYXRhc2V0LnNjYWxlKTtcbiAgICAgICAgbGF5ZXJzXzEubGF5ZXJzKCk7XG4gICAgICAgIGluc3BlY3Rvcl8xLmluc3BlY3RvcigpO1xuICAgICAgICB1bml0LmJsdXIoKTtcbiAgICAgICAgdW5pdC5xdWVyeVNlbGVjdG9yKCdwJykuaW5uZXJUZXh0ID0gY2hlY2tlZC5kYXRhc2V0Lm5hbWU7XG4gICAgICAgIHNsaWNlc18xLnNsaWNlcygpO1xuICAgIH0pO1xuICAgIGRlbGVnYXRlXzEuZXZlbnREZWxlZ2F0ZSh1bml0LCAnY2xpY2snLCAnaDMsIC5vdmVybGF5JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHVuaXQuYmx1cigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy51bml0RXZlbnRzID0gdW5pdEV2ZW50cztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9ldmVudHMvdW5pdC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvZXZlbnRzL3pvb20udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvZXZlbnRzL3pvb20udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56b29tUmVuZGVyID0gZXhwb3J0cy56b29tRXZlbnRzID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IHNjcmVlbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL3NjcmVlbiAqLyBcIi4vdWkvcmVuZGVyL3NjcmVlbi50c1wiKTtcbmNvbnN0IGxheWVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVuZGVyL2xheWVycyAqLyBcIi4vdWkvcmVuZGVyL2xheWVycy50c1wiKTtcbmNvbnN0IG5vdGVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9yZW5kZXIvbm90ZXMgKi8gXCIuL3VpL3JlbmRlci9ub3Rlcy50c1wiKTtcbmNvbnN0IHpvb21fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbmRlci96b29tICovIFwiLi91aS9yZW5kZXIvem9vbS50c1wiKTtcbmNvbnN0IGRpc3RhbmNlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Rpc3RhbmNlICovIFwiLi91aS9ldmVudHMvZGlzdGFuY2UudHNcIik7XG5jb25zdCBkZWxlZ2F0ZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9kZWxlZ2F0ZSAqLyBcIi4vdWkvZXZlbnRzL2RlbGVnYXRlLnRzXCIpO1xuY29uc3QgYWxpZ25FbGVtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FsaWduRWxlbWVudCAqLyBcIi4vdWkvZXZlbnRzL2FsaWduRWxlbWVudC50c1wiKTtcbmZ1bmN0aW9uIHpvb21FdmVudHMoKSB7XG4gICAgbGV0IHpvb21lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tJyk7XG4gICAgZGVsZWdhdGVfMS5ldmVudERlbGVnYXRlKHpvb21lciwgJ2NsaWNrJywgJy56b29tLWluOm5vdChkaXNhYmxlZCksIC56b29tLW91dDpub3QoZGlzYWJsZWQpJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnem9vbS1pbicpKSB7XG4gICAgICAgICAgICB6b29tUmVuZGVyKGNvbW1vbl8xLnN0YXRlLnpvb20gLSAuMjUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgem9vbVJlbmRlcihjb21tb25fMS5zdGF0ZS56b29tICsgLjI1KTtcbiAgICAgICAgfVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuem9vbUV2ZW50cyA9IHpvb21FdmVudHM7XG5mdW5jdGlvbiB6b29tUmVuZGVyKHZhbCkge1xuICAgIGNvbW1vbl8xLnN0YXRlLnRhcmdldEluZGV4ID0gdW5kZWZpbmVkO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNydWxlcnMnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGRpc3RhbmNlXzEuaGlkZURpc3RhbmNlKCk7XG4gICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgbGV0IHNjcmVlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzY3JlZW4nKTtcbiAgICBsZXQgY3VycmVudFJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjcmVlblBvaW50ID0gc2NyZWVuUG9pbnRPblZpZXdlckNlbnRlcih2aWV3ZXIsIHNjcmVlbik7XG4gICAgbGV0IHNjcmVlblBvaW50MiA9IHtcbiAgICAgICAgeDogc2NyZWVuUG9pbnQueCAqIHZhbCAvIGNvbW1vbl8xLnN0YXRlLnpvb20sXG4gICAgICAgIHk6IHNjcmVlblBvaW50LnkgKiB2YWwgLyBjb21tb25fMS5zdGF0ZS56b29tLFxuICAgIH07XG4gICAgY29tbW9uXzEuc3RhdGUuem9vbSA9IHZhbDtcbiAgICB6b29tXzEuem9vbSgpO1xuICAgIHNjcmVlbl8xLnVwZGF0ZVNjcmVlbigpO1xuICAgIGFsaWduRWxlbWVudF8xLmFsaWduRWxlbWVudCh7XG4gICAgICAgIHNjcm9sbGVyOiB2aWV3ZXIsXG4gICAgICAgIHRhcmdldDogc2NyZWVuLFxuICAgICAgICB0b1JlY3Q6IGN1cnJlbnRSZWN0LFxuICAgICAgICBmcm9tRWRnZTogYWxpZ25FbGVtZW50XzEuRWRnZS5obGVmdCB8IGFsaWduRWxlbWVudF8xLkVkZ2UudnRvcCxcbiAgICAgICAgdG9FZGdlOiBhbGlnbkVsZW1lbnRfMS5FZGdlLmhsZWZ0IHwgYWxpZ25FbGVtZW50XzEuRWRnZS52dG9wLFxuICAgIH0pO1xuICAgIHZpZXdlci5zY3JvbGxMZWZ0ICs9IHNjcmVlblBvaW50Mi54IC0gc2NyZWVuUG9pbnQueDtcbiAgICB2aWV3ZXIuc2Nyb2xsVG9wICs9IHNjcmVlblBvaW50Mi55IC0gc2NyZWVuUG9pbnQueTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjbGF5ZXJzLCAjbm90ZXMnKS5mb3JFYWNoKGUgPT4gZS5pbm5lckhUTUwgPSAnJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxheWVyc18xLmxheWVycygpO1xuICAgICAgICBub3Rlc18xLm5vdGVzKCk7XG4gICAgfSwgMTUwKTtcbn1cbmV4cG9ydHMuem9vbVJlbmRlciA9IHpvb21SZW5kZXI7XG5mdW5jdGlvbiBzY3JlZW5Qb2ludE9uVmlld2VyQ2VudGVyKHZpZXdlciwgc2NyZWVuKSB7XG4gICAgbGV0IHZpZXdlclJlY3QgPSB2aWV3ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHNjcmVlblJlY3QgPSBzY3JlZW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHZpZXdlckNlbnRlciA9IHtcbiAgICAgICAgeDogdmlld2VyUmVjdC54ICsgdmlld2VyUmVjdC53aWR0aCAvIDIsXG4gICAgICAgIHk6IHZpZXdlclJlY3QueSArIHZpZXdlclJlY3QuaGVpZ2h0IC8gMixcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHZpZXdlckNlbnRlci54IC0gc2NyZWVuUmVjdC54LFxuICAgICAgICB5OiB2aWV3ZXJDZW50ZXIueSAtIHNjcmVlblJlY3QueSxcbiAgICB9O1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL2V2ZW50cy96b29tLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9pbmRleC50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9pbmRleC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCByZW5kZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vcmVuZGVyICovIFwiLi91aS9yZW5kZXIvaW5kZXgudHNcIik7XG53aW5kb3cubWVheHVyZSA9IHtcbiAgICByZW5kZXI6IHJlbmRlcl8xLnJlbmRlcixcbn07XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9hcnRib2FyZHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hcnRib2FyZHMgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29tbW9uXzIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIGFydGJvYXJkcygpIHtcbiAgICBsZXQgYXJ0Ym9hcmRMaXN0SFRNTCA9IFtdO1xuICAgIGxldCBwYWdlc1NlbGVjdCA9IFtdO1xuICAgIGxldCBmbG93U3RhcnRzID0gW107XG4gICAgbGV0IHBhZ2VzRGF0YSA9IHt9O1xuICAgIGFydGJvYXJkTGlzdEhUTUwucHVzaCgnPHVsIGNsYXNzPVwiYXJ0Ym9hcmQtbGlzdFwiPicpO1xuICAgIGNvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzLmZvckVhY2goKGFydGJvYXJkLCBpbmRleCkgPT4ge1xuICAgICAgICBpZiAoIXBhZ2VzRGF0YVthcnRib2FyZC5wYWdlT2JqZWN0SURdKSB7XG4gICAgICAgICAgICBwYWdlc0RhdGFbYXJ0Ym9hcmQucGFnZU9iamVjdElEXSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBhcnRib2FyZC5wYWdlTmFtZSxcbiAgICAgICAgICAgICAgICBvYmplY3RJRDogYXJ0Ym9hcmQucGFnZU9iamVjdElELFxuICAgICAgICAgICAgICAgIGNvdW50OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHBhZ2VzRGF0YVthcnRib2FyZC5wYWdlT2JqZWN0SURdLmNvdW50Kys7XG4gICAgICAgIGxldCBjbGFzc05hbWVzID0gKGNvbW1vbl8yLnN0YXRlLmFydGJvYXJkSW5kZXggPT0gaW5kZXgpID8gJyBhY3RpdmUnIDogJyc7XG4gICAgICAgIGxldCBpbWFnZURhdGEgPSBhcnRib2FyZC5pbWFnZUJhc2U2NCA/IGFydGJvYXJkLmltYWdlQmFzZTY0IDogYXJ0Ym9hcmQuaW1hZ2VJY29uUGF0aCArICc/JyArIGNvbW1vbl8xLnRpbWVzdGFtcDtcbiAgICAgICAgbGV0IGFydGJvYXJkTGlCb2R5ID0gYDxwaWN0dXJlIGNsYXNzPVwicHJldmlldy1pbWdcIiBkYXRhLW5hbWU9XCIke2FydGJvYXJkLm5hbWV9XCI+YCArXG4gICAgICAgICAgICBgPGltZyBhbHQ9XCIke2FydGJvYXJkLm5hbWV9XCIgc3JjPVwiJHtpbWFnZURhdGF9XCI+YCArXG4gICAgICAgICAgICBgPC9waWN0dXJlPmAgK1xuICAgICAgICAgICAgYDxkaXY+YCArXG4gICAgICAgICAgICBgPGgzPiR7YXJ0Ym9hcmQubmFtZX08L2gzPmAgK1xuICAgICAgICAgICAgYDxzbWFsbD4ke2FydGJvYXJkLnBhZ2VOYW1lfTwvc21hbGw+YCArXG4gICAgICAgICAgICBgPC9kaXY+YDtcbiAgICAgICAgYXJ0Ym9hcmRMaXN0SFRNTC5wdXNoKGA8bGkgaWQ9XCJhcnRib2FyZC0ke2luZGV4fVwiIHRhYmluZGV4PVwiJHtpbmRleH1cIiBjbGFzcz1cImFydGJvYXJkJHtjbGFzc05hbWVzfVwiIGRhdGEtcGFnZS1pZD1cIiR7YXJ0Ym9hcmQucGFnZU9iamVjdElEfVwiIGRhdGEtaWQ9XCIke2FydGJvYXJkLm9iamVjdElEfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiID5gICtcbiAgICAgICAgICAgIGFydGJvYXJkTGlCb2R5ICtcbiAgICAgICAgICAgIGA8L2xpPmApO1xuICAgICAgICBpZiAoYXJ0Ym9hcmQuZmxvd1N0YXJ0UG9pbnQpXG4gICAgICAgICAgICBmbG93U3RhcnRzLnB1c2goYDxsaSBpZD1cInN0YXJ0cG9pbnQtJHtpbmRleH1cIiBjbGFzcz1cImFydGJvYXJkJHtjbGFzc05hbWVzfVwiIGRhdGEtcGFnZS1pZD1cIiR7YXJ0Ym9hcmQucGFnZU9iamVjdElEfVwiIGRhdGEtaWQ9XCIke2FydGJvYXJkLm9iamVjdElEfVwiIGRhdGEtaW5kZXg9XCIke2luZGV4fVwiID5gICtcbiAgICAgICAgICAgICAgICBhcnRib2FyZExpQm9keSArXG4gICAgICAgICAgICAgICAgYDwvbGk+YCk7XG4gICAgfSk7XG4gICAgYXJ0Ym9hcmRMaXN0SFRNTC5wdXNoKCc8L3VsPicpO1xuICAgIHBhZ2VzU2VsZWN0LnB1c2goJzxkaXYgY2xhc3M9XCJwYWdlcy1zZWxlY3RcIiB0YWJpbmRleD1cIjBcIj4nLCBgPGgzPiR7Y29tbW9uXzEubG9jYWxpemUoJ0FsbCBhcnRib2FyZHMnKX0gPGVtPigke2NvbW1vbl8xLnByb2plY3QuYXJ0Ym9hcmRzLmxlbmd0aH0pPC9lbT48L2gzPmAsICc8dWwgY2xhc3M9XCJwYWdlLWxpc3RcIj4nLCBgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBhZ2VcIiB2YWx1ZT1cImFsbFwiIGNoZWNrZWQ9XCJjaGVja2VkXCI+PHNwYW4+JHtjb21tb25fMS5sb2NhbGl6ZSgnQWxsIGFydGJvYXJkcycpfSA8ZW0+KCR7Y29tbW9uXzEucHJvamVjdC5hcnRib2FyZHMubGVuZ3RofSk8L2VtPjwvc3Bhbj48L2xhYmVsPjwvbGk+YCk7XG4gICAgT2JqZWN0LmtleXMocGFnZXNEYXRhKS5mb3JFYWNoKG9iamVjdElEID0+IHtcbiAgICAgICAgbGV0IGFydGJvYXJkID0gcGFnZXNEYXRhW29iamVjdElEXTtcbiAgICAgICAgcGFnZXNTZWxlY3QucHVzaChgPGxpPjxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInBhZ2VcIiB2YWx1ZT1cIiR7YXJ0Ym9hcmQub2JqZWN0SUR9XCI+PHNwYW4+JHthcnRib2FyZC5uYW1lfSA8ZW0+KCR7YXJ0Ym9hcmQuY291bnR9KTwvZW0+PC9zcGFuPjwvbGFiZWw+PC9saT5gKTtcbiAgICB9KTtcbiAgICBwYWdlc1NlbGVjdC5wdXNoKCc8L3VsPicpO1xuICAgIHBhZ2VzU2VsZWN0LnB1c2goJzwvZGl2PicpO1xuICAgIGlmIChmbG93U3RhcnRzLmxlbmd0aCkge1xuICAgICAgICBmbG93U3RhcnRzLnVuc2hpZnQoJzxkaXYgY2xhc3M9XCJmbG93LXN0YXJ0c1wiPicsICc8ZGl2IGNsYXNzPVwidGl0bGVcIj4nLCBgPGgzPiR7Y29tbW9uXzEubG9jYWxpemUoJ1N0YXJ0IHBvaW50cycpfSA8ZW0+KCR7Zmxvd1N0YXJ0cy5sZW5ndGh9KTwvZW0+PC9oMz5gLCAnPC9kaXY+JywgJzx1bCBjbGFzcz1cImFydGJvYXJkLWxpc3RcIj4nKTtcbiAgICAgICAgZmxvd1N0YXJ0cy5wdXNoKCc8L3VsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FydGJvYXJkcycpLmlubmVySFRNTCA9IFtmbG93U3RhcnRzLmpvaW4oJycpLCBwYWdlc1NlbGVjdC5qb2luKCcnKSwgYXJ0Ym9hcmRMaXN0SFRNTC5qb2luKCcnKV0uam9pbignJyk7XG59XG5leHBvcnRzLmFydGJvYXJkcyA9IGFydGJvYXJkcztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvYXJ0Ym9hcmRzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvY29sb3JzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2NvbG9ycy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29sb3JzID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiBjb2xvcnMoKSB7XG4gICAgaWYgKCFjb21tb25fMi5wcm9qZWN0LmNvbG9ycykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzKVxuICAgICAgICBjb21tb25fMi5wcm9qZWN0LmNvbG9yTmFtZXMgPSB7fTtcbiAgICB2YXIgY29sb3JMaXN0SFRNTCA9IFtdO1xuICAgIGNvbG9yTGlzdEhUTUwucHVzaCgnPHVsIGNsYXNzPVwiY29sb3ItbGlzdFwiPicpO1xuICAgIGNvbW1vbl8yLnByb2plY3QuY29sb3JzLmZvckVhY2goKGNvbG9yLCBpbmRleCkgPT4ge1xuICAgICAgICBjb21tb25fMi5wcm9qZWN0LmNvbG9yTmFtZXNbY29sb3IuY29sb3JbJ2FyZ2ItaGV4J11dID0gY29sb3IubmFtZTtcbiAgICAgICAgY29sb3JMaXN0SFRNTC5wdXNoKCc8bGkgaWQ9XCJjb2xvci0nICsgaW5kZXggKyAnXCIgZGF0YS1jb2xvcj1cIicgKyBlbmNvZGVVUkkoSlNPTi5zdHJpbmdpZnkoY29sb3IuY29sb3IpKSArICdcIj4nLCAnPGVtPjxpIHN0eWxlPVwiYmFja2dyb3VuZDonICsgY29sb3IuY29sb3JbJ2Nzcy1yZ2JhJ10gKyAnXCI+PC9pPjwvZW0+JywgJzxkaXY+JywgJzxoMz4nICsgY29sb3IubmFtZSArICc8L2gzPicsICc8c21hbGw+JyArIGNvbG9yLmNvbG9yW2NvbW1vbl8xLnN0YXRlLmNvbG9yRm9ybWF0XSArICc8L3NtYWxsPicsICc8L2Rpdj4nLCAnPC9saT4nKTtcbiAgICB9KTtcbiAgICBjb2xvckxpc3RIVE1MLnB1c2goJzwvdWw+Jyk7XG4gICAgaWYgKGNvbW1vbl8yLnByb2plY3QuY29sb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbG9ycycpLmlubmVySFRNTCA9IGNvbG9yTGlzdEhUTUwuam9pbignJyk7XG4gICAgfVxufVxuZXhwb3J0cy5jb2xvcnMgPSBjb2xvcnM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2NvbG9ycy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2hlbHBlci50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9oZWxwZXIudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm1lc3NhZ2UgPSBleHBvcnRzLnVuaXRTaXplID0gZXhwb3J0cy5wZXJjZW50YWdlU2l6ZSA9IGV4cG9ydHMuem9vbVNpemUgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gem9vbVNpemUoc2l6ZSkge1xuICAgIHJldHVybiBzaXplICogY29tbW9uXzEuc3RhdGUuem9vbSAvIGNvbW1vbl8xLnByb2plY3QucmVzb2x1dGlvbjtcbn1cbmV4cG9ydHMuem9vbVNpemUgPSB6b29tU2l6ZTtcbmZ1bmN0aW9uIHBlcmNlbnRhZ2VTaXplKHNpemUsIHNpemUyKSB7XG4gICAgcmV0dXJuIChNYXRoLnJvdW5kKHNpemUgLyBzaXplMiAqIDEwMDApIC8gMTApICsgXCIlXCI7XG59XG5leHBvcnRzLnBlcmNlbnRhZ2VTaXplID0gcGVyY2VudGFnZVNpemU7XG5mdW5jdGlvbiB1bml0U2l6ZSh2YWx1ZSwgaXNUZXh0KSB7XG4gICAgLy8gbG9naWMgcG9pbnRcbiAgICBsZXQgcHQgPSB2YWx1ZSAvIGNvbW1vbl8xLnByb2plY3QucmVzb2x1dGlvbjtcbiAgICAvLyBjb252ZXJ0IHRvIGRpc3BsYXkgdmFsdWVcbiAgICBsZXQgc3ogPSBNYXRoLnJvdW5kKHB0ICogY29tbW9uXzEuc3RhdGUuc2NhbGUgKiAxMDApIC8gMTAwO1xuICAgIGxldCB1bml0cyA9IGNvbW1vbl8xLnN0YXRlLnVuaXQuc3BsaXQoXCIvXCIpO1xuICAgIGxldCB1bml0ID0gdW5pdHNbMF07XG4gICAgaWYgKHVuaXRzLmxlbmd0aCA+IDEgJiYgaXNUZXh0KSB7XG4gICAgICAgIHVuaXQgPSB1bml0c1sxXTtcbiAgICB9XG4gICAgcmV0dXJuIHN6ICsgdW5pdDtcbn1cbmV4cG9ydHMudW5pdFNpemUgPSB1bml0U2l6ZTtcbmxldCBtc2dUaW1lb3V0O1xuZnVuY3Rpb24gbWVzc2FnZShtc2cpIHtcbiAgICBsZXQgbWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZXNzYWdlJyk7XG4gICAgbWVzc2FnZS5pbm5lclRleHQgPSBtc2c7XG4gICAgbWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ2luaGVyaXQnO1xuICAgIGlmIChtc2dUaW1lb3V0KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChtc2dUaW1lb3V0KTtcbiAgICAgICAgbXNnVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbXNnVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gbWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnLCAxMDAwKTtcbn1cbmV4cG9ydHMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL2hlbHBlci50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luZGV4LnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5kZXgudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGFydGJvYXJkc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hcnRib2FyZHMgKi8gXCIuL3VpL3JlbmRlci9hcnRib2FyZHMudHNcIik7XG5jb25zdCBzbGljZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2xpY2VzICovIFwiLi91aS9yZW5kZXIvc2xpY2VzLnRzXCIpO1xuY29uc3QgY29sb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbG9ycyAqLyBcIi4vdWkvcmVuZGVyL2NvbG9ycy50c1wiKTtcbmNvbnN0IHVuaXRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdW5pdCAqLyBcIi4vdWkvcmVuZGVyL3VuaXQudHNcIik7XG5jb25zdCB6b29tXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3pvb20gKi8gXCIuL3VpL3JlbmRlci96b29tLnRzXCIpO1xuY29uc3QgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3VpL2V2ZW50cy9pbmRleC50c1wiKTtcbmNvbnN0IG5hdmlnYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMvbmF2aWdhdGUgKi8gXCIuL3VpL2V2ZW50cy9uYXZpZ2F0ZS50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlcihkYXRhKSB7XG4gICAgY29tbW9uXzEuaW5pdChkYXRhKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYXBwJykuaW5uZXJIVE1MID0gW1xuICAgICAgICAnPGhlYWRlcj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImhlYWRlci1sZWZ0XCI+JyxcbiAgICAgICAgJzx1bCBjbGFzcz1cInRhYlwiPicsXG4gICAgICAgICc8bGkgY2xhc3M9XCJpY29uLWFydGJvYXJkcyBjdXJyZW50XCIgZGF0YS1pZD1cImFydGJvYXJkc1wiPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tc2xpY2VzXCIgZGF0YS1pZD1cInNsaWNlc1wiPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tY29sb3JzXCIgZGF0YS1pZD1cImNvbG9yc1wiPjwvbGk+JyxcbiAgICAgICAgJzwvdWw+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaGVhZGVyLWNlbnRlclwiPicsXG4gICAgICAgICc8ZGl2IGlkPVwiem9vbVwiIGNsYXNzPVwiem9vbS13aWRnZXRcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImZsb3ctbW9kZVwiPicsXG4gICAgICAgIGA8bGFiZWwgZm9yPVwidGV4dC1tb2RlXCI+JHtjb21tb25fMS5sb2NhbGl6ZSgnSElHSExJR0hUJyl9PC9sYWJlbD5gLFxuICAgICAgICAnPGlucHV0IGlkPVwic2VhcmNoLW1vZGVcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0ZXh0LW1vZGVcIj4nLFxuICAgICAgICAnPGxhYmVsIGZvcj1cInRleHQtbW9kZVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGgxPjwvaDE+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJzaG93LW5vdGVzXCI+JyxcbiAgICAgICAgYDxsYWJlbCBmb3I9XCJzaG93LW5vdGVzXCI+JHtjb21tb25fMS5sb2NhbGl6ZSgnTk9URVMnKX08L2xhYmVsPmAsXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwic2xpZGVib3hcIiB0aXRsZT1cIiR7Y29tbW9uXzEubG9jYWxpemUoJ0tleWJvYXJkIHNob3J0Y3V0Jyl9OiBuXCI+YCxcbiAgICAgICAgJzxpbnB1dCBpZD1cInNob3ctbm90ZXNcIiB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwic2hvdy1ub3Rlc1wiIGNoZWNrZWQ9XCJjaGVja2VkXCI+JyxcbiAgICAgICAgJzxsYWJlbCBmb3I9XCJzaG93LW5vdGVzXCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cImhlYWRlci1yaWdodFwiPjxkaXYgaWQ9XCJ1bml0XCIgY2xhc3M9XCJ1bml0LWJveFwiIHRhYmluZGV4PVwiMFwiPlhIRFBJIEAyeCAoZHAvc3ApPC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzwvaGVhZGVyPicsXG4gICAgICAgICc8bWFpbj4nLFxuICAgICAgICAnPGFzaWRlIGNsYXNzPVwibmF2YmFyIG9uXCI+JyxcbiAgICAgICAgJzxzZWN0aW9uIGlkPVwiYXJ0Ym9hcmRzXCI+PC9zZWN0aW9uPicsXG4gICAgICAgIGA8c2VjdGlvbiBpZD1cInNsaWNlc1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48ZGl2IGNsYXNzPVwiZW1wdHlcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdObyBzbGljZXMgYWRkZWQhJyl9PC9kaXY+PC9zZWN0aW9uPmAsXG4gICAgICAgIGA8c2VjdGlvbiBpZD1cImNvbG9yc1wiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48ZGl2IGNsYXNzPVwiZW1wdHlcIj4ke2NvbW1vbl8xLmxvY2FsaXplKCdObyBjb2xvcnMgYWRkZWQhJyl9PC9kaXY+PC9zZWN0aW9uPmAsXG4gICAgICAgICc8L2FzaWRlPicsXG4gICAgICAgICc8c2VjdGlvbiBjbGFzcz1cInNjcmVlbi12aWV3ZXJcIj4nLFxuICAgICAgICAnPGRpdiBjbGFzcz1cInNjcmVlbi12aWV3ZXItaW5uZXJcIj4nLFxuICAgICAgICAnPGRpdiBpZD1cInNjcmVlblwiIGNsYXNzPVwic2NyZWVuXCI+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJydWxlcnNcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj4nLFxuICAgICAgICAnPGRpdiBpZD1cInJ2XCIgY2xhc3M9XCJydWxlciB2XCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJyaFwiIGNsYXNzPVwicnVsZXIgaFwiPjwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cImZsb3dzXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJsYXllcnNcIj48L2Rpdj4nLFxuICAgICAgICAnPGRpdiBpZD1cIm5vdGVzXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJ0ZFwiIGNsYXNzPVwiZGlzdGFuY2UgdlwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS1oZWlnaHQ9XCIzXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJyZFwiIGNsYXNzPVwiZGlzdGFuY2UgaFwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS13aWR0aD1cIlwiPjwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8ZGl2IGlkPVwiYmRcIiBjbGFzcz1cImRpc3RhbmNlIHZcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTtcIj48ZGl2IGRhdGEtaGVpZ2h0PVwiXCI+PC9kaXY+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJsZFwiIGNsYXNzPVwiZGlzdGFuY2UgaFwiIHN0eWxlPVwiZGlzcGxheTpub25lO1wiPjxkaXYgZGF0YS13aWR0aD1cIlwiPjwvZGl2PjwvZGl2PicsXG4gICAgICAgICc8L2Rpdj4nLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JyxcbiAgICAgICAgJzwvc2VjdGlvbj4nLFxuICAgICAgICAnPGFzaWRlIGlkPVwiaW5zcGVjdG9yXCIgY2xhc3M9XCJpbnNwZWN0b3JcIj48L2FzaWRlPicsXG4gICAgICAgICc8L21haW4+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJtZXNzYWdlXCIgY2xhc3M9XCJtZXNzYWdlXCI+PC9kaXY+JyxcbiAgICAgICAgJzxkaXYgaWQ9XCJjdXJzb3JcIiBjbGFzcz1cImN1cnNvclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj48L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICB6b29tXzEuem9vbSgpO1xuICAgIHVuaXRfMS51bml0KCk7XG4gICAgYXJ0Ym9hcmRzXzEuYXJ0Ym9hcmRzKCk7XG4gICAgc2xpY2VzXzEuc2xpY2VzKCk7XG4gICAgY29sb3JzXzEuY29sb3JzKCk7XG4gICAgZXZlbnRzXzEuZXZlbnRzKCk7XG4gICAgbmF2aWdhdGVfMS5uYXZpZ2F0ZUJ5VVJMSGFzaChmYWxzZSk7XG59XG5leHBvcnRzLnJlbmRlciA9IHJlbmRlcjtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvYm9yZGVycy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9ib3JkZXJzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlbmRlckJvcmRlcnMgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckJvcmRlcnMobGF5ZXJEYXRhKSB7XG4gICAgaWYgKCFsYXllckRhdGEuYm9yZGVycyB8fCAhbGF5ZXJEYXRhLmJvcmRlcnMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIGJvcmRlcnMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gbGF5ZXJEYXRhLmJvcmRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgbGV0IGJvcmRlciA9IGxheWVyRGF0YS5ib3JkZXJzW2ldO1xuICAgICAgICBib3JkZXJzLnB1c2goJzxkaXYgY2xhc3M9XCJpdGVtcy1ncm91cFwiPicsICc8aDQ+JyArIGNvbW1vbl8xLmxvY2FsaXplKGJvcmRlci5wb3NpdGlvbiArICcgQm9yZGVyJykgKyAnPC9oND4nLCAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdXZWlnaHQnKSArICc6XCI+JywgJzxsYWJlbD48aW5wdXQgaWQ9XCJmb250LWZhbWlseVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoYm9yZGVyLnRoaWNrbmVzcykgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzxsYWJlbD48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICAgICAgYm9yZGVycy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoYm9yZGVyLmZpbGxUeXBlKSArICc6XCI+Jyk7XG4gICAgICAgIGlmIChib3JkZXIuZmlsbFR5cGUudG9Mb3dlckNhc2UoKSA9PSBcImNvbG9yXCIpIHtcbiAgICAgICAgICAgIGJvcmRlcnMucHVzaChzaGFyZWRfMS5jb2xvckl0ZW0oYm9yZGVyLmNvbG9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3JkZXJzLnB1c2goJzxkaXYgY2xhc3M9XCJjb2xvcnMgZ3JhZGllbnRcIj4nKTtcbiAgICAgICAgICAgIGJvcmRlci5ncmFkaWVudC5jb2xvclN0b3BzLmZvckVhY2goZ3JhZGllbnQgPT4gYm9yZGVycy5wdXNoKHNoYXJlZF8xLmNvbG9ySXRlbShncmFkaWVudC5jb2xvcikpKTtcbiAgICAgICAgICAgIGJvcmRlcnMucHVzaCgnPC9kaXY+Jyk7XG4gICAgICAgIH1cbiAgICAgICAgYm9yZGVycy5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgYm9yZGVycy5wdXNoKCc8L2Rpdj4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnQk9SREVSUycsIGJvcmRlcnMuam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJCb3JkZXJzID0gcmVuZGVyQm9yZGVycztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2JvcmRlcnMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvY29kZVRlbXBsYXRlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvY29kZVRlbXBsYXRlLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyQ29kZVRlbXBsYXRlID0gdm9pZCAwO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBoZWxwZXJfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2V2ZW50cy9oZWxwZXIgKi8gXCIuL3VpL2V2ZW50cy9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckNvZGVUZW1wbGF0ZShsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5jc3MgfHwgIWxheWVyRGF0YS5jc3MubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIHRhYiA9IFsnPHVsIGNsYXNzPVwidGFiXCIgaWQ9XCJjb2RlLXRhYlwiID4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1jc3MtcGFuZWxcIiBkYXRhLWlkPVwiY3NzLXBhbmVsXCIgZGF0YS1jb2RlVHlwZT1cImNzc1wiPjwvbGk+JyxcbiAgICAgICAgJzxsaSBjbGFzcz1cImljb24tYW5kcm9pZC1wYW5lbFwiIGRhdGEtaWQ9XCJhbmRyb2lkLXBhbmVsXCIgZGF0YS1jb2RlVHlwZT1cImFuZHJvaWRcIiA+PC9saT4nLFxuICAgICAgICAnPGxpIGNsYXNzPVwiaWNvbi1pb3MtcGFuZWxcIiBkYXRhLWlkPVwiaW9zLXBhbmVsXCIgZGF0YS1jb2RlVHlwZT1cImlvc1wiID48L2xpPicsXG4gICAgICAgICc8L3VsPidcbiAgICBdLmpvaW4oJycpO1xuICAgIHZhciBjc3MgPSBbXG4gICAgICAgICc8ZGl2IGlkPVwiY3NzLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsXG4gICAgICAgICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIicgKyAobGF5ZXJEYXRhLmNzcy5sZW5ndGggKyAxKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArIGxheWVyRGF0YS5jc3Muam9pbihcIlxcclxcblwiKSArICc8L3RleHRhcmVhPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpO1xuICAgIHZhciBhbmRyb2lkID0gW107XG4gICAgaWYgKGxheWVyRGF0YS50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgIGFuZHJvaWQucHVzaCgnPGRpdiBpZD1cImFuZHJvaWQtcGFuZWxcIiAgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIiZsdDtUZXh0Vmlld1xcclxcblwiICsgZ2V0QW5kcm9pZFdpdGhIZWlnaHQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICBcImFuZHJvaWQ6dGV4dD1cXFwiXCIgKyBsYXllckRhdGEuY29udGVudCArIFwiXFxcIlxcclxcblwiICsgXCJhbmRyb2lkOnRleHRDb2xvcj1cXFwiXCIgKyBsYXllckRhdGEuY29sb3JbXCJhcmdiLWhleFwiXSArIFwiXFxcIlxcclxcblwiICtcbiAgICAgICAgICAgIFwiYW5kcm9pZDp0ZXh0U2l6ZT1cXFwiXCIgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEuZm9udFNpemUsIHRydWUpICsgXCJcXFwiXFxyXFxuXCIgKyBcIi8mZ3Q7XCIgKyAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzaGFwZVwiKSB7XG4gICAgICAgIGFuZHJvaWQucHVzaCgnPGRpdiBpZD1cImFuZHJvaWQtcGFuZWxcIiBjbGFzcz1cImNvZGUtaXRlbSBpdGVtXCI+JywgJzxsYWJlbD48dGV4dGFyZWEgaWQ9XCJjc3NcIiByb3dzPVwiNlwiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj4nICtcbiAgICAgICAgICAgIFwiJmx0O1ZpZXdcXHJcXG5cIiArIGdldEFuZHJvaWRXaXRoSGVpZ2h0KGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgZ2V0QW5kcm9pZFNoYXBlQmFja2dyb3VuZChsYXllckRhdGEpICtcbiAgICAgICAgICAgIFwiLyZndDtcIiArICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChsYXllckRhdGEudHlwZSA9PSBcInNsaWNlXCIpIHtcbiAgICAgICAgYW5kcm9pZC5wdXNoKCc8ZGl2IGlkPVwiYW5kcm9pZC1wYW5lbFwiIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCImbHQ7SW1hZ2VWaWV3XFxyXFxuXCIgKyBnZXRBbmRyb2lkV2l0aEhlaWdodChsYXllckRhdGEpICtcbiAgICAgICAgICAgIGdldEFuZHJvaWRJbWFnZVNyYyhsYXllckRhdGEpICsgXCIvJmd0O1wiICtcbiAgICAgICAgICAgICc8L3RleHRhcmVhPjwvbGFiZWw+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICB2YXIgaW9zID0gW107XG4gICAgaWYgKGxheWVyRGF0YS50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgIGlvcy5wdXNoKCc8ZGl2IGlkPVwiaW9zLXBhbmVsXCIgIGNsYXNzPVwiY29kZS1pdGVtIGl0ZW1cIj4nLCAnPGxhYmVsPjx0ZXh0YXJlYSBpZD1cImNzc1wiIHJvd3M9XCI2XCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicgK1xuICAgICAgICAgICAgXCJVSUxhYmVsICpsYWJlbCA9IFtbVUlMYWJlbCBhbGxvY10gaW5pdF07XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJsYWJlbC5mcmFtZSA9IENHUmVjdE1ha2UoXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC55KSArIFwiXFwsIFwiICtcbiAgICAgICAgICAgIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC53aWR0aCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgXCIpO1xcclxcblwiICtcbiAgICAgICAgICAgIFwibGFiZWwudGV4dCA9IFxcQFxcXCJcIiArIGxheWVyRGF0YS5jb250ZW50ICsgXCJcXFwiO1xcclxcblwiICtcbiAgICAgICAgICAgIFwibGFiZWwuZm9udCA9IFtVSUZvbnQgZm9udFdpdGhOYW1lOlxcQFxcXCJcIiArIGxheWVyRGF0YS5mb250RmFjZSArIFwiXFxcIiBzaXplOlwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5mb250U2l6ZSkgKyBcIl07XFxyXFxuXCIgK1xuICAgICAgICAgICAgXCJsYWJlbC50ZXh0Q29sb3IgPSBbVUlDb2xvciBjb2xvcldpdGhSZWQ6XCIgKyBsYXllckRhdGEuY29sb3IucmdiLnIgKyBcIi8yNTUuMCBncmVlbjpcIiArIGxheWVyRGF0YS5jb2xvci5yZ2IuZyArIFwiLzI1NS4wIGJsdWU6XCIgKyBsYXllckRhdGEuY29sb3IucmdiLmIgKyBcIi8yNTUuMCBhbHBoYTpcIiArIGxheWVyRGF0YS5jb2xvci5hbHBoYSArIFwiLzI1NS4wXTtcXHJcXG5cIiArXG4gICAgICAgICAgICAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzaGFwZVwiKSB7XG4gICAgICAgIGlvcy5wdXNoKCc8ZGl2IGlkPVwiaW9zLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIlVJVmlldyAqdmlldyA9IFtbVUlWaWV3IGFsbG9jXSBpbml0XTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcInZpZXcuZnJhbWUgPSBDR1JlY3RNYWtlKFwiICsgaGVscGVyXzIuc2NhbGVTaXplKGxheWVyRGF0YS5yZWN0LngpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueSkgKyBcIlxcLCBcIiArXG4gICAgICAgICAgICBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3Qud2lkdGgpICsgXCJcXCwgXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QuaGVpZ2h0KSArIFwiKTtcXHJcXG5cIiArXG4gICAgICAgICAgICBnZXRJT1NTaGFwZUJhY2tncm91bmQobGF5ZXJEYXRhKSArXG4gICAgICAgICAgICAnPC90ZXh0YXJlYT48L2xhYmVsPicsICc8L2Rpdj4nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGF5ZXJEYXRhLnR5cGUgPT0gXCJzbGljZVwiKSB7XG4gICAgICAgIGlvcy5wdXNoKCc8ZGl2IGlkPVwiaW9zLXBhbmVsXCIgY2xhc3M9XCJjb2RlLWl0ZW0gaXRlbVwiPicsICc8bGFiZWw+PHRleHRhcmVhIGlkPVwiY3NzXCIgcm93cz1cIjZcIiByZWFkb25seT1cInJlYWRvbmx5XCI+JyArXG4gICAgICAgICAgICBcIlVJSW1hZ2VWaWV3ICppbWFnZVZpZXcgPSBbW1VJSW1hZ2VWaWV3IGFsbG9jXSBpbml0XTtcXHJcXG5cIiArXG4gICAgICAgICAgICBcImltYWdlVmlldy5mcmFtZSA9IENHUmVjdE1ha2UoXCIgKyBoZWxwZXJfMi5zY2FsZVNpemUobGF5ZXJEYXRhLnJlY3QueCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC55KSArIFwiXFwsIFwiICtcbiAgICAgICAgICAgIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC53aWR0aCkgKyBcIlxcLCBcIiArIGhlbHBlcl8yLnNjYWxlU2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgXCIpO1xcclxcblwiICtcbiAgICAgICAgICAgIGdldElPU0ltYWdlU3JjKGxheWVyRGF0YSkgK1xuICAgICAgICAgICAgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLCAnPC9kaXY+Jyk7XG4gICAgfVxuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ0NPREUgVEVNUExBVEUnLCBbdGFiLCBjc3MsIGFuZHJvaWQuam9pbignJyksIGlvcy5qb2luKCcnKV0uam9pbignJyksIHRydWUpO1xufVxuZXhwb3J0cy5yZW5kZXJDb2RlVGVtcGxhdGUgPSByZW5kZXJDb2RlVGVtcGxhdGU7XG5mdW5jdGlvbiBnZXRBbmRyb2lkV2l0aEhlaWdodChsYXllckRhdGEpIHtcbiAgICByZXR1cm4gXCJhbmRyb2lkOmxheW91dF93aWR0aD1cXFwiXCIgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC53aWR0aCwgZmFsc2UpICsgXCJcXFwiXFxyXFxuXCIgKyBcImFuZHJvaWQ6bGF5b3V0X2hlaWdodD1cXFwiXCIgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQsIGZhbHNlKSArIFwiXFxcIlxcclxcblwiO1xufVxuZnVuY3Rpb24gZ2V0QW5kcm9pZFNoYXBlQmFja2dyb3VuZChsYXllckRhdGEpIHtcbiAgICB2YXIgY29sb3JDb2RlID0gXCJcIjtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gXCJzaGFwZVwiIHx8IHR5cGVvZiAobGF5ZXJEYXRhLmZpbGxzKSA9PSAndW5kZWZpbmVkJyB8fCBsYXllckRhdGEuZmlsbHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBjb2xvckNvZGU7XG4gICAgdmFyIGY7XG4gICAgZm9yIChmIGluIGxheWVyRGF0YS5maWxscykge1xuICAgICAgICBpZiAobGF5ZXJEYXRhLmZpbGxzW2ZdLmZpbGxUeXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJhbmRyb2lkOmJhY2tncm91bmQ9XFxcIlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yW1wiYXJnYi1oZXhcIl0gKyBcIlxcXCJcXHJcXG5cIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29sb3JDb2RlO1xufVxuZnVuY3Rpb24gZ2V0QW5kcm9pZEltYWdlU3JjKGxheWVyRGF0YSkge1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSBcInNsaWNlXCIgfHwgdHlwZW9mIChsYXllckRhdGEuZXhwb3J0YWJsZSkgPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIHJldHVybiBcImFuZHJvaWQ6c3JjPVxcXCJcXEBtaXBtYXAvXCIgKyBsYXllckRhdGEuZXhwb3J0YWJsZVswXS5uYW1lICsgXCIuXCIgKyBsYXllckRhdGEuZXhwb3J0YWJsZVswXS5mb3JtYXQgKyBcIlxcXCJcXHJcXG5cIjtcbn1cbmZ1bmN0aW9uIGdldElPU1NoYXBlQmFja2dyb3VuZChsYXllckRhdGEpIHtcbiAgICB2YXIgY29sb3JDb2RlID0gXCJcIjtcbiAgICBpZiAobGF5ZXJEYXRhLnR5cGUgIT0gXCJzaGFwZVwiIHx8IHR5cGVvZiAobGF5ZXJEYXRhLmZpbGxzKSA9PSAndW5kZWZpbmVkJyB8fCBsYXllckRhdGEuZmlsbHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiBjb2xvckNvZGU7XG4gICAgdmFyIGY7XG4gICAgZm9yIChmIGluIGxheWVyRGF0YS5maWxscykge1xuICAgICAgICBpZiAobGF5ZXJEYXRhLmZpbGxzW2ZdLmZpbGxUeXBlLnRvTG93ZXJDYXNlKCkgPT0gXCJjb2xvclwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ2aWV3LmJhY2tncm91bmRDb2xvciA9IFtVSUNvbG9yIGNvbG9yV2l0aFJlZDpcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvci5yZ2IuciArIFwiLzI1NS4wIGdyZWVuOlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yLnJnYi5nICsgXCIvMjU1LjAgYmx1ZTpcIiArIGxheWVyRGF0YS5maWxsc1tmXS5jb2xvci5yZ2IuYiArIFwiLzI1NS4wIGFscGhhOlwiICsgbGF5ZXJEYXRhLmZpbGxzW2ZdLmNvbG9yLmFscGhhICsgXCIvMjU1LjBdXFw7XFxyXFxuXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yQ29kZTtcbn1cbmZ1bmN0aW9uIGdldElPU0ltYWdlU3JjKGxheWVyRGF0YSkge1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSBcInNsaWNlXCIgfHwgdHlwZW9mIChsYXllckRhdGEuZXhwb3J0YWJsZSkgPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIHJldHVybiBcImltYWdlVmlldy5pbWFnZSA9IFtVSUltYWdlIGltYWdlTmFtZWQ6XFxAXFxcIlwiICsgbGF5ZXJEYXRhLmV4cG9ydGFibGVbMF0ubmFtZSArIFwiLlwiICsgbGF5ZXJEYXRhLmV4cG9ydGFibGVbMF0uZm9ybWF0ICsgXCJcXFwiXTtcXHJcXG5cIjtcbn1cblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2NvZGVUZW1wbGF0ZS50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9leHBvcnRhYmxlLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2V4cG9ydGFibGUudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyRXhwb3J0YWJsZSA9IHZvaWQgMDtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyRXhwb3J0YWJsZShsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5leHBvcnRhYmxlIHx8ICFsYXllckRhdGEuZXhwb3J0YWJsZS5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgZXhwSFRNTCA9IFtdLCBwYXRoID0gJ2Fzc2V0cy8nO1xuICAgIGV4cEhUTUwucHVzaCgnPHVsIGNsYXNzPVwiZXhwb3J0YWJsZVwiPicpO1xuICAgIGxheWVyRGF0YS5leHBvcnRhYmxlLmZvckVhY2goZXhwb3J0YWJsZSA9PiB7XG4gICAgICAgIHZhciBmaWxlUGF0aCA9IHBhdGggKyBleHBvcnRhYmxlLnBhdGg7XG4gICAgICAgIGV4cEhUTUwucHVzaCgnPGxpPicsICc8YSBocmVmPVwiJyArIGZpbGVQYXRoICsgJ1widGFyZ2V0PVwiX2JsYW5rXCIgZGF0YS1mb3JtYXQ9XCInICsgZXhwb3J0YWJsZS5mb3JtYXQudG9VcHBlckNhc2UoKSArICdcIj48aW1nIHNyYz1cIicgKyBmaWxlUGF0aCArICdcIiBhbHQ9XCInICsgZXhwb3J0YWJsZS5wYXRoICsgJ1wiPicgKyBleHBvcnRhYmxlLnBhdGgucmVwbGFjZSgnZHJhd2FibGUtJywgJycpICsgJzwvYT4nLCAnPC9saT4nKTtcbiAgICB9KTtcbiAgICBleHBIVE1MLnB1c2goJzwvdWw+Jyk7XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnRVhQT1JUQUJMRScsIGV4cEhUTUwuam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJFeHBvcnRhYmxlID0gcmVuZGVyRXhwb3J0YWJsZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2V4cG9ydGFibGUudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZmlsbHMudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZpbGxzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZW5kZXJGaWxscyA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlckZpbGxzKGxheWVyRGF0YSkge1xuICAgIGlmICghbGF5ZXJEYXRhLmZpbGxzIHx8ICFsYXllckRhdGEuZmlsbHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgdmFyIGZpbGxzID0gW107XG4gICAgbGV0IGZpbGxzRGF0YSA9IGxheWVyRGF0YS5maWxscztcbiAgICBmb3IgKGxldCBpID0gZmlsbHNEYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGxldCBmaWxsID0gZmlsbHNEYXRhW2ldO1xuICAgICAgICBmaWxscy5wdXNoKCc8ZGl2IGNsYXNzPVwiaXRlbSBpdGVtcy1ncm91cFwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoZmlsbC5maWxsVHlwZSkgKyAnOlwiPicpO1xuICAgICAgICBpZiAoZmlsbC5maWxsVHlwZS50b0xvd2VyQ2FzZSgpID09IFwiY29sb3JcIikge1xuICAgICAgICAgICAgZmlsbHMucHVzaChzaGFyZWRfMS5jb2xvckl0ZW0oZmlsbC5jb2xvcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmlsbHMucHVzaCgnPGRpdiBjbGFzcz1cImdyYWRpZW50XCI+Jyk7XG4gICAgICAgICAgICBmaWxsLmdyYWRpZW50LmNvbG9yU3RvcHMuZm9yRWFjaChncmFkaWVudCA9PiBmaWxscy5wdXNoKHNoYXJlZF8xLmNvbG9ySXRlbShncmFkaWVudC5jb2xvcikpKTtcbiAgICAgICAgICAgIGZpbGxzLnB1c2goJzwvZGl2PicpO1xuICAgICAgICB9XG4gICAgICAgIGZpbGxzLnB1c2goJzwvZGl2PicpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdGSUxMUycsIGZpbGxzLmpvaW4oJycpKTtcbn1cbmV4cG9ydHMucmVuZGVyRmlsbHMgPSByZW5kZXJGaWxscztcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZpbGxzLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZvbnQudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9pbnNwZWN0b3IvZm9udC50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZW5kZXJGb250ID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi8uLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3Qgc2hhcmVkXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NoYXJlZCAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHNcIik7XG5mdW5jdGlvbiByZW5kZXJGb250KGxheWVyRGF0YSkge1xuICAgIGlmIChsYXllckRhdGEudHlwZSAhPSAndGV4dCcpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgZm9udEZhbWlseSA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnRmFtaWx5JykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwiZm9udC1mYW1pbHlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGxheWVyRGF0YS5mb250RmFjZSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyksIHRleHRDb2xvciA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQ29sb3InKSArICc6XCI+JyxcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJjb2xvclwiPicsXG4gICAgICAgIHNoYXJlZF8xLmNvbG9ySXRlbShsYXllckRhdGEuY29sb3IpLFxuICAgICAgICAnPC9kaXY+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpLCBmb250U2l6ZSA9IChsYXllckRhdGEuZm9udFNpemUpID8gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTaXplJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwib3BhY2l0eVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLmZvbnRTaXplLCB0cnVlKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsPjwvbGFiZWw+JyxcbiAgICAgICAgJzwvZGl2PidcbiAgICBdLmpvaW4oJycpIDogJycsIHNwYWNpbmcgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1NwYWNpbmcnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdDaGFyYWN0ZXInKSArICdcIj48aW5wdXQgaWQ9XCJsZXR0ZXItc3BhY2luZ1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLmxldHRlclNwYWNpbmcsIHRydWUpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnTGluZScpICsgJ1wiPjxpbnB1dCBpZD1cImxpbmUtaGVpZ2h0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyAobGF5ZXJEYXRhLmxpbmVIZWlnaHQgPyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEubGluZUhlaWdodCwgdHJ1ZSkgOiAnQXV0bycpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSwgY29udGVudCA9IFtcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJpdGVtXCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdDb250ZW50JykgKyAnXCI+PHRleHRhcmVhIGlkPVwiY29udGVudFwiIHJvd3M9XCIyXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiIHN0eWxlPVwiZm9udC1mYW1pbHk6ICcgKyBsYXllckRhdGEuZm9udEZhY2UgKyAnLCBzYW5zLXNlcmlmXCI+JyArIGxheWVyRGF0YS5jb250ZW50ICsgJzwvdGV4dGFyZWE+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgcmV0dXJuIHNoYXJlZF8xLnByb3BlcnR5VHlwZSgnVFlQRUZBQ0UnLCBbZm9udEZhbWlseSwgdGV4dENvbG9yLCBmb250U2l6ZSwgc3BhY2luZywgY29udGVudF0uam9pbignJykpO1xufVxuZXhwb3J0cy5yZW5kZXJGb250ID0gcmVuZGVyRm9udDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL2ZvbnQudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL2luZGV4LnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pbnNwZWN0b3IgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgY29kZVRlbXBsYXRlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvZGVUZW1wbGF0ZSAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9jb2RlVGVtcGxhdGUudHNcIik7XG5jb25zdCBwcm9wZXJ0aWVzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3Byb3BlcnRpZXMgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50c1wiKTtcbmNvbnN0IHNoYWRvd3NfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhZG93cyAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFkb3dzLnRzXCIpO1xuY29uc3QgYm9yZGVyc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9ib3JkZXJzICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL2JvcmRlcnMudHNcIik7XG5jb25zdCBmb250XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZvbnQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZm9udC50c1wiKTtcbmNvbnN0IGV4cG9ydGFibGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXhwb3J0YWJsZSAqLyBcIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9leHBvcnRhYmxlLnRzXCIpO1xuY29uc3QgZmlsbHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZmlsbHMgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3IvZmlsbHMudHNcIik7XG5mdW5jdGlvbiBpbnNwZWN0b3IoKSB7XG4gICAgaWYgKGNvbW1vbl8xLnN0YXRlLnNlbGVjdGVkSW5kZXggPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAoIWNvbW1vbl8xLnN0YXRlLmN1cnJlbnQgJiYgIWNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzICYmICFjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVyc1tjb21tb25fMS5zdGF0ZS5zZWxlY3RlZEluZGV4XSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgbGF5ZXJEYXRhID0gY29tbW9uXzEuc3RhdGUuY3VycmVudC5sYXllcnNbY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleF07XG4gICAgbGV0IGh0bWwgPSBbXG4gICAgICAgICc8aDI+JyArIGxheWVyRGF0YS5uYW1lICsgJzwvaDI+JyxcbiAgICAgICAgcHJvcGVydGllc18xLnJlbmRlclByb3BlcnRpZXMobGF5ZXJEYXRhKSxcbiAgICAgICAgZmlsbHNfMS5yZW5kZXJGaWxscyhsYXllckRhdGEpLFxuICAgICAgICBmb250XzEucmVuZGVyRm9udChsYXllckRhdGEpLFxuICAgICAgICBib3JkZXJzXzEucmVuZGVyQm9yZGVycyhsYXllckRhdGEpLFxuICAgICAgICBzaGFkb3dzXzEucmVuZGVyU2hhZG93cyhsYXllckRhdGEpLFxuICAgICAgICBjb2RlVGVtcGxhdGVfMS5yZW5kZXJDb2RlVGVtcGxhdGUobGF5ZXJEYXRhKSxcbiAgICAgICAgZXhwb3J0YWJsZV8xLnJlbmRlckV4cG9ydGFibGUobGF5ZXJEYXRhKSxcbiAgICBdO1xuICAgIGxldCBpbnNwZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zcGVjdG9yJyk7XG4gICAgaW5zcGVjdG9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGluc3BlY3Rvci5pbm5lckhUTUwgPSBodG1sLmpvaW4oJycpO1xuICAgIC8vIHNlbGVjdCBwcmV2aW91c2x5IHVzZWQgdGFiXG4gICAgbGV0IGxpID0gaW5zcGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWNvZGVUeXBlPScgKyBjb21tb25fMS5zdGF0ZS5jb2RlVHlwZSArICddJyk7XG4gICAgaWYgKGxpKSB7XG4gICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xuICAgICAgICBpbnNwZWN0b3IucXVlcnlTZWxlY3RvcihcIiNcIiArIGxpLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKS5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgICB9XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2NvZGUtdGFiIGxpJykuZm9yRWFjaChsaSA9PiBsaS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcztcbiAgICAgICAgbGV0IGlkID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xuICAgICAgICBjb21tb25fMS5zdGF0ZS5jb2RlVHlwZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29kZVR5cGUnKTtcbiAgICAgICAgdGFyZ2V0LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcignbGkuc2VsZWN0JykuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0Jyk7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKCdzZWxlY3QnKTtcbiAgICAgICAgKF9hID0gaW5zcGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5pdGVtLnNlbGVjdCcpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0Jyk7XG4gICAgICAgIGluc3BlY3Rvci5xdWVyeVNlbGVjdG9yKFwiI1wiICsgaWQpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdCcpO1xuICAgIH0pKTtcbn1cbmV4cG9ydHMuaW5zcGVjdG9yID0gaW5zcGVjdG9yO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvaW5kZXgudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9wcm9wZXJ0aWVzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlbmRlclByb3BlcnRpZXMgPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5jb25zdCBzaGFyZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2hhcmVkICovIFwiLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50c1wiKTtcbmZ1bmN0aW9uIHJlbmRlclByb3BlcnRpZXMobGF5ZXJEYXRhKSB7XG4gICAgbGV0IHBvc2l0aW9uID0gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdQb3NpdGlvbicpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1gnKSArICdcIj48aW5wdXQgaWQ9XCJwb3NpdGlvbi14XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC54KSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1knKSArICdcIj48aW5wdXQgaWQ9XCJwb3NpdGlvbi15XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC55KSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPC9kaXY+J1xuICAgIF0uam9pbignJyk7XG4gICAgbGV0IHNpemUgPSBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1NpemUnKSArICc6XCI+JyxcbiAgICAgICAgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdXaWR0aCcpICsgJ1wiPjxpbnB1dCBpZD1cInNpemUtd2lkdGhcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKGxheWVyRGF0YS5yZWN0LndpZHRoKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLFxuICAgICAgICAnPGxhYmVsIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0hlaWdodCcpICsgJ1wiPjxpbnB1dCBpZD1cInNpemUtaGVpZ2h0XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShsYXllckRhdGEucmVjdC5oZWlnaHQpICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbiAgICBsZXQgb3BhY2l0eSA9ICh0eXBlb2YgbGF5ZXJEYXRhLm9wYWNpdHkgPT0gJ251bWJlcicpID8gW1xuICAgICAgICAnPGRpdiBjbGFzcz1cIml0ZW1cIiBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdPcGFjaXR5JykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwib3BhY2l0eVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgTWF0aC5yb3VuZChsYXllckRhdGEub3BhY2l0eSAqIDEwMDAwKSAvIDEwMCArICclXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbD48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnO1xuICAgIGxldCByYWRpdXMgPSAobGF5ZXJEYXRhLnJhZGl1cykgPyBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1JhZGl1cycpICsgJzpcIj4nLFxuICAgICAgICAnPGxhYmVsPjxpbnB1dCBpZD1cInJhZGl1c1wiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUobGF5ZXJEYXRhLnJhZGl1c1swXSkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JyxcbiAgICAgICAgJzxsYWJlbD48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnO1xuICAgIGxldCBzdHlsZU5hbWUgPSAobGF5ZXJEYXRhLnN0eWxlTmFtZSkgPyBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ1N0eWxlJykgKyAnOlwiPicsXG4gICAgICAgICc8bGFiZWw+PGlucHV0IGlkPVwic3R5bGVOYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBsYXllckRhdGEuc3R5bGVOYW1lICsgJ1wiIHJlYWRvbmx5PVwicmVhZG9ubHlcIj48L2xhYmVsPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKSA6ICcnO1xuICAgIHJldHVybiBzaGFyZWRfMS5wcm9wZXJ0eVR5cGUoJ1BST1BFUlRJRVMnLCBbcG9zaXRpb24sIHNpemUsIG9wYWNpdHksIHJhZGl1cywgc3R5bGVOYW1lXS5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlclByb3BlcnRpZXMgPSByZW5kZXJQcm9wZXJ0aWVzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3IvcHJvcGVydGllcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFkb3dzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXAogICEqKiogLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYWRvd3MudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVuZGVyU2hhZG93cyA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IHNoYXJlZF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zaGFyZWQgKi8gXCIuL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhcmVkLnRzXCIpO1xuZnVuY3Rpb24gcmVuZGVyU2hhZG93cyhsYXllckRhdGEpIHtcbiAgICBpZiAoIWxheWVyRGF0YS5zaGFkb3dzIHx8ICFsYXllckRhdGEuc2hhZG93cy5sZW5ndGgpXG4gICAgICAgIHJldHVybiAnJztcbiAgICB2YXIgc2hhZG93cyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSBsYXllckRhdGEuc2hhZG93cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgc2hhZG93ID0gbGF5ZXJEYXRhLnNoYWRvd3NbaV07XG4gICAgICAgIHNoYWRvd3MucHVzaCgnPGRpdiBjbGFzcz1cIml0ZW1zLWdyb3VwXCI+JywgJzxoND4nICsgY29tbW9uXzEubG9jYWxpemUoc2hhZG93LnR5cGUgKyAnIFNoYWRvdycpICsgJzwvaDQ+JywgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnT2Zmc2V0JykgKyAnOlwiPicsICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnWCcpICsgJ1wiPjxpbnB1dCBpZD1cIm9mZnNldC14XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShzaGFkb3cub2Zmc2V0WCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdZJykgKyAnXCI+PGlucHV0IGlkPVwib2Zmc2V0LXlcIiB0eXBlPVwidGV4dFwiIHZhbHVlPVwiJyArIGhlbHBlcl8xLnVuaXRTaXplKHNoYWRvdy5vZmZzZXRZKSArICdcIiByZWFkb25seT1cInJlYWRvbmx5XCI+PC9sYWJlbD4nLCAnPC9kaXY+JywgJzxkaXYgY2xhc3M9XCJpdGVtXCIgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnRWZmZWN0JykgKyAnOlwiPicsICc8bGFiZWwgZGF0YS1sYWJlbD1cIicgKyBjb21tb25fMS5sb2NhbGl6ZSgnQmx1cicpICsgJ1wiPjxpbnB1dCBpZD1cIm9mZnNldC14XCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBoZWxwZXJfMS51bml0U2l6ZShzaGFkb3cuYmx1clJhZGl1cykgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzxsYWJlbCBkYXRhLWxhYmVsPVwiJyArIGNvbW1vbl8xLmxvY2FsaXplKCdTcHJlYWQnKSArICdcIj48aW5wdXQgaWQ9XCJvZmZzZXQteVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgaGVscGVyXzEudW5pdFNpemUoc2hhZG93LnNwcmVhZCkgKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPjwvbGFiZWw+JywgJzwvZGl2PicsICc8ZGl2IGNsYXNzPVwiaXRlbVwiIGRhdGEtbGFiZWw9XCInICsgY29tbW9uXzEubG9jYWxpemUoJ0NvbG9yJykgKyAnOlwiPicsIHNoYXJlZF8xLmNvbG9ySXRlbShzaGFkb3cuY29sb3IpLCAnPC9kaXY+JywgJzwvZGl2PicpO1xuICAgIH1cbiAgICByZXR1cm4gc2hhcmVkXzEucHJvcGVydHlUeXBlKCdTSEFET1dTJywgc2hhZG93cy5qb2luKCcnKSk7XG59XG5leHBvcnRzLnJlbmRlclNoYWRvd3MgPSByZW5kZXJTaGFkb3dzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9pbnNwZWN0b3Ivc2hhZG93cy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL2luc3BlY3Rvci9zaGFyZWQudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wcm9wZXJ0eVR5cGUgPSBleHBvcnRzLmNvbG9ySXRlbSA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBjb21tb25fMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuZnVuY3Rpb24gY29sb3JJdGVtKGNvbG9yKSB7XG4gICAgdmFyIGNvbG9yTmFtZSA9IChjb21tb25fMi5wcm9qZWN0LmNvbG9yTmFtZXMpID8gY29tbW9uXzIucHJvamVjdC5jb2xvck5hbWVzW2NvbG9yWydhcmdiLWhleCddXSA6ICcnO1xuICAgIGNvbG9yTmFtZSA9IChjb2xvck5hbWUpID8gJyBkYXRhLW5hbWU9XCInICsgY29sb3JOYW1lICsgJ1wiJyA6ICcnO1xuICAgIHJldHVybiBbXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JcIicgKyBjb2xvck5hbWUgKyAnPicsXG4gICAgICAgICc8bGFiZWw+PGVtPjxpIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjonICsgY29sb3JbJ2Nzcy1yZ2JhJ10gKyAnO1wiPjwvaT48L2VtPjwvbGFiZWw+PGlucHV0IGRhdGEtY29sb3I9XCInICsgZW5jb2RlVVJJKEpTT04uc3RyaW5naWZ5KGNvbG9yKSkgKyAnXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicgKyBjb2xvcltjb21tb25fMS5zdGF0ZS5jb2xvckZvcm1hdF0gKyAnXCIgcmVhZG9ubHk9XCJyZWFkb25seVwiPicsXG4gICAgICAgICc8L2Rpdj4nXG4gICAgXS5qb2luKCcnKTtcbn1cbmV4cG9ydHMuY29sb3JJdGVtID0gY29sb3JJdGVtO1xuZnVuY3Rpb24gcHJvcGVydHlUeXBlKHRpdGxlLCBjb250ZW50LCBpc0NvZGUpIHtcbiAgICB2YXIgbm9wYWRkaW5nID0gaXNDb2RlID8gJyBzdHlsZT1cInBhZGRpbmc6MFwiJyA6ICcnO1xuICAgIHJldHVybiBbJzxzZWN0aW9uPicsXG4gICAgICAgICc8aDM+JyArIGNvbW1vbl8yLmxvY2FsaXplKHRpdGxlKSArICc8L2gzPicsXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiY29udGV4dFwiJyArIG5vcGFkZGluZyArICc+JyxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICc8L3NlY3Rpb24+J1xuICAgIF0uam9pbignJyk7XG59XG5leHBvcnRzLnByb3BlcnR5VHlwZSA9IHByb3BlcnR5VHlwZTtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvaW5zcGVjdG9yL3NoYXJlZC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL2xheWVycy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9sYXllcnMudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxheWVycyA9IGV4cG9ydHMuTWFwQXJ0Ym9hcmRJRFRvSW5kZXggPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NvbW1vbiAqLyBcIi4vdWkvY29tbW9uLnRzXCIpO1xuY29uc3QgaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2hlbHBlciAqLyBcIi4vdWkvcmVuZGVyL2hlbHBlci50c1wiKTtcbmNvbnN0IGludGVyZmFjZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uLy4uL3NyYy9tZWF4dXJlL2ludGVyZmFjZXMgKi8gXCIuL3NyYy9tZWF4dXJlL2ludGVyZmFjZXMudHNcIik7XG5leHBvcnRzLk1hcEFydGJvYXJkSURUb0luZGV4ID0gdW5kZWZpbmVkO1xuZnVuY3Rpb24gbGF5ZXJzKCkge1xuICAgIHNwZWNMYXllcnMoKTtcbiAgICBmbG93TGF5ZXJzKCk7XG59XG5leHBvcnRzLmxheWVycyA9IGxheWVycztcbmZ1bmN0aW9uIHNwZWNMYXllcnMoKSB7XG4gICAgbGV0IGxheWVyc0hUTUwgPSBbXTtcbiAgICBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmxheWVycy5mb3JFYWNoKChsYXllciwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGxheWVyLnR5cGUgPT0gaW50ZXJmYWNlc18xLlNNVHlwZS5ncm91cCB8fCBsYXllci50eXBlID09IGludGVyZmFjZXNfMS5TTVR5cGUuaG90c3BvdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IHggPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LngpO1xuICAgICAgICBsZXQgeSA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QueSk7XG4gICAgICAgIGxldCB3aWR0aCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3Qud2lkdGgpO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC5oZWlnaHQpO1xuICAgICAgICBsZXQgY2xhc3NOYW1lcyA9IFsnbGF5ZXInXTtcbiAgICAgICAgY2xhc3NOYW1lcy5wdXNoKCdsYXllci0nICsgbGF5ZXIub2JqZWN0SUQpO1xuICAgICAgICBpZiAoY29tbW9uXzEuc3RhdGUuc2VsZWN0ZWRJbmRleCA9PSBpbmRleClcbiAgICAgICAgICAgIGNsYXNzTmFtZXMucHVzaCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgbGF5ZXJzSFRNTC5wdXNoKFtgXG48ZGl2IGlkPVwibGF5ZXItJHtpbmRleH1cIiBcbiAgICBjbGFzcz1cIiR7Y2xhc3NOYW1lcy5qb2luKCcgJyl9XCIgZGF0YS1pbmRleD1cIiR7aW5kZXh9XCJcbiAgICBwZXJjZW50YWdlLXdpZHRoPVwiJHtoZWxwZXJfMS5wZXJjZW50YWdlU2l6ZShsYXllci5yZWN0LndpZHRoLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoKX1cIiBcbiAgICBwZXJjZW50YWdlLWhlaWdodD1cIiR7aGVscGVyXzEucGVyY2VudGFnZVNpemUobGF5ZXIucmVjdC5oZWlnaHQsIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaGVpZ2h0KX1cIiBcbiAgICBkYXRhLXdpZHRoPVwiJHtoZWxwZXJfMS51bml0U2l6ZShsYXllci5yZWN0LndpZHRoKX1cIiBcbiAgICBkYXRhLWhlaWdodD1cIiR7aGVscGVyXzEudW5pdFNpemUobGF5ZXIucmVjdC5oZWlnaHQpfVwiIFxuICAgIHN0eWxlPVwibGVmdDogJHt4fXB4OyB0b3A6ICR7eX1weDsgd2lkdGg6ICR7d2lkdGh9cHg7IGhlaWdodDogJHtoZWlnaHR9cHg7XCJcbj5cbjxkaXYgY2xhc3M9J2l0ZW1OYW1lICR7bGF5ZXIubmFtZS50b0xvd2VyQ2FzZSgpfSc+JHtsYXllci5uYW1lLnRvTG93ZXJDYXNlKCl9PC9kaXY+XG4gICAgPGkgY2xhc3M9XCJ0bFwiPjwvaT48aSBjbGFzcz1cInRyXCI+PC9pPjxpIGNsYXNzPVwiYmxcIj48L2k+PGkgY2xhc3M9XCJiclwiPjwvaT5cbiAgICA8YiBjbGFzcz1cImV0IGhcIj48L2I+PGIgY2xhc3M9XCJlciB2XCI+PC9iPjxiIGNsYXNzPVwiZWIgaFwiPjwvYj48YiBjbGFzcz1cImVsIHZcIj48L2I+XG48L2Rpdj5gXS5qb2luKCcnKSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xheWVycycpLmlubmVySFRNTCA9IGxheWVyc0hUTUwuam9pbignJyk7XG59XG5mdW5jdGlvbiBmbG93TGF5ZXJzKCkge1xuICAgIGV4cG9ydHMuTWFwQXJ0Ym9hcmRJRFRvSW5kZXggPSBjb21tb25fMS5wcm9qZWN0LmFydGJvYXJkcy5yZWR1Y2UoKHAsIGMsIGkpID0+IHtcbiAgICAgICAgcFtjLm9iamVjdElEXSA9IGk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH0sIHsgJ2JhY2snOiAtMSB9KTtcbiAgICBsZXQgbGF5ZXJzSFRNTCA9IFtdO1xuICAgIGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQubGF5ZXJzLmZpbHRlcihsYXllciA9PiBsYXllci5mbG93ICYmIGV4cG9ydHMuTWFwQXJ0Ym9hcmRJRFRvSW5kZXhbbGF5ZXIuZmxvdy50YXJnZXRJZF0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgLmZvckVhY2goKGxheWVyLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgeCA9IGhlbHBlcl8xLnpvb21TaXplKGxheWVyLnJlY3QueCk7XG4gICAgICAgIGxldCB5ID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC55KTtcbiAgICAgICAgbGV0IHdpZHRoID0gaGVscGVyXzEuem9vbVNpemUobGF5ZXIucmVjdC53aWR0aCk7XG4gICAgICAgIGxldCBoZWlnaHQgPSBoZWxwZXJfMS56b29tU2l6ZShsYXllci5yZWN0LmhlaWdodCk7XG4gICAgICAgIGxldCBjbGFzc05hbWVzID0gWydmbG93J107XG4gICAgICAgIGxheWVyc0hUTUwucHVzaChbYFxuPGRpdiBjbGFzcz1cIiR7Y2xhc3NOYW1lcy5qb2luKCcgJyl9XCJcbiAgICBkYXRhLWZsb3ctdGFyZ2V0PVwiJHtsYXllci5mbG93LnRhcmdldElkfVwiXG4gICAgc3R5bGU9XCJsZWZ0OiAke3h9cHg7IHRvcDogJHt5fXB4OyB3aWR0aDogJHt3aWR0aH1weDsgaGVpZ2h0OiAke2hlaWdodH1weDtcIlxuPjwvZGl2PmBdLmpvaW4oJycpKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmxvd3MnKS5pbm5lckhUTUwgPSBsYXllcnNIVE1MLmpvaW4oJycpO1xufVxuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9sYXllcnMudHM/Iik7CgovKioqLyB9KSwKCi8qKiovICIuL3VpL3JlbmRlci9ub3Rlcy50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL25vdGVzLnRzICoqKiEKICBcKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm5vdGVzID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5mdW5jdGlvbiBub3RlcygpIHtcbiAgICB2YXIgbm90ZXNIVE1MID0gW107XG4gICAgY29tbW9uXzEuc3RhdGUuY3VycmVudC5ub3Rlcy5mb3JFYWNoKChub3RlLCBpbmRleCkgPT4ge1xuICAgICAgICBub3Rlc0hUTUwucHVzaCgnPGRpdiBjbGFzcz1cIm5vdGVcIiBkYXRhLWluZGV4PVwiJyArIChpbmRleCArIDEpICsgJ1wiIHN0eWxlPVwibGVmdDogJyArIGhlbHBlcl8xLnpvb21TaXplKG5vdGUucmVjdC54KSArICdweDsgdG9wOiAnICsgaGVscGVyXzEuem9vbVNpemUobm90ZS5yZWN0LnkpICsgJ3B4O1wiPjxkaXYgc3R5bGU9XCJ3aGl0ZS1zcGFjZTpub3dyYXA7ZGlzcGxheTpub25lO1wiPicgKyBub3RlLm5vdGUgKyAnPC9kaXY+PC9kaXY+Jyk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25vdGVzJykuaW5uZXJIVE1MID0gbm90ZXNIVE1MLmpvaW4oJycpO1xufVxuZXhwb3J0cy5ub3RlcyA9IG5vdGVzO1xuXG5cbi8vIyBzb3VyY2VVUkw9d2VicGFjazovLy8uL3VpL3JlbmRlci9ub3Rlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3NjcmVlbi50cyI6Ci8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcCiAgISoqKiAuL3VpL3JlbmRlci9zY3JlZW4udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi8KLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKZXZhbCgiXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnVwZGF0ZVNjcmVlbiA9IHZvaWQgMDtcbmNvbnN0IGNvbW1vbl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5jb25zdCBoZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaGVscGVyICovIFwiLi91aS9yZW5kZXIvaGVscGVyLnRzXCIpO1xuY29uc3QgZmxvd18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzL2Zsb3cgKi8gXCIuL3VpL2V2ZW50cy9mbG93LnRzXCIpO1xuZnVuY3Rpb24gdXBkYXRlU2NyZWVuKHJlc2V0U2Nyb2xsID0gZmFsc2UpIHtcbiAgICBsZXQgaW1hZ2VEYXRhID0gKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaW1hZ2VCYXNlNjQpID8gY29tbW9uXzEuc3RhdGUuY3VycmVudC5pbWFnZUJhc2U2NCA6IGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQuaW1hZ2VQYXRoICsgJz8nICsgY29tbW9uXzEudGltZXN0YW1wO1xuICAgIGxldCBzY3JlZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2NyZWVuJyk7XG4gICAgbGV0IHZpZXdlcklubmVyID0gc2NyZWVuLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IHZpZXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJyk7XG4gICAgc2NyZWVuLnN0eWxlLndpZHRoID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC53aWR0aCkgKyAncHgnO1xuICAgIHNjcmVlbi5zdHlsZS5oZWlnaHQgPSBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkgKyAncHgnO1xuICAgIHNjcmVlbi5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGRkYgdXJsKCcgKyBpbWFnZURhdGEgKyAnKSBuby1yZXBlYXQnO1xuICAgIHNjcmVlbi5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpICsgJ3B4ICcgKyBoZWxwZXJfMS56b29tU2l6ZShjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCkgKyAncHgnO1xuICAgIC8vIHZpZXdlciBzaXplXG4gICAgbGV0IG1heFNpemUgPSBNYXRoLm1heChjb21tb25fMS5zdGF0ZS5jdXJyZW50LndpZHRoLCBjb21tb25fMS5zdGF0ZS5jdXJyZW50LmhlaWdodCwgdmlld2VyLmNsaWVudFdpZHRoLCB2aWV3ZXIuY2xpZW50SGVpZ2h0KSAqIDU7XG4gICAgaWYgKGZsb3dfMS5mbG93TW9kZSkge1xuICAgICAgICB2aWV3ZXJJbm5lci5zdHlsZS53aWR0aCA9IGhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGgpICsgJ3B4JztcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUuaGVpZ2h0ID0gaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQpICsgJ3B4JztcbiAgICAgICAgc2NyZWVuLnN0eWxlLm1hcmdpbkxlZnQgPSAnMCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5Ub3AgPSAnMCc7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY3JlZW4tdmlld2VyJykuc2Nyb2xsVG9wID0gMDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUud2lkdGggPSBtYXhTaXplICsgJ3B4JztcbiAgICAgICAgdmlld2VySW5uZXIuc3R5bGUuaGVpZ2h0ID0gbWF4U2l6ZSArICdweCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5MZWZ0ID0gLWhlbHBlcl8xLnpvb21TaXplKGNvbW1vbl8xLnN0YXRlLmN1cnJlbnQud2lkdGggLyAyKSArICdweCc7XG4gICAgICAgIHNjcmVlbi5zdHlsZS5tYXJnaW5Ub3AgPSAtaGVscGVyXzEuem9vbVNpemUoY29tbW9uXzEuc3RhdGUuY3VycmVudC5oZWlnaHQgLyAyKSArICdweCc7XG4gICAgfVxuICAgIC8vIHNldCBzY3JvbGxcbiAgICBpZiAocmVzZXRTY3JvbGwpIHtcbiAgICAgICAgdmlld2VyLnNjcm9sbExlZnQgPSBmbG93XzEuZmxvd01vZGUgPyAwIDogKG1heFNpemUgLSB2aWV3ZXIuY2xpZW50V2lkdGgpIC8gMjtcbiAgICAgICAgbGV0IHN1aXRIaWdodCA9IHNjcmVlbi5jbGllbnRIZWlnaHQgPiB2aWV3ZXIuY2xpZW50SGVpZ2h0ID8gc2NyZWVuLmNsaWVudEhlaWdodCA6IHZpZXdlci5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHZpZXdlci5zY3JvbGxUb3AgPSBmbG93XzEuZmxvd01vZGUgPyAwIDogKG1heFNpemUgLSBzdWl0SGlnaHQpIC8gMjtcbiAgICB9XG59XG5leHBvcnRzLnVwZGF0ZVNjcmVlbiA9IHVwZGF0ZVNjcmVlbjtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvc2NyZWVuLnRzPyIpOwoKLyoqKi8gfSksCgovKioqLyAiLi91aS9yZW5kZXIvc2xpY2VzLnRzIjoKLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3NsaWNlcy50cyAqKiohCiAgXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwovKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwpldmFsKCJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2xpY2VzID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGhlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9oZWxwZXIgKi8gXCIuL3VpL3JlbmRlci9oZWxwZXIudHNcIik7XG5mdW5jdGlvbiBzbGljZXMoKSB7XG4gICAgaWYgKCFjb21tb25fMS5wcm9qZWN0LnNsaWNlcykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBzbGljZUxpc3RIVE1MID0gW107XG4gICAgc2xpY2VMaXN0SFRNTC5wdXNoKCc8dWwgY2xhc3M9XCJhc3NldC1saXN0XCI+Jyk7XG4gICAgY29tbW9uXzEucHJvamVjdC5zbGljZXMuZm9yRWFjaChzbGljZUxheWVyID0+IHtcbiAgICAgICAgaWYgKHNsaWNlTGF5ZXIuZXhwb3J0YWJsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgYXNzZXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNsaWNlTGF5ZXIuZXhwb3J0YWJsZSkpLnBvcCgpO1xuICAgICAgICAgICAgc2xpY2VMaXN0SFRNTC5wdXNoKCc8bGkgaWQ9XCJzbGljZS0nICsgc2xpY2VMYXllci5vYmplY3RJRCArICdcIiBjbGFzcz1cInNsaWNlLWxheWVyXCIgZGF0YS1vYmplY3RJZD1cIicgKyBzbGljZUxheWVyLm9iamVjdElEICsgJ1wiPicsICc8cGljdHVyZT48aW1nIHNyYz1cIicgKyAnYXNzZXRzLycgKyBhc3NldC5wYXRoICsgJ1wiIGFsdD1cIlwiPjwvcGljdHVyZT4nLCAnPGRpdj4nLCAnPGgzPicgKyBzbGljZUxheWVyLm5hbWUgKyAnPC9oMz4nLCAnPHNtYWxsPicgKyBoZWxwZXJfMS51bml0U2l6ZShzbGljZUxheWVyLnJlY3Qud2lkdGgpICsgJyDDlyAnICsgaGVscGVyXzEudW5pdFNpemUoc2xpY2VMYXllci5yZWN0LmhlaWdodCkgKyAnPC9zbWFsbD4nLCAnPC9kaXY+JywgJzwvbGk+Jyk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBzbGljZUxpc3RIVE1MLnB1c2goJzwvdWw+Jyk7XG4gICAgaWYgKGNvbW1vbl8xLnByb2plY3Quc2xpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NsaWNlcycpLmlubmVySFRNTCA9IHNsaWNlTGlzdEhUTUwuam9pbignJyk7XG4gICAgfVxufVxuZXhwb3J0cy5zbGljZXMgPSBzbGljZXM7XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL3NsaWNlcy50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3VuaXQudHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3VuaXQudHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51bml0ID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmNvbnN0IGNvbW1vbl8yID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY29tbW9uICovIFwiLi91aS9jb21tb24udHNcIik7XG5mdW5jdGlvbiB1bml0KCkge1xuICAgIGxldCB1bml0c0RhdGEgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdEZXZpY2Ugc3dpdGNoJyksXG4gICAgICAgICAgICB1bml0czogW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ1dlYiBWaWV3JykgKyAnIC0gcHgnLCB1bml0OiAncHgnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ2lPUyBEZXZpY2VzJykgKyAnIC0gcHQnLCB1bml0OiAncHQnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ0FuZHJvaWQgRGV2aWNlcycpICsgJyAtIGRwL3NwJywgdW5pdDogJ2RwL3NwJywgc2NhbGU6IDEgfSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogY29tbW9uXzIubG9jYWxpemUoJ0NvbnZlcnQgdG8gcGl4ZWxzJyksXG4gICAgICAgICAgICB1bml0czogW1xuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lPUyAnICsgY29tbW9uXzIubG9jYWxpemUoJ1BvaW50cycpICsgJyBAMXgnLCB1bml0OiAncHgnLCBzY2FsZTogMSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lPUyAnICsgY29tbW9uXzIubG9jYWxpemUoJ1JldGluYScpICsgJyBAMngnLCB1bml0OiAncHgnLCBzY2FsZTogMiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0lPUyAnICsgY29tbW9uXzIubG9jYWxpemUoJ1JldGluYSBIRCcpICsgJyBAM3gnLCB1bml0OiAncHgnLCBzY2FsZTogMyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgTERQSSBAMC43NXgnLCB1bml0OiAncHgnLCBzY2FsZTogLjc1IH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBNRFBJIEAxeCcsIHVuaXQ6ICdweCcsIHNjYWxlOiAxIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQW5kcm9pZCBIRFBJIEAxLjV4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDEuNSB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgWEhEUEkgQDJ4JywgdW5pdDogJ3B4Jywgc2NhbGU6IDIgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdBbmRyb2lkIFhYSERQSSBAM3gnLCB1bml0OiAncHgnLCBzY2FsZTogMyB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0FuZHJvaWQgWFhYSERQSSBANHgnLCB1bml0OiAncHgnLCBzY2FsZTogNCB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IGNvbW1vbl8yLmxvY2FsaXplKCdDb252ZXJ0IHRvIG90aGVycycpLFxuICAgICAgICAgICAgdW5pdHM6IFtcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDhweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDggfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDEwcHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyAxMCB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ0NTUyBSZW0gMTJweCcsIHVuaXQ6ICdyZW0nLCBzY2FsZTogMSAvIDEyIH0sXG4gICAgICAgICAgICAgICAgeyBuYW1lOiAnQ1NTIFJlbSAxNHB4JywgdW5pdDogJ3JlbScsIHNjYWxlOiAxIC8gMTQgfSxcbiAgICAgICAgICAgICAgICB7IG5hbWU6ICdDU1MgUmVtIDE2cHgnLCB1bml0OiAncmVtJywgc2NhbGU6IDEgLyAxNiB9LFxuICAgICAgICAgICAgICAgIHsgbmFtZTogJ1VidW50dSBHcmlkJywgdW5pdDogJ2d1Jywgc2NhbGU6IDEgLyAyNyB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICBdO1xuICAgIGxldCB1bml0SHRtbCA9IFtdO1xuICAgIGxldCB1bml0TGlzdCA9IFtdO1xuICAgIGxldCB1bml0Q3VycmVudCA9ICcnO1xuICAgIGxldCBoYXNDdXJyZW50ID0gJyc7XG4gICAgdW5pdHNEYXRhLmZvckVhY2goZGF0YSA9PiB7XG4gICAgICAgIGlmIChkYXRhLm5hbWUpXG4gICAgICAgICAgICB1bml0TGlzdC5wdXNoKCc8bGkgY2xhc3M9XCJzdWItdGl0bGVcIj4nICsgY29tbW9uXzIubG9jYWxpemUoZGF0YS5uYW1lKSArICc8L2xpPicpO1xuICAgICAgICBkYXRhLnVuaXRzLmZvckVhY2godW5pdCA9PiB7XG4gICAgICAgICAgICB2YXIgY2hlY2tlZCA9ICcnO1xuICAgICAgICAgICAgaWYgKCFoYXNDdXJyZW50ICYmIHVuaXQudW5pdCA9PSBjb21tb25fMS5zdGF0ZS51bml0KSB7XG4gICAgICAgICAgICAgICAgY2hlY2tlZCA9ICcgY2hlY2tlZD1cImNoZWNrZWRcIic7XG4gICAgICAgICAgICAgICAgaGFzQ3VycmVudCA9IGNvbW1vbl8yLmxvY2FsaXplKHVuaXQubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1bml0TGlzdC5wdXNoKCc8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmVzb2x1dGlvblwiIGRhdGEtbmFtZT1cIicgKyBjb21tb25fMi5sb2NhbGl6ZSh1bml0Lm5hbWUpICtcbiAgICAgICAgICAgICAgICAnXCIgZGF0YS11bml0PVwiJyArIHVuaXQudW5pdCArXG4gICAgICAgICAgICAgICAgJ1wiIGRhdGEtc2NhbGU9XCInICsgdW5pdC5zY2FsZSArICdcIicgKyBjaGVja2VkICtcbiAgICAgICAgICAgICAgICAnPjxzcGFuPicgKyBjb21tb25fMi5sb2NhbGl6ZSh1bml0Lm5hbWUpICsgJzwvc3Bhbj48L2xhYmVsPjwvbGk+Jyk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIGlmICghaGFzQ3VycmVudCkge1xuICAgIC8vICAgICB1bml0Q3VycmVudCA9ICc8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwicmVzb2x1dGlvblwiIGRhdGEtbmFtZT1cIicgKyBsb2NhbGl6ZSgnQ3VzdG9tJykgK1xuICAgIC8vICAgICAgICAgJyAoJyArIHN0YXRlLnNjYWxlICsgJywgJyArIHN0YXRlLnVuaXQgKyAnKVwiIGRhdGEtdW5pdD1cIicgKyBzdGF0ZS51bml0ICtcbiAgICAvLyAgICAgICAgICdcIiBkYXRhLXNjYWxlPVwiJyArIHN0YXRlLnNjYWxlICtcbiAgICAvLyAgICAgICAgICdcIiBjaGVja2VkPVwiY2hlY2tlZFwiPjxzcGFuPicgKyBsb2NhbGl6ZSgnQ3VzdG9tJykgKyAnICgnICsgc3RhdGUuc2NhbGUgKyAnLCAnICsgc3RhdGUudW5pdCArICcpPC9zcGFuPjwvbGFiZWw+PC9saT4nO1xuICAgIC8vICAgICBoYXNDdXJyZW50ID0gbG9jYWxpemUoJ0N1c3RvbScpICsgJyAoJyArIHN0YXRlLnNjYWxlICsgJywgJyArIHN0YXRlLnVuaXQgKyAnKSc7XG4gICAgLy8gfVxuICAgIHVuaXRIdG1sLnB1c2goJzxkaXYgY2xhc3M9XCJvdmVybGF5XCI+PC9kaXY+JywgJzxoMz4nICsgY29tbW9uXzIubG9jYWxpemUoJ1VuaXQgc3dpdGNoJykgK1xuICAgICAgICAnPC9oMz4nLCAnPHA+JyArIGhhc0N1cnJlbnQgKyAnPC9wPicsICc8dWw+JywgdW5pdEN1cnJlbnQsIHVuaXRMaXN0LmpvaW4oJycpLCAnPC91bD4nKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdW5pdCcpLmlubmVySFRNTCA9IHVuaXRIdG1sLmpvaW4oJycpO1xufVxuZXhwb3J0cy51bml0ID0gdW5pdDtcblxuXG4vLyMgc291cmNlVVJMPXdlYnBhY2s6Ly8vLi91aS9yZW5kZXIvdW5pdC50cz8iKTsKCi8qKiovIH0pLAoKLyoqKi8gIi4vdWkvcmVuZGVyL3pvb20udHMiOgovKiEqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlwKICAhKioqIC4vdWkvcmVuZGVyL3pvb20udHMgKioqIQogIFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CmV2YWwoIlxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy56b29tID0gdm9pZCAwO1xuY29uc3QgY29tbW9uXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jb21tb24gKi8gXCIuL3VpL2NvbW1vbi50c1wiKTtcbmZ1bmN0aW9uIHpvb20oKSB7XG4gICAgdmFyIHpvb21UZXh0ID0gY29tbW9uXzEuc3RhdGUuem9vbSAqIDEwMCArICclJywgaW5EaXNhYmxlZCA9IChjb21tb25fMS5zdGF0ZS56b29tIDw9IC4yNSkgPyAnIGRpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJywgb3V0RGlzYWJsZWQgPSAoY29tbW9uXzEuc3RhdGUuem9vbSA+PSA0KSA/ICcgZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tJykuaW5uZXJIVE1MID0gW1xuICAgICAgICAnPGJ1dHRvbiBjbGFzcz1cInpvb20taW5cIicgKyBpbkRpc2FibGVkICsgJz48L2J1dHRvbj4nLFxuICAgICAgICAnPGxhYmVsIGNsYXNzPVwiem9vbS10ZXh0XCI+JyArIHpvb21UZXh0ICsgJzwvbGFiZWw+JyxcbiAgICAgICAgJzxidXR0b24gY2xhc3M9XCJ6b29tLW91dFwiJyArIG91dERpc2FibGVkICsgJz48L2J1dHRvbj4nXG4gICAgXS5qb2luKCcnKTtcbn1cbmV4cG9ydHMuem9vbSA9IHpvb207XG5cblxuLy8jIHNvdXJjZVVSTD13ZWJwYWNrOi8vLy4vdWkvcmVuZGVyL3pvb20udHM/Iik7CgovKioqLyB9KQoKLyoqKioqKi8gfSk7"></script>
</head>

<body id="app">
    <script>
        let data = '{{data}}';
        meaxure.render(data);
    </script>
		<p>WORKS ONLY IN CHROME</p>
		<script src="../FileSaver.js"></script>
		<script src="../jszip.js"></script>
		<script src="../jszip-utils.min.js"></script>
		<script src="../actions.js"></script>
</body>

</html>